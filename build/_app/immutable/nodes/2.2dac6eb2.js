import{s as Lt,n as it,f as ar,o as tn,h as bc,r as Cc,i as Yn,e as $a}from"../chunks/scheduler.04d9b64d.js";import{S as qt,i as Ft,g as te,m as ct,s as Oe,y as zi,h as re,j as se,n as ut,c as Pe,f as z,z as $i,A as $t,k as Y,l as rn,a as Ae,x as j,o as zt,B as Vi,r as Vt,e as xt,u as Yt,v as Qt,d as mt,t as gt,w as Jt,C as Kr,D as Yi,b as Va,p as Ya}from"../chunks/index.1c96744e.js";import{d as Tc,w as Ht}from"../chunks/index.dd566fef.js";function jr(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Qi(t,r){for(var o=0;o<r.length;o++){var i=r[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,typeof(s=function(l,d){if(typeof l!="object"||l===null)return l;var f=l[Symbol.toPrimitive];if(f!==void 0){var v=f.call(l,"string");if(typeof v!="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(l)}(i.key))=="symbol"?s:String(s),i)}var s}function Ye(t,r,o){return r&&Qi(t.prototype,r),o&&Qi(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}function de(){return de=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t},de.apply(this,arguments)}function xe(t,r){t.prototype=Object.create(r.prototype),t.prototype.constructor=t,Qn(t,r)}function Qn(t,r){return Qn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,i){return o.__proto__=i,o},Qn(t,r)}function Ji(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xi(t,r){(r==null||r>t.length)&&(r=t.length);for(var o=0,i=new Array(r);o<r;o++)i[o]=t[o];return i}function Xe(t,r){var o=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(o)return(o=o.call(t)).next.bind(o);if(Array.isArray(t)||(o=function(s,l){if(s){if(typeof s=="string")return Xi(s,l);var d=Object.prototype.toString.call(s).slice(8,-1);return d==="Object"&&s.constructor&&(d=s.constructor.name),d==="Map"||d==="Set"?Array.from(s):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?Xi(s,l):void 0}}(t))||r&&t&&typeof t.length=="number"){o&&(t=o);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ot;(function(t){t[t.Init=0]="Init",t[t.Loading=1]="Loading",t[t.Loaded=2]="Loaded",t[t.Rendered=3]="Rendered",t[t.Error=4]="Error"})(ot||(ot={}));var un,oe,Qa,Ja,br,Zi,Xa,nn={},Za=[],Sc=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Dt(t,r){for(var o in r)t[o]=r[o];return t}function es(t){var r=t.parentNode;r&&r.removeChild(t)}function F(t,r,o){var i,s,l,d={};for(l in r)l=="key"?i=r[l]:l=="ref"?s=r[l]:d[l]=r[l];if(arguments.length>2&&(d.children=arguments.length>3?un.call(arguments,2):o),typeof t=="function"&&t.defaultProps!=null)for(l in t.defaultProps)d[l]===void 0&&(d[l]=t.defaultProps[l]);return Gr(t,d,i,s,null)}function Gr(t,r,o,i,s){var l={type:t,props:r,key:o,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:s??++Qa};return s==null&&oe.vnode!=null&&oe.vnode(l),l}function Et(t){return t.children}function zr(t,r){this.props=t,this.context=r}function Ar(t,r){if(r==null)return t.__?Ar(t.__,t.__.__k.indexOf(t)+1):null;for(var o;r<t.__k.length;r++)if((o=t.__k[r])!=null&&o.__e!=null)return o.__e;return typeof t.type=="function"?Ar(t):null}function ts(t){var r,o;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,r=0;r<t.__k.length;r++)if((o=t.__k[r])!=null&&o.__e!=null){t.__e=t.__c.base=o.__e;break}return ts(t)}}function Jn(t){(!t.__d&&(t.__d=!0)&&br.push(t)&&!on.__r++||Zi!==oe.debounceRendering)&&((Zi=oe.debounceRendering)||setTimeout)(on)}function on(){for(var t;on.__r=br.length;)t=br.sort(function(r,o){return r.__v.__b-o.__v.__b}),br=[],t.some(function(r){var o,i,s,l,d,f;r.__d&&(d=(l=(o=r).__v).__e,(f=o.__P)&&(i=[],(s=Dt({},l)).__v=l.__v+1,uo(f,l,s,o.__n,f.ownerSVGElement!==void 0,l.__h!=null?[d]:null,i,d??Ar(l),l.__h),is(i,l),l.__e!=d&&ts(l)))})}function rs(t,r,o,i,s,l,d,f,v,y){var m,E,w,b,C,k,P,I=i&&i.__k||Za,L=I.length;for(o.__k=[],m=0;m<r.length;m++)if((b=o.__k[m]=(b=r[m])==null||typeof b=="boolean"?null:typeof b=="string"||typeof b=="number"||typeof b=="bigint"?Gr(null,b,null,null,b):Array.isArray(b)?Gr(Et,{children:b},null,null,null):b.__b>0?Gr(b.type,b.props,b.key,b.ref?b.ref:null,b.__v):b)!=null){if(b.__=o,b.__b=o.__b+1,(w=I[m])===null||w&&b.key==w.key&&b.type===w.type)I[m]=void 0;else for(E=0;E<L;E++){if((w=I[E])&&b.key==w.key&&b.type===w.type){I[E]=void 0;break}w=null}uo(t,b,w=w||nn,s,l,d,f,v,y),C=b.__e,(E=b.ref)&&w.ref!=E&&(P||(P=[]),w.ref&&P.push(w.ref,null,b),P.push(E,b.__c||C,b)),C!=null?(k==null&&(k=C),typeof b.type=="function"&&b.__k===w.__k?b.__d=v=ns(b,v,t):v=os(t,b,w,I,C,v),typeof o.type=="function"&&(o.__d=v)):v&&w.__e==v&&v.parentNode!=t&&(v=Ar(w))}for(o.__e=k,m=L;m--;)I[m]!=null&&ss(I[m],I[m]);if(P)for(m=0;m<P.length;m++)as(P[m],P[++m],P[++m])}function ns(t,r,o){for(var i,s=t.__k,l=0;s&&l<s.length;l++)(i=s[l])&&(i.__=t,r=typeof i.type=="function"?ns(i,r,o):os(o,i,i,s,i.__e,r));return r}function os(t,r,o,i,s,l){var d,f,v;if(r.__d!==void 0)d=r.__d,r.__d=void 0;else if(o==null||s!=l||s.parentNode==null)e:if(l==null||l.parentNode!==t)t.appendChild(s),d=null;else{for(f=l,v=0;(f=f.nextSibling)&&v<i.length;v+=1)if(f==s)break e;t.insertBefore(s,l),d=l}return d!==void 0?d:s.nextSibling}function ea(t,r,o){r[0]==="-"?t.setProperty(r,o):t[r]=o==null?"":typeof o!="number"||Sc.test(r)?o:o+"px"}function Wr(t,r,o,i,s){var l;e:if(r==="style")if(typeof o=="string")t.style.cssText=o;else{if(typeof i=="string"&&(t.style.cssText=i=""),i)for(r in i)o&&r in o||ea(t.style,r,"");if(o)for(r in o)i&&o[r]===i[r]||ea(t.style,r,o[r])}else if(r[0]==="o"&&r[1]==="n")l=r!==(r=r.replace(/Capture$/,"")),r=r.toLowerCase()in t?r.toLowerCase().slice(2):r.slice(2),t.l||(t.l={}),t.l[r+l]=o,o?i||t.addEventListener(r,l?ra:ta,l):t.removeEventListener(r,l?ra:ta,l);else if(r!=="dangerouslySetInnerHTML"){if(s)r=r.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(r!=="href"&&r!=="list"&&r!=="form"&&r!=="tabIndex"&&r!=="download"&&r in t)try{t[r]=o??"";break e}catch{}typeof o=="function"||(o==null||o===!1&&r.indexOf("-")==-1?t.removeAttribute(r):t.setAttribute(r,o))}}function ta(t){this.l[t.type+!1](oe.event?oe.event(t):t)}function ra(t){this.l[t.type+!0](oe.event?oe.event(t):t)}function uo(t,r,o,i,s,l,d,f,v){var y,m,E,w,b,C,k,P,I,L,U,D,we,H,B,O=r.type;if(r.constructor!==void 0)return null;o.__h!=null&&(v=o.__h,f=r.__e=o.__e,r.__h=null,l=[f]),(y=oe.__b)&&y(r);try{e:if(typeof O=="function"){if(P=r.props,I=(y=O.contextType)&&i[y.__c],L=y?I?I.props.value:y.__:i,o.__c?k=(m=r.__c=o.__c).__=m.__E:("prototype"in O&&O.prototype.render?r.__c=m=new O(P,L):(r.__c=m=new zr(P,L),m.constructor=O,m.render=Ic),I&&I.sub(m),m.props=P,m.state||(m.state={}),m.context=L,m.__n=i,E=m.__d=!0,m.__h=[],m._sb=[]),m.__s==null&&(m.__s=m.state),O.getDerivedStateFromProps!=null&&(m.__s==m.state&&(m.__s=Dt({},m.__s)),Dt(m.__s,O.getDerivedStateFromProps(P,m.__s))),w=m.props,b=m.state,E)O.getDerivedStateFromProps==null&&m.componentWillMount!=null&&m.componentWillMount(),m.componentDidMount!=null&&m.__h.push(m.componentDidMount);else{if(O.getDerivedStateFromProps==null&&P!==w&&m.componentWillReceiveProps!=null&&m.componentWillReceiveProps(P,L),!m.__e&&m.shouldComponentUpdate!=null&&m.shouldComponentUpdate(P,m.__s,L)===!1||r.__v===o.__v){for(m.props=P,m.state=m.__s,r.__v!==o.__v&&(m.__d=!1),m.__v=r,r.__e=o.__e,r.__k=o.__k,r.__k.forEach(function(W){W&&(W.__=r)}),U=0;U<m._sb.length;U++)m.__h.push(m._sb[U]);m._sb=[],m.__h.length&&d.push(m);break e}m.componentWillUpdate!=null&&m.componentWillUpdate(P,m.__s,L),m.componentDidUpdate!=null&&m.__h.push(function(){m.componentDidUpdate(w,b,C)})}if(m.context=L,m.props=P,m.__v=r,m.__P=t,D=oe.__r,we=0,"prototype"in O&&O.prototype.render){for(m.state=m.__s,m.__d=!1,D&&D(r),y=m.render(m.props,m.state,m.context),H=0;H<m._sb.length;H++)m.__h.push(m._sb[H]);m._sb=[]}else do m.__d=!1,D&&D(r),y=m.render(m.props,m.state,m.context),m.state=m.__s;while(m.__d&&++we<25);m.state=m.__s,m.getChildContext!=null&&(i=Dt(Dt({},i),m.getChildContext())),E||m.getSnapshotBeforeUpdate==null||(C=m.getSnapshotBeforeUpdate(w,b)),B=y!=null&&y.type===Et&&y.key==null?y.props.children:y,rs(t,Array.isArray(B)?B:[B],r,o,i,s,l,d,f,v),m.base=r.__e,r.__h=null,m.__h.length&&d.push(m),k&&(m.__E=m.__=null),m.__e=!1}else l==null&&r.__v===o.__v?(r.__k=o.__k,r.__e=o.__e):r.__e=Ac(o.__e,r,o,i,s,l,d,v);(y=oe.diffed)&&y(r)}catch(W){r.__v=null,(v||l!=null)&&(r.__e=f,r.__h=!!v,l[l.indexOf(f)]=null),oe.__e(W,r,o)}}function is(t,r){oe.__c&&oe.__c(r,t),t.some(function(o){try{t=o.__h,o.__h=[],t.some(function(i){i.call(o)})}catch(i){oe.__e(i,o.__v)}})}function Ac(t,r,o,i,s,l,d,f){var v,y,m,E=o.props,w=r.props,b=r.type,C=0;if(b==="svg"&&(s=!0),l!=null){for(;C<l.length;C++)if((v=l[C])&&"setAttribute"in v==!!b&&(b?v.localName===b:v.nodeType===3)){t=v,l[C]=null;break}}if(t==null){if(b===null)return document.createTextNode(w);t=s?document.createElementNS("http://www.w3.org/2000/svg",b):document.createElement(b,w.is&&w),l=null,f=!1}if(b===null)E===w||f&&t.data===w||(t.data=w);else{if(l=l&&un.call(t.childNodes),y=(E=o.props||nn).dangerouslySetInnerHTML,m=w.dangerouslySetInnerHTML,!f){if(l!=null)for(E={},C=0;C<t.attributes.length;C++)E[t.attributes[C].name]=t.attributes[C].value;(m||y)&&(m&&(y&&m.__html==y.__html||m.__html===t.innerHTML)||(t.innerHTML=m&&m.__html||""))}if(function(k,P,I,L,U){var D;for(D in I)D==="children"||D==="key"||D in P||Wr(k,D,null,I[D],L);for(D in P)U&&typeof P[D]!="function"||D==="children"||D==="key"||D==="value"||D==="checked"||I[D]===P[D]||Wr(k,D,P[D],I[D],L)}(t,w,E,s,f),m)r.__k=[];else if(C=r.props.children,rs(t,Array.isArray(C)?C:[C],r,o,i,s&&b!=="foreignObject",l,d,l?l[0]:o.__k&&Ar(o,0),f),l!=null)for(C=l.length;C--;)l[C]!=null&&es(l[C]);f||("value"in w&&(C=w.value)!==void 0&&(C!==t.value||b==="progress"&&!C||b==="option"&&C!==E.value)&&Wr(t,"value",C,E.value,!1),"checked"in w&&(C=w.checked)!==void 0&&C!==t.checked&&Wr(t,"checked",C,E.checked,!1))}return t}function as(t,r,o){try{typeof t=="function"?t(r):t.current=r}catch(i){oe.__e(i,o)}}function ss(t,r,o){var i,s;if(oe.unmount&&oe.unmount(t),(i=t.ref)&&(i.current&&i.current!==t.__e||as(i,null,r)),(i=t.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(l){oe.__e(l,r)}i.base=i.__P=null,t.__c=void 0}if(i=t.__k)for(s=0;s<i.length;s++)i[s]&&ss(i[s],r,o||typeof t.type!="function");o||t.__e==null||es(t.__e),t.__=t.__e=t.__d=void 0}function Ic(t,r,o){return this.constructor(t,o)}function Cr(t,r,o){var i,s,l;oe.__&&oe.__(t,r),s=(i=typeof o=="function")?null:o&&o.__k||r.__k,l=[],uo(r,t=(!i&&o||r).__k=F(Et,null,[t]),s||nn,nn,r.ownerSVGElement!==void 0,!i&&o?[o]:s?null:r.firstChild?un.call(r.childNodes):null,l,!i&&o?o:s?s.__e:r.firstChild,i),is(l,t)}function cs(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var r=16*Math.random()|0;return(t=="x"?r:3&r|8).toString(16)})}un=Za.slice,oe={__e:function(t,r,o,i){for(var s,l,d;r=r.__;)if((s=r.__c)&&!s.__)try{if((l=s.constructor)&&l.getDerivedStateFromError!=null&&(s.setState(l.getDerivedStateFromError(t)),d=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(t,i||{}),d=s.__d),d)return s.__E=s}catch(f){t=f}throw t}},Qa=0,Ja=function(t){return t!=null&&t.constructor===void 0},zr.prototype.setState=function(t,r){var o;o=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Dt({},this.state),typeof t=="function"&&(t=t(Dt({},o),this.props)),t&&Dt(o,t),t!=null&&this.__v&&(r&&this._sb.push(r),Jn(this))},zr.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Jn(this))},zr.prototype.render=Et,br=[],on.__r=0,Xa=0;var ln=function(){function t(r){this._id=void 0,this._id=r||cs()}return Ye(t,[{key:"id",get:function(){return this._id}}]),t}();function kc(t){return F(t.parentElement||"span",{dangerouslySetInnerHTML:{__html:t.content}})}function lo(t,r){return F(kc,{content:t,parentElement:r})}var Ve,ho=function(t){function r(i){var s;return(s=t.call(this)||this).data=void 0,s.update(i),s}xe(r,t);var o=r.prototype;return o.cast=function(i){return i instanceof HTMLElement?lo(i.outerHTML):i},o.update=function(i){return this.data=this.cast(i),this},r}(ln),qn=function(t){function r(i){var s;return(s=t.call(this)||this)._cells=void 0,s.cells=i||[],s}xe(r,t);var o=r.prototype;return o.cell=function(i){return this._cells[i]},o.toArray=function(){return this.cells.map(function(i){return i.data})},r.fromCells=function(i){return new r(i.map(function(s){return new ho(s.data)}))},Ye(r,[{key:"cells",get:function(){return this._cells},set:function(i){this._cells=i}},{key:"length",get:function(){return this.cells.length}}]),r}(ln),dn=function(t){function r(o){var i;return(i=t.call(this)||this)._rows=void 0,i._length=void 0,i.rows=o instanceof Array?o:o instanceof qn?[o]:[],i}return xe(r,t),r.prototype.toArray=function(){return this.rows.map(function(o){return o.toArray()})},r.fromRows=function(o){return new r(o.map(function(i){return qn.fromCells(i.cells)}))},r.fromArray=function(o){return new r((o=function(i){return!i[0]||i[0]instanceof Array?i:[i]}(o)).map(function(i){return new qn(i.map(function(s){return new ho(s)}))}))},Ye(r,[{key:"rows",get:function(){return this._rows},set:function(o){this._rows=o}},{key:"length",get:function(){return this._length||this.rows.length},set:function(o){this._length=o}}]),r}(ln),po=function(){function t(){this.callbacks=void 0}var r=t.prototype;return r.init=function(o){this.callbacks||(this.callbacks={}),o&&!this.callbacks[o]&&(this.callbacks[o]=[])},r.listeners=function(){return this.callbacks},r.on=function(o,i){return this.init(o),this.callbacks[o].push(i),this},r.off=function(o,i){var s=o;return this.init(),this.callbacks[s]&&this.callbacks[s].length!==0?(this.callbacks[s]=this.callbacks[s].filter(function(l){return l!=i}),this):this},r.emit=function(o){var i=arguments,s=o;return this.init(s),this.callbacks[s].length>0&&(this.callbacks[s].forEach(function(l){return l.apply(void 0,[].slice.call(i,1))}),!0)},t}();(function(t){t[t.Initiator=0]="Initiator",t[t.ServerFilter=1]="ServerFilter",t[t.ServerSort=2]="ServerSort",t[t.ServerLimit=3]="ServerLimit",t[t.Extractor=4]="Extractor",t[t.Transformer=5]="Transformer",t[t.Filter=6]="Filter",t[t.Sort=7]="Sort",t[t.Limit=8]="Limit"})(Ve||(Ve={}));var Tt=function(t){function r(i){var s;return(s=t.call(this)||this).id=void 0,s._props=void 0,s._props={},s.id=cs(),i&&s.setProps(i),s}xe(r,t);var o=r.prototype;return o.process=function(){var i=[].slice.call(arguments);this.validateProps instanceof Function&&this.validateProps.apply(this,i),this.emit.apply(this,["beforeProcess"].concat(i));var s=this._process.apply(this,i);return this.emit.apply(this,["afterProcess"].concat(i)),s},o.setProps=function(i){return Object.assign(this._props,i),this.emit("propsUpdated",this),this},Ye(r,[{key:"props",get:function(){return this._props}}]),r}(po),Rc=function(t){function r(){return t.apply(this,arguments)||this}return xe(r,t),r.prototype._process=function(o){return this.props.keyword?(i=String(this.props.keyword).trim(),s=this.props.columns,l=this.props.ignoreHiddenColumns,d=o,f=this.props.selector,i=i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),new dn(d.rows.filter(function(v,y){return v.cells.some(function(m,E){if(!m||l&&s&&s[E]&&typeof s[E]=="object"&&s[E].hidden)return!1;var w="";if(typeof f=="function")w=f(m.data,y,E);else if(typeof m.data=="object"){var b=m.data;b&&b.props&&b.props.content&&(w=b.props.content)}else w=String(m.data);return new RegExp(i,"gi").test(w)})}))):o;var i,s,l,d,f},Ye(r,[{key:"type",get:function(){return Ve.Filter}}]),r}(Tt);function ce(){var t="gridjs";return""+t+[].slice.call(arguments).reduce(function(r,o){return r+"-"+o},"")}function be(){return[].slice.call(arguments).map(function(t){return t?t.toString():""}).filter(function(t){return t}).reduce(function(t,r){return(t||"")+" "+r},"").trim()}var Pr,Ne,Fn,na,oa=function(t){function r(){return t.apply(this,arguments)||this}return xe(r,t),r.prototype._process=function(o){if(!this.props.keyword)return o;var i={};return this.props.url&&(i.url=this.props.url(o.url,this.props.keyword)),this.props.body&&(i.body=this.props.body(o.body,this.props.keyword)),de({},o,i)},Ye(r,[{key:"type",get:function(){return Ve.ServerFilter}}]),r}(Tt),Ir=0,us=[],$r=[],ia=oe.__b,aa=oe.__r,sa=oe.diffed,ca=oe.__c,ua=oe.unmount;function hn(t,r){oe.__h&&oe.__h(Ne,t,Ir||r),Ir=0;var o=Ne.__H||(Ne.__H={__:[],__h:[]});return t>=o.__.length&&o.__.push({__V:$r}),o.__[t]}function It(t){return Ir=1,function(r,o,i){var s=hn(Pr++,2);if(s.t=r,!s.__c&&(s.__=[da(void 0,o),function(d){var f=s.__N?s.__N[0]:s.__[0],v=s.t(f,d);f!==v&&(s.__N=[v,s.__[1]],s.__c.setState({}))}],s.__c=Ne,!Ne.u)){Ne.u=!0;var l=Ne.shouldComponentUpdate;Ne.shouldComponentUpdate=function(d,f,v){if(!s.__c.__H)return!0;var y=s.__c.__H.__.filter(function(E){return E.__c});if(y.every(function(E){return!E.__N}))return!l||l.call(this,d,f,v);var m=!1;return y.forEach(function(E){if(E.__N){var w=E.__[0];E.__=E.__N,E.__N=void 0,w!==E.__[0]&&(m=!0)}}),!(!m&&s.__c.props===d)&&(!l||l.call(this,d,f,v))}}return s.__N||s.__}(da,t)}function et(t,r){var o=hn(Pr++,3);!oe.__s&&ds(o.__H,r)&&(o.__=t,o.i=r,Ne.__H.__h.push(o))}function Nr(t){return Ir=5,ls(function(){return{current:t}},[])}function ls(t,r){var o=hn(Pr++,7);return ds(o.__H,r)?(o.__V=t(),o.i=r,o.__h=t,o.__V):o.__}function Oc(){for(var t;t=us.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Vr),t.__H.__h.forEach(Xn),t.__H.__h=[]}catch(r){t.__H.__h=[],oe.__e(r,t.__v)}}oe.__b=function(t){Ne=null,ia&&ia(t)},oe.__r=function(t){aa&&aa(t),Pr=0;var r=(Ne=t.__c).__H;r&&(Fn===Ne?(r.__h=[],Ne.__h=[],r.__.forEach(function(o){o.__N&&(o.__=o.__N),o.__V=$r,o.__N=o.i=void 0})):(r.__h.forEach(Vr),r.__h.forEach(Xn),r.__h=[])),Fn=Ne},oe.diffed=function(t){sa&&sa(t);var r=t.__c;r&&r.__H&&(r.__H.__h.length&&(us.push(r)!==1&&na===oe.requestAnimationFrame||((na=oe.requestAnimationFrame)||Pc)(Oc)),r.__H.__.forEach(function(o){o.i&&(o.__H=o.i),o.__V!==$r&&(o.__=o.__V),o.i=void 0,o.__V=$r})),Fn=Ne=null},oe.__c=function(t,r){r.some(function(o){try{o.__h.forEach(Vr),o.__h=o.__h.filter(function(i){return!i.__||Xn(i)})}catch(i){r.some(function(s){s.__h&&(s.__h=[])}),r=[],oe.__e(i,o.__v)}}),ca&&ca(t,r)},oe.unmount=function(t){ua&&ua(t);var r,o=t.__c;o&&o.__H&&(o.__H.__.forEach(function(i){try{Vr(i)}catch(s){r=s}}),o.__H=void 0,r&&oe.__e(r,o.__v))};var la=typeof requestAnimationFrame=="function";function Pc(t){var r,o=function(){clearTimeout(i),la&&cancelAnimationFrame(r),setTimeout(t)},i=setTimeout(o,100);la&&(r=requestAnimationFrame(o))}function Vr(t){var r=Ne,o=t.__c;typeof o=="function"&&(t.__c=void 0,o()),Ne=r}function Xn(t){var r=Ne;t.__c=t.__(),Ne=r}function ds(t,r){return!t||t.length!==r.length||r.some(function(o,i){return o!==t[i]})}function da(t,r){return typeof r=="function"?r(t):r}function tt(){return function(t){var r=Ne.context[t.__c],o=hn(Pr++,9);return o.c=t,r?(o.__==null&&(o.__=!0,r.sub(Ne)),r.props.value):t.__}(fs)}var Nc={search:{placeholder:"Type a keyword..."},sort:{sortAsc:"Sort column ascending",sortDesc:"Sort column descending"},pagination:{previous:"Previous",next:"Next",navigate:function(t,r){return"Page "+t+" of "+r},page:function(t){return"Page "+t},showing:"Showing",of:"of",to:"to",results:"results"},loading:"Loading...",noRecordsFound:"No matching records found",error:"An error happened while fetching the data"},Uc=function(){function t(o){this._language=void 0,this._defaultLanguage=void 0,this._language=o,this._defaultLanguage=Nc}var r=t.prototype;return r.getString=function(o,i){if(!i||!o)return null;var s=o.split("."),l=s[0];if(i[l]){var d=i[l];return typeof d=="string"?function(){return d}:typeof d=="function"?d:this.getString(s.slice(1).join("."),d)}return null},r.translate=function(o){var i,s=this.getString(o,this._language);return(i=s||this.getString(o,this._defaultLanguage))?i.apply(void 0,[].slice.call(arguments,1)):o},t}();function pn(){var t=tt();return function(r){var o;return(o=t.translator).translate.apply(o,[r].concat([].slice.call(arguments,1)))}}var ha=function(t){return function(r){return de({},r,{search:{keyword:t}})}};function dr(){return tt().store}function Ct(t){var r=dr(),o=It(t(r.getState())),i=o[0],s=o[1];return et(function(){return r.subscribe(function(){var l=t(r.getState());i!==l&&s(l)})},[]),i}function Mc(){var t,r=It(void 0),o=r[0],i=r[1],s=tt(),l=s.search,d=pn(),f=dr().dispatch,v=Ct(function(b){return b.search});et(function(){o&&o.setProps({keyword:v==null?void 0:v.keyword})},[v,o]),et(function(){i(l.server?new oa({keyword:l.keyword,url:l.server.url,body:l.server.body}):new Rc({keyword:l.keyword,columns:s.header&&s.header.columns,ignoreHiddenColumns:l.ignoreHiddenColumns||l.ignoreHiddenColumns===void 0,selector:l.selector})),l.keyword&&f(ha(l.keyword))},[l]),et(function(){return s.pipeline.register(o),function(){return s.pipeline.unregister(o)}},[s,o]);var y,m,E,w=function(b,C){return Ir=8,ls(function(){return b},C)}((y=function(b){b.target instanceof HTMLInputElement&&f(ha(b.target.value))},m=o instanceof oa?l.debounceTimeout||250:0,function(){var b=arguments;return new Promise(function(C){E&&clearTimeout(E),E=setTimeout(function(){return C(y.apply(void 0,[].slice.call(b)))},m)})}),[l,o]);return F("div",{className:ce(be("search",(t=s.className)==null?void 0:t.search))},F("input",{type:"search",placeholder:d("search.placeholder"),"aria-label":d("search.placeholder"),onInput:w,className:be(ce("input"),ce("search","input")),value:(v==null?void 0:v.keyword)||""}))}var pa=function(t){function r(){return t.apply(this,arguments)||this}xe(r,t);var o=r.prototype;return o.validateProps=function(){if(isNaN(Number(this.props.limit))||isNaN(Number(this.props.page)))throw Error("Invalid parameters passed")},o._process=function(i){var s=this.props.page;return new dn(i.rows.slice(s*this.props.limit,(s+1)*this.props.limit))},Ye(r,[{key:"type",get:function(){return Ve.Limit}}]),r}(Tt),fa=function(t){function r(){return t.apply(this,arguments)||this}return xe(r,t),r.prototype._process=function(o){var i={};return this.props.url&&(i.url=this.props.url(o.url,this.props.page,this.props.limit)),this.props.body&&(i.body=this.props.body(o.body,this.props.page,this.props.limit)),de({},o,i)},Ye(r,[{key:"type",get:function(){return Ve.ServerLimit}}]),r}(Tt);function Dc(){var t=tt(),r=t.pagination,o=r.server,i=r.summary,s=i===void 0||i,l=r.nextButton,d=l===void 0||l,f=r.prevButton,v=f===void 0||f,y=r.buttonsCount,m=y===void 0?3:y,E=r.limit,w=E===void 0?10:E,b=r.page,C=b===void 0?0:b,k=r.resetPageOnUpdate,P=k===void 0||k,I=Nr(null),L=It(C),U=L[0],D=L[1],we=It(0),H=we[0],B=we[1],O=pn();et(function(){return I.current=o?new fa({limit:w,page:U,url:o.url,body:o.body}):new pa({limit:w,page:U}),I.current instanceof fa?t.pipeline.on("afterProcess",function(Z){return B(Z.length)}):I.current instanceof pa&&I.current.on("beforeProcess",function(Z){return B(Z.length)}),t.pipeline.on("updated",W),t.pipeline.register(I.current),t.pipeline.on("error",function(){B(0),D(0)}),function(){t.pipeline.unregister(I.current),t.pipeline.off("updated",W)}},[]);var W=function(Z){P&&Z!==I.current&&D(0)},K=function(){return Math.ceil(H/w)},le=function(Z){if(Z>=K()||Z<0||Z===U)return null;D(Z),I.current.setProps({page:Z})};return F("div",{className:be(ce("pagination"),t.className.pagination)},F(Et,null,s&&H>0&&F("div",{role:"status","aria-live":"polite",className:be(ce("summary"),t.className.paginationSummary),title:O("pagination.navigate",U+1,K())},O("pagination.showing")," ",F("b",null,O(""+(U*w+1)))," ",O("pagination.to")," ",F("b",null,O(""+Math.min((U+1)*w,H)))," ",O("pagination.of")," ",F("b",null,O(""+H))," ",O("pagination.results"))),F("div",{className:ce("pages")},v&&F("button",{tabIndex:0,role:"button",disabled:U===0,onClick:function(){return le(U-1)},title:O("pagination.previous"),"aria-label":O("pagination.previous"),className:be(t.className.paginationButton,t.className.paginationButtonPrev)},O("pagination.previous")),function(){if(m<=0)return null;var Z=Math.min(K(),m),he=Math.min(U,Math.floor(Z/2));return U+Math.floor(Z/2)>=K()&&(he=Z-(K()-U)),F(Et,null,K()>Z&&U-he>0&&F(Et,null,F("button",{tabIndex:0,role:"button",onClick:function(){return le(0)},title:O("pagination.firstPage"),"aria-label":O("pagination.firstPage"),className:t.className.paginationButton},O("1")),F("button",{tabIndex:-1,className:be(ce("spread"),t.className.paginationButton)},"...")),Array.from(Array(Z).keys()).map(function(X){return U+(X-he)}).map(function(X){return F("button",{tabIndex:0,role:"button",onClick:function(){return le(X)},className:be(U===X?be(ce("currentPage"),t.className.paginationButtonCurrent):null,t.className.paginationButton),title:O("pagination.page",X+1),"aria-label":O("pagination.page",X+1)},O(""+(X+1)))}),K()>Z&&K()>U+he+1&&F(Et,null,F("button",{tabIndex:-1,className:be(ce("spread"),t.className.paginationButton)},"..."),F("button",{tabIndex:0,role:"button",onClick:function(){return le(K()-1)},title:O("pagination.page",K()),"aria-label":O("pagination.page",K()),className:t.className.paginationButton},O(""+K()))))}(),d&&F("button",{tabIndex:0,role:"button",disabled:K()===U+1||K()===0,onClick:function(){return le(U+1)},title:O("pagination.next"),"aria-label":O("pagination.next"),className:be(t.className.paginationButton,t.className.paginationButtonNext)},O("pagination.next"))))}function xc(t,r){return typeof t=="string"?t.indexOf("%")>-1?r/100*parseInt(t,10):parseInt(t,10):t}function Hn(t){return t?Math.floor(t)+"px":""}function Lc(t){var r=t.tableRef.cloneNode(!0);return r.style.position="absolute",r.style.width="100%",r.style.zIndex="-2147483640",r.style.visibility="hidden",F("div",{ref:function(o){o&&o.appendChild(r)}})}function qc(t){if(!t)return"";var r=t.split(" ");return r.length===1&&/([a-z][A-Z])+/g.test(t)?t:r.map(function(o,i){return i==0?o.toLowerCase():o.charAt(0).toUpperCase()+o.slice(1).toLowerCase()}).join("")}var Xt,lt=new(function(){function t(){}var r=t.prototype;return r.format=function(o,i){return"[Grid.js] ["+i.toUpperCase()+"]: "+o},r.error=function(o,i){i===void 0&&(i=!1);var s=this.format(o,"error");if(i)throw Error(s);console.error(s)},r.warn=function(o){console.warn(this.format(o,"warn"))},r.info=function(o){console.info(this.format(o,"info"))},t}());(function(t){t[t.Header=0]="Header",t[t.Footer=1]="Footer",t[t.Cell=2]="Cell"})(Xt||(Xt={}));var Fc=function(){function t(){this.plugins=void 0,this.plugins=[]}var r=t.prototype;return r.get=function(o){return this.plugins.find(function(i){return i.id===o})},r.add=function(o){return o.id?this.get(o.id)?(lt.error("Duplicate plugin ID: "+o.id),this):(this.plugins.push(o),this):(lt.error("Plugin ID cannot be empty"),this)},r.remove=function(o){var i=this.get(o);return i&&this.plugins.splice(this.plugins.indexOf(i),1),this},r.list=function(o){var i;return i=o!=null||o!=null?this.plugins.filter(function(s){return s.position===o}):this.plugins,i.sort(function(s,l){return s.order&&l.order?s.order-l.order:1})},t}();function fn(t){var r=this,o=tt();if(t.pluginId){var i=o.plugin.get(t.pluginId);return i?F(Et,{},F(i.component,de({plugin:i},t.props))):null}return t.position!==void 0?F(Et,{},o.plugin.list(t.position).map(function(s){return F(s.component,de({plugin:s},r.props.props))})):null}var ur=function(t){function r(){var i;return(i=t.call(this)||this)._columns=void 0,i._columns=[],i}xe(r,t);var o=r.prototype;return o.adjustWidth=function(i,s,l){var d=i.container,f=i.autoWidth;if(!d)return this;var v=d.clientWidth,y={};s.current&&f&&(Cr(F(Lc,{tableRef:s.current}),l.current),y=function(b){var C=b.querySelector("table");if(!C)return{};var k=C.className,P=C.style.cssText;C.className=k+" "+ce("shadowTable"),C.style.tableLayout="auto",C.style.width="auto",C.style.padding="0",C.style.margin="0",C.style.border="none",C.style.outline="none";var I=Array.from(C.parentNode.querySelectorAll("thead th")).reduce(function(L,U){var D;return U.style.width=U.clientWidth+"px",de(((D={})[U.getAttribute("data-column-id")]={minWidth:U.clientWidth},D),L)},{});return C.className=k,C.style.cssText=P,C.style.tableLayout="auto",Array.from(C.parentNode.querySelectorAll("thead th")).reduce(function(L,U){return L[U.getAttribute("data-column-id")].width=U.clientWidth,L},I)}(l.current));for(var m,E=Xe(r.tabularFormat(this.columns).reduce(function(b,C){return b.concat(C)},[]));!(m=E()).done;){var w=m.value;w.columns&&w.columns.length>0||(!w.width&&f?w.id in y&&(w.width=Hn(y[w.id].width),w.minWidth=Hn(y[w.id].minWidth)):w.width=Hn(xc(w.width,v)))}return s.current&&f&&Cr(null,l.current),this},o.setSort=function(i,s){for(var l,d=Xe(s||this.columns||[]);!(l=d()).done;){var f=l.value;f.columns&&f.columns.length>0?f.sort=void 0:f.sort===void 0&&i?f.sort={}:f.sort?typeof f.sort=="object"&&(f.sort=de({},f.sort)):f.sort=void 0,f.columns&&this.setSort(i,f.columns)}},o.setResizable=function(i,s){for(var l,d=Xe(s||this.columns||[]);!(l=d()).done;){var f=l.value;f.resizable===void 0&&(f.resizable=i),f.columns&&this.setResizable(i,f.columns)}},o.setID=function(i){for(var s,l=Xe(i||this.columns||[]);!(s=l()).done;){var d=s.value;d.id||typeof d.name!="string"||(d.id=qc(d.name)),d.id||lt.error('Could not find a valid ID for one of the columns. Make sure a valid "id" is set for all columns.'),d.columns&&this.setID(d.columns)}},o.populatePlugins=function(i,s){for(var l,d=Xe(s);!(l=d()).done;){var f=l.value;f.plugin!==void 0&&i.add(de({id:f.id},f.plugin,{position:Xt.Cell}))}},r.fromColumns=function(i){for(var s,l=new r,d=Xe(i);!(s=d()).done;){var f=s.value;if(typeof f=="string"||Ja(f))l.columns.push({name:f});else if(typeof f=="object"){var v=f;v.columns&&(v.columns=r.fromColumns(v.columns).columns),typeof v.plugin=="object"&&v.data===void 0&&(v.data=null),l.columns.push(f)}}return l},r.createFromConfig=function(i){var s=new r;return i.from?s.columns=r.fromHTMLTable(i.from).columns:i.columns?s.columns=r.fromColumns(i.columns).columns:!i.data||typeof i.data[0]!="object"||i.data[0]instanceof Array||(s.columns=Object.keys(i.data[0]).map(function(l){return{name:l}})),s.columns.length?(s.setID(),s.setSort(i.sort),s.setResizable(i.resizable),s.populatePlugins(i.plugin,s.columns),s):null},r.fromHTMLTable=function(i){for(var s,l=new r,d=Xe(i.querySelector("thead").querySelectorAll("th"));!(s=d()).done;){var f=s.value;l.columns.push({name:f.innerHTML,width:f.width})}return l},r.tabularFormat=function(i){var s=[],l=i||[],d=[];if(l&&l.length){s.push(l);for(var f,v=Xe(l);!(f=v()).done;){var y=f.value;y.columns&&y.columns.length&&(d=d.concat(y.columns))}d.length&&(s=s.concat(this.tabularFormat(d)))}return s},r.leafColumns=function(i){var s=[],l=i||[];if(l&&l.length)for(var d,f=Xe(l);!(d=f()).done;){var v=d.value;v.columns&&v.columns.length!==0||s.push(v),v.columns&&(s=s.concat(this.leafColumns(v.columns)))}return s},r.maximumDepth=function(i){return this.tabularFormat([i]).length-1},Ye(r,[{key:"columns",get:function(){return this._columns},set:function(i){this._columns=i}},{key:"visibleColumns",get:function(){return this._columns.filter(function(i){return!i.hidden})}}]),r}(ln),hs=function(){},ma=function(t){function r(i){var s;return(s=t.call(this)||this).data=void 0,s.set(i),s}xe(r,t);var o=r.prototype;return o.get=function(){try{return Promise.resolve(this.data()).then(function(i){return{data:i,total:i.length}})}catch(i){return Promise.reject(i)}},o.set=function(i){return i instanceof Array?this.data=function(){return i}:i instanceof Function&&(this.data=i),this},r}(hs),ps=function(t){function r(i){var s;return(s=t.call(this)||this).options=void 0,s.options=i,s}xe(r,t);var o=r.prototype;return o.handler=function(i){return typeof this.options.handle=="function"?this.options.handle(i):i.ok?i.json():(lt.error("Could not fetch data: "+i.status+" - "+i.statusText,!0),null)},o.get=function(i){var s=de({},this.options,i);return typeof s.data=="function"?s.data(s):fetch(s.url,s).then(this.handler.bind(this)).then(function(l){return{data:s.then(l),total:typeof s.total=="function"?s.total(l):void 0}})},r}(hs),Hc=function(){function t(){}return t.createFromConfig=function(r){var o=null;return r.data&&(o=new ma(r.data)),r.from&&(o=new ma(this.tableElementToArray(r.from)),r.from.style.display="none"),r.server&&(o=new ps(r.server)),o||lt.error("Could not determine the storage type",!0),o},t.tableElementToArray=function(r){for(var o,i,s=[],l=Xe(r.querySelector("tbody").querySelectorAll("tr"));!(o=l()).done;){for(var d,f=[],v=Xe(o.value.querySelectorAll("td"));!(d=v()).done;){var y=d.value;y.childNodes.length===1&&y.childNodes[0].nodeType===Node.TEXT_NODE?f.push((i=y.innerHTML,new DOMParser().parseFromString(i,"text/html").documentElement.textContent)):f.push(lo(y.innerHTML))}s.push(f)}return s},t}(),ga=typeof Symbol<"u"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function Ze(t,r,o){if(!t.s){if(o instanceof sr){if(!o.s)return void(o.o=Ze.bind(null,t,r));1&r&&(r=o.s),o=o.v}if(o&&o.then)return void o.then(Ze.bind(null,t,r),Ze.bind(null,t,2));t.s=r,t.v=o;var i=t.o;i&&i(t)}}var sr=function(){function t(){}return t.prototype.then=function(r,o){var i=new t,s=this.s;if(s){var l=1&s?r:o;if(l){try{Ze(i,1,l(this.v))}catch(d){Ze(i,2,d)}return i}return this}return this.o=function(d){try{var f=d.v;1&d.s?Ze(i,1,r?r(f):f):o?Ze(i,1,o(f)):Ze(i,2,f)}catch(v){Ze(i,2,v)}},i},t}();function ya(t){return t instanceof sr&&1&t.s}var Bc=function(t){function r(i){var s;return(s=t.call(this)||this)._steps=new Map,s.cache=new Map,s.lastProcessorIndexUpdated=-1,i&&i.forEach(function(l){return s.register(l)}),s}xe(r,t);var o=r.prototype;return o.clearCache=function(){this.cache=new Map,this.lastProcessorIndexUpdated=-1},o.register=function(i,s){if(s===void 0&&(s=null),i){if(i.type===null)throw Error("Processor type is not defined");i.on("propsUpdated",this.processorPropsUpdated.bind(this)),this.addProcessorByPriority(i,s),this.afterRegistered(i)}},o.unregister=function(i){if(i){var s=this._steps.get(i.type);s&&s.length&&(this._steps.set(i.type,s.filter(function(l){return l!=i})),this.emit("updated",i))}},o.addProcessorByPriority=function(i,s){var l=this._steps.get(i.type);if(!l){var d=[];this._steps.set(i.type,d),l=d}if(s===null||s<0)l.push(i);else if(l[s]){var f=l.slice(0,s-1),v=l.slice(s+1);this._steps.set(i.type,f.concat(i).concat(v))}else l[s]=i},o.getStepsByType=function(i){return this.steps.filter(function(s){return s.type===i})},o.getSortedProcessorTypes=function(){return Object.keys(Ve).filter(function(i){return!isNaN(Number(i))}).map(function(i){return Number(i)})},o.process=function(i){try{var s=function(m){return l.lastProcessorIndexUpdated=f.length,l.emit("afterProcess",v),v},l=this,d=l.lastProcessorIndexUpdated,f=l.steps,v=i,y=function(m,E){try{var w=function(b,C,k){if(typeof b[ga]=="function"){var P,I,L,U=b[ga]();if(function B(O){try{for(;!(P=U.next()).done;)if((O=C(P.value))&&O.then){if(!ya(O))return void O.then(B,L||(L=Ze.bind(null,I=new sr,2)));O=O.v}I?Ze(I,1,O):I=O}catch(W){Ze(I||(I=new sr),2,W)}}(),U.return){var D=function(B){try{P.done||U.return()}catch{}return B};if(I&&I.then)return I.then(D,function(B){throw D(B)});D()}return I}if(!("length"in b))throw new TypeError("Object is not iterable");for(var we=[],H=0;H<b.length;H++)we.push(b[H]);return function(B,O,W){var K,le,Z=-1;return function he(X){try{for(;++Z<B.length;)if((X=O(Z))&&X.then){if(!ya(X))return void X.then(he,le||(le=Ze.bind(null,K=new sr,2)));X=X.v}K?Ze(K,1,X):K=X}catch(x){Ze(K||(K=new sr),2,x)}}(),K}(we,function(B){return C(we[B])})}(f,function(b){var C=l.findProcessorIndexByID(b.id),k=function(){if(C>=d)return Promise.resolve(b.process(v)).then(function(P){l.cache.set(b.id,v=P)});v=l.cache.get(b.id)}();if(k&&k.then)return k.then(function(){})})}catch(b){return E(b)}return w&&w.then?w.then(void 0,E):w}(0,function(m){throw lt.error(m),l.emit("error",v),m});return Promise.resolve(y&&y.then?y.then(s):s())}catch(m){return Promise.reject(m)}},o.findProcessorIndexByID=function(i){return this.steps.findIndex(function(s){return s.id==i})},o.setLastProcessorIndex=function(i){var s=this.findProcessorIndexByID(i.id);this.lastProcessorIndexUpdated>s&&(this.lastProcessorIndexUpdated=s)},o.processorPropsUpdated=function(i){this.setLastProcessorIndex(i),this.emit("propsUpdated"),this.emit("updated",i)},o.afterRegistered=function(i){this.setLastProcessorIndex(i),this.emit("afterRegister"),this.emit("updated",i)},Ye(r,[{key:"steps",get:function(){for(var i,s=[],l=Xe(this.getSortedProcessorTypes());!(i=l()).done;){var d=this._steps.get(i.value);d&&d.length&&(s=s.concat(d))}return s.filter(function(f){return f})}}]),r}(po),Kc=function(t){function r(){return t.apply(this,arguments)||this}return xe(r,t),r.prototype._process=function(o){try{return Promise.resolve(this.props.storage.get(o))}catch(i){return Promise.reject(i)}},Ye(r,[{key:"type",get:function(){return Ve.Extractor}}]),r}(Tt),jc=function(t){function r(){return t.apply(this,arguments)||this}return xe(r,t),r.prototype._process=function(o){var i=dn.fromArray(o.data);return i.length=o.total,i},Ye(r,[{key:"type",get:function(){return Ve.Transformer}}]),r}(Tt),Wc=function(t){function r(){return t.apply(this,arguments)||this}return xe(r,t),r.prototype._process=function(){return Object.entries(this.props.serverStorageOptions).filter(function(o){return typeof o[1]!="function"}).reduce(function(o,i){var s;return de({},o,((s={})[i[0]]=i[1],s))},{})},Ye(r,[{key:"type",get:function(){return Ve.Initiator}}]),r}(Tt),Gc=function(t){function r(){return t.apply(this,arguments)||this}xe(r,t);var o=r.prototype;return o.castData=function(i){if(!i||!i.length)return[];if(!this.props.header||!this.props.header.columns)return i;var s=ur.leafColumns(this.props.header.columns);return i[0]instanceof Array?i.map(function(l){var d=0;return s.map(function(f,v){return f.data!==void 0?(d++,typeof f.data=="function"?f.data(l):f.data):l[v-d]})}):typeof i[0]!="object"||i[0]instanceof Array?[]:i.map(function(l){return s.map(function(d,f){return d.data!==void 0?typeof d.data=="function"?d.data(l):d.data:d.id?l[d.id]:(lt.error("Could not find the correct cell for column at position "+f+`.
                          Make sure either 'id' or 'selector' is defined for all columns.`),null)})})},o._process=function(i){return{data:this.castData(i.data),total:i.total}},Ye(r,[{key:"type",get:function(){return Ve.Transformer}}]),r}(Tt),zc=function(){function t(){}return t.createFromConfig=function(r){var o=new Bc;return r.storage instanceof ps&&o.register(new Wc({serverStorageOptions:r.server})),o.register(new Kc({storage:r.storage})),o.register(new Gc({header:r.header})),o.register(new jc),o},t}(),$c=function(t){var r=this;this.state=void 0,this.listeners=[],this.isDispatching=!1,this.getState=function(){return r.state},this.getListeners=function(){return r.listeners},this.dispatch=function(o){if(typeof o!="function")throw new Error("Reducer is not a function");if(r.isDispatching)throw new Error("Reducers may not dispatch actions");r.isDispatching=!0;var i=r.state;try{r.state=o(r.state)}finally{r.isDispatching=!1}for(var s,l=Xe(r.listeners);!(s=l()).done;)(0,s.value)(r.state,i);return r.state},this.subscribe=function(o){if(typeof o!="function")throw new Error("Listener is not a function");return r.listeners=[].concat(r.listeners,[o]),function(){return r.listeners=r.listeners.filter(function(i){return i!==o})}},this.state=t},fs=function(t,r){var o={__c:r="__cC"+Xa++,__:null,Consumer:function(i,s){return i.children(s)},Provider:function(i){var s,l;return this.getChildContext||(s=[],(l={})[r]=this,this.getChildContext=function(){return l},this.shouldComponentUpdate=function(d){this.props.value!==d.value&&s.some(Jn)},this.sub=function(d){s.push(d);var f=d.componentWillUnmount;d.componentWillUnmount=function(){s.splice(s.indexOf(d),1),f&&f.call(d)}}),i.children}};return o.Provider.__=o.Consumer.contextType=o}(),Vc=function(){function t(){Object.assign(this,t.defaultConfig())}var r=t.prototype;return r.assign=function(o){return Object.assign(this,o)},r.update=function(o){return o?(this.assign(t.fromPartialConfig(de({},this,o))),this):this},t.defaultConfig=function(){return{store:new $c({status:ot.Init,header:void 0,data:null}),plugin:new Fc,tableRef:{current:null},width:"100%",height:"auto",autoWidth:!0,style:{},className:{}}},t.fromPartialConfig=function(o){var i=new t().assign(o);return typeof o.sort=="boolean"&&o.sort&&i.assign({sort:{multiColumn:!0}}),i.assign({header:ur.createFromConfig(i)}),i.assign({storage:Hc.createFromConfig(i)}),i.assign({pipeline:zc.createFromConfig(i)}),i.assign({translator:new Uc(i.language)}),i.search&&i.plugin.add({id:"search",position:Xt.Header,component:Mc}),i.pagination&&i.plugin.add({id:"pagination",position:Xt.Footer,component:Dc}),i.plugins&&i.plugins.forEach(function(s){return i.plugin.add(s)}),i},t}();function ms(t){var r,o=tt();return F("td",de({role:t.role,colSpan:t.colSpan,"data-column-id":t.column&&t.column.id,className:be(ce("td"),t.className,o.className.td),style:de({},t.style,o.style.td),onClick:function(i){t.messageCell||o.eventEmitter.emit("cellClick",i,t.cell,t.column,t.row)}},(r=t.column)?typeof r.attributes=="function"?r.attributes(t.cell.data,t.row,t.column):r.attributes:{}),t.column&&typeof t.column.formatter=="function"?t.column.formatter(t.cell.data,t.row,t.column):t.column&&t.column.plugin?F(fn,{pluginId:t.column.id,props:{column:t.column,cell:t.cell,row:t.row}}):t.cell.data)}function fo(t){var r=tt(),o=Ct(function(i){return i.header});return F("tr",{className:be(ce("tr"),r.className.tr),onClick:function(i){t.messageRow||r.eventEmitter.emit("rowClick",i,t.row)}},t.children?t.children:t.row.cells.map(function(i,s){var l=function(d){if(o){var f=ur.leafColumns(o.columns);if(f)return f[d]}return null}(s);return l&&l.hidden?null:F(ms,{key:i.id,cell:i,row:t.row,column:l})}))}function Bn(t){return F(fo,{messageRow:!0},F(ms,{role:"alert",colSpan:t.colSpan,messageCell:!0,cell:new ho(t.message),className:be(ce("message"),t.className?t.className:null)}))}function Yc(){var t=tt(),r=Ct(function(d){return d.data}),o=Ct(function(d){return d.status}),i=Ct(function(d){return d.header}),s=pn(),l=function(){return i?i.visibleColumns.length:0};return F("tbody",{className:be(ce("tbody"),t.className.tbody)},r&&r.rows.map(function(d){return F(fo,{key:d.id,row:d})}),o===ot.Loading&&(!r||r.length===0)&&F(Bn,{message:s("loading"),colSpan:l(),className:be(ce("loading"),t.className.loading)}),o===ot.Rendered&&r&&r.length===0&&F(Bn,{message:s("noRecordsFound"),colSpan:l(),className:be(ce("notfound"),t.className.notfound)}),o===ot.Error&&F(Bn,{message:s("error"),colSpan:l(),className:be(ce("error"),t.className.error)}))}var Qc=function(t){function r(){return t.apply(this,arguments)||this}xe(r,t);var o=r.prototype;return o.validateProps=function(){for(var i,s=Xe(this.props.columns);!(i=s()).done;){var l=i.value;l.direction===void 0&&(l.direction=1),l.direction!==1&&l.direction!==-1&&lt.error("Invalid sort direction "+l.direction)}},o.compare=function(i,s){return i>s?1:i<s?-1:0},o.compareWrapper=function(i,s){for(var l,d=0,f=Xe(this.props.columns);!(l=f()).done;){var v=l.value;if(d!==0)break;var y=i.cells[v.index].data,m=s.cells[v.index].data;d|=typeof v.compare=="function"?v.compare(y,m)*v.direction:this.compare(y,m)*v.direction}return d},o._process=function(i){var s=[].concat(i.rows);s.sort(this.compareWrapper.bind(this));var l=new dn(s);return l.length=i.length,l},Ye(r,[{key:"type",get:function(){return Ve.Sort}}]),r}(Tt),va=function(t,r,o,i){return function(s){var l=s.sort?[].concat(s.sort.columns):[],d=l.length,f=l.find(function(C){return C.index===t}),v=!1,y=!1,m=!1,E=!1;if(f!==void 0?o?f.direction===-1?m=!0:E=!0:d===1?E=!0:d>1&&(y=!0,v=!0):d===0?v=!0:d>0&&!o?(v=!0,y=!0):d>0&&o&&(v=!0),y&&(l=[]),v)l.push({index:t,direction:r,compare:i});else if(E){var w=l.indexOf(f);l[w].direction=r}else if(m){var b=l.indexOf(f);l.splice(b,1)}return de({},s,{sort:{columns:l}})}},gs=function(t,r,o){return function(i){var s=(i.sort?[].concat(i.sort.columns):[]).find(function(l){return l.index===t});return de({},i,s?va(t,s.direction===1?-1:1,r,o)(i):va(t,1,r,o)(i))}},Jc=function(t){function r(){return t.apply(this,arguments)||this}return xe(r,t),r.prototype._process=function(o){var i={};return this.props.url&&(i.url=this.props.url(o.url,this.props.columns)),this.props.body&&(i.body=this.props.body(o.body,this.props.columns)),de({},o,i)},Ye(r,[{key:"type",get:function(){return Ve.ServerSort}}]),r}(Tt);function Xc(t){var r=tt(),o=pn(),i=It(0),s=i[0],l=i[1],d=It(void 0),f=d[0],v=d[1],y=Ct(function(b){return b.sort}),m=dr().dispatch,E=r.sort;et(function(){var b=w();b&&v(b)},[]),et(function(){return r.pipeline.register(f),function(){return r.pipeline.unregister(f)}},[r,f]),et(function(){if(y){var b=y.columns.find(function(C){return C.index===t.index});l(b?b.direction:0)}},[y]),et(function(){f&&y&&f.setProps({columns:y.columns})},[y]);var w=function(){var b=Ve.Sort;return E&&typeof E.server=="object"&&(b=Ve.ServerSort),r.pipeline.getStepsByType(b).length===0?b===Ve.ServerSort?new Jc(de({columns:y?y.columns:[]},E.server)):new Qc({columns:y?y.columns:[]}):null};return F("button",{tabIndex:-1,"aria-label":o("sort.sort"+(s===1?"Desc":"Asc")),title:o("sort.sort"+(s===1?"Desc":"Asc")),className:be(ce("sort"),ce("sort",function(b){return b===1?"asc":b===-1?"desc":"neutral"}(s)),r.className.sort),onClick:function(b){b.preventDefault(),b.stopPropagation(),m(gs(t.index,b.shiftKey===!0&&E.multiColumn,t.compare))}})}function Zc(t){var r,o=function(d){return d instanceof MouseEvent?Math.floor(d.pageX):Math.floor(d.changedTouches[0].pageX)},i=function(d){d.stopPropagation();var f,v,y,m,E,w=parseInt(t.thRef.current.style.width,10)-o(d);f=function(b){return s(b,w)},(v=10)===void 0&&(v=100),r=function(){var b=[].slice.call(arguments);y?(clearTimeout(m),m=setTimeout(function(){Date.now()-E>=v&&(f.apply(void 0,b),E=Date.now())},Math.max(v-(Date.now()-E),0))):(f.apply(void 0,b),E=Date.now(),y=!0)},document.addEventListener("mouseup",l),document.addEventListener("touchend",l),document.addEventListener("mousemove",r),document.addEventListener("touchmove",r)},s=function(d,f){d.stopPropagation();var v=t.thRef.current;f+o(d)>=parseInt(v.style.minWidth,10)&&(v.style.width=f+o(d)+"px")},l=function d(f){f.stopPropagation(),document.removeEventListener("mouseup",d),document.removeEventListener("mousemove",r),document.removeEventListener("touchmove",r),document.removeEventListener("touchend",d)};return F("div",{className:be(ce("th"),ce("resizable")),onMouseDown:i,onTouchStart:i,onClick:function(d){return d.stopPropagation()}})}function eu(t){var r=tt(),o=Nr(null),i=It({}),s=i[0],l=i[1],d=dr().dispatch;et(function(){if(r.fixedHeader&&o.current){var m=o.current.offsetTop;typeof m=="number"&&l({top:m})}},[o]);var f,v=function(){return t.column.sort!=null},y=function(m){m.stopPropagation(),v()&&d(gs(t.index,m.shiftKey===!0&&r.sort.multiColumn,t.column.sort.compare))};return F("th",de({ref:o,"data-column-id":t.column&&t.column.id,className:be(ce("th"),v()?ce("th","sort"):null,r.fixedHeader?ce("th","fixed"):null,r.className.th),onClick:y,style:de({},r.style.th,{minWidth:t.column.minWidth,width:t.column.width},s,t.style),onKeyDown:function(m){v()&&m.which===13&&y(m)},rowSpan:t.rowSpan>1?t.rowSpan:void 0,colSpan:t.colSpan>1?t.colSpan:void 0},(f=t.column)?typeof f.attributes=="function"?f.attributes(null,null,t.column):f.attributes:{},v()?{tabIndex:0}:{}),F("div",{className:ce("th","content")},t.column.name!==void 0?t.column.name:t.column.plugin!==void 0?F(fn,{pluginId:t.column.plugin.id,props:{column:t.column}}):null),v()&&F(Xc,de({index:t.index},t.column.sort)),t.column.resizable&&t.index<r.header.visibleColumns.length-1&&F(Zc,{column:t.column,thRef:o}))}function tu(){var t,r=tt(),o=Ct(function(i){return i.header});return o?F("thead",{key:o.id,className:be(ce("thead"),r.className.thead)},(t=ur.tabularFormat(o.columns)).map(function(i,s){return function(l,d,f){var v=ur.leafColumns(o.columns);return F(fo,null,l.map(function(y){return y.hidden?null:function(m,E,w,b){var C=function(k,P,I){var L=ur.maximumDepth(k),U=I-P;return{rowSpan:Math.floor(U-L-L/U),colSpan:k.columns&&k.columns.length||1}}(m,E,b);return F(eu,{column:m,index:w,colSpan:C.colSpan,rowSpan:C.rowSpan})}(y,d,v.indexOf(y),f)}))}(i,s,t.length)})):null}var wa=function(t){return function(r){return de({},r,{header:t})}};function ru(){var t=tt(),r=Nr(null),o=dr().dispatch;return et(function(){r&&o(function(i){return function(s){return de({},s,{tableRef:i})}}(r))},[r]),F("table",{ref:r,role:"grid",className:be(ce("table"),t.className.table),style:de({},t.style.table,{height:t.height})},F(tu,null),F(Yc,null))}function nu(){var t=It(!0),r=t[0],o=t[1],i=Nr(null),s=tt();return et(function(){i.current.children.length===0&&o(!1)},[i]),r?F("div",{ref:i,className:be(ce("head"),s.className.header),style:de({},s.style.header)},F(fn,{position:Xt.Header})):null}function ou(){var t=Nr(null),r=It(!0),o=r[0],i=r[1],s=tt();return et(function(){t.current.children.length===0&&i(!1)},[t]),o?F("div",{ref:t,className:be(ce("footer"),s.className.footer),style:de({},s.style.footer)},F(fn,{position:Xt.Footer})):null}function iu(){var t=tt(),r=dr().dispatch,o=Ct(function(f){return f.status}),i=Ct(function(f){return f.data}),s=Ct(function(f){return f.tableRef}),l={current:null};et(function(){return r(wa(t.header)),d(),t.pipeline.on("updated",d),function(){return t.pipeline.off("updated",d)}},[]),et(function(){t.header&&o===ot.Loaded&&i!=null&&i.length&&r(wa(t.header.adjustWidth(t,s,l)))},[i,t,l]);var d=function(){try{r(function(v){return de({},v,{status:ot.Loading})});var f=function(v,y){try{var m=Promise.resolve(t.pipeline.process()).then(function(E){r(function(w){return function(b){return w?de({},b,{data:w,status:ot.Loaded}):b}}(E)),setTimeout(function(){r(function(w){return w.status===ot.Loaded?de({},w,{status:ot.Rendered}):w})},0)})}catch(E){return y(E)}return m&&m.then?m.then(void 0,y):m}(0,function(v){lt.error(v),r(function(y){return de({},y,{data:null,status:ot.Error})})});return Promise.resolve(f&&f.then?f.then(function(){}):void 0)}catch(v){return Promise.reject(v)}};return F("div",{role:"complementary",className:be("gridjs",ce("container"),o===ot.Loading?ce("loading"):null,t.className.container),style:de({},t.style.container,{width:t.width})},o===ot.Loading&&F("div",{className:ce("loading-bar")}),F(nu,null),F("div",{className:ce("wrapper"),style:{height:t.height}},F(ru,null)),F(ou,null),F("div",{ref:l,id:"gridjs-temp",className:ce("temp")}))}var au=function(t){function r(i){var s;return(s=t.call(this)||this).config=void 0,s.plugin=void 0,s.config=new Vc().assign({instance:Ji(s),eventEmitter:Ji(s)}).update(i),s.plugin=s.config.plugin,s}xe(r,t);var o=r.prototype;return o.updateConfig=function(i){return this.config.update(i),this},o.createElement=function(){return F(fs.Provider,{value:this.config,children:F(iu,{})})},o.forceRender=function(){return this.config&&this.config.container||lt.error("Container is empty. Make sure you call render() before forceRender()",!0),this.destroy(),Cr(this.createElement(),this.config.container),this},o.destroy=function(){this.config.pipeline.clearCache(),Cr(null,this.config.container)},o.render=function(i){return i||lt.error("Container element cannot be null",!0),i.childNodes.length>0?(lt.error("The container element "+i+" is not empty. Make sure the container is empty and call render() again"),this):(this.config.container=i,Cr(this.createElement(),i),this)},r}(po);const su={en:{page:{title:"Delivery Dates",hinweise:"Note",text:"Below you will find a list with the currently open or expired delivery dates. Due to delays in the receipt of goods, the list may contain transit goods. Please complete the list with a future delivery date in the 'New Delivery Date' column. If you do not have an estimate of the delivery date, mark with 'x' the 'Unknown delivery date' checkbox.",hint:"Note",MaintenanceHeading:"Server Maintenance",MaintenanceText:"The server is currently under maintenance. Please try again later."},grid:{purchaseOrderNumber:"PO number",externalOrderNumber:"Ext order number",orderResponsible:"Orders responsible",purchaserEmail:"Purchaser email",purchaseDate:"Purchase date",itemId2:"Our article number",itemId:"Item id",description:"Description",quantityLeftToDeliver:"Quantity",supplierArticleNumber:"Your article number",newDeliveryDate:"New delivery date",unknownDeliveryDate:"Unknown delivery date",noRecordsFound:"No records found",vendorId:"Supplier ID"},button:{ConfirmMessage:"Confirm changes"}},de:{page:{title:"Liefertermine",hinweise:"Hinweise",text:"Anbei finden Sie eine Liste mit den aktuell offenen oder abgelaufenen Lieferterminen. Es kann, durch Verzögerungen im Wareneingang, dazu kommen, dass in der Liste Transitware enthalten ist. Bitte ergänzen Sie die Liste mit einem Zukunftsliefertermin in der Spalte «Neue Lieferdatum». Falls Sie keine Schätzung des Liefertermins haben, setzten Sie das «X» bei Liefertermin unbekannt.",hint:"Hinweise",MaintenanceHeading:"Server Wartung",MaintenanceText:"Der Server wird zurzeit gewartet. Bitte versuchen Sie es später noch einmal."},grid:{purchaseOrderNumber:"Einkaufsbestellnummer",externalOrderNumber:"Externe Bestellnummer",orderResponsible:"Bestell PM",purchaserEmail:"Mitarbeiter-E-Mail ",purchaseDate:"Bestelldatum",itemId2:"Unsere Artikel-Nr",itemId:"Art Nr.",description:"Bezeichnung",quantityLeftToDeliver:"Restbestellmenge",supplierArticleNumber:"Ihre Artikel-Nr",newDeliveryDate:"Neues Lieferdatum",unknownDeliveryDate:"Liefertermin unbekannt",noRecordsFound:"Keine Einträge gefunden",vendorId:"Kreditor Nr"},button:{ConfirmMessage:"Änderungen bestätigen"}}},cu=localStorage.getItem("selectedLocale")||"en",bt=Ht(cu);bt.subscribe(t=>{localStorage.setItem("selectedLocale",t)});function uu(t,r,o){if(!r)throw new Error("no key provided to $t()");if(!t)throw new Error(`no translation for key "${r}"`);let[i,s]=r.split("."),l=su[t][i][s];if(!l)throw new Error(`no translation found for ${t}.${r}`);return Object.keys(o).map(d=>{console.log(`Translating key: ${r} for locale: ${t}`);const f=new RegExp(`{{${d}}}`,"g");l=l.replace(f,o[d])}),l}const mo=Tc(bt,t=>(r,o={})=>uu(t,r,o));function _a(t,r,o){const i=t.slice();return i[3]=r[o],i}function Ea(t,r,o){const i=t.slice();return i[6]=r[o],i}function ba(t){let r,o=t[6]+"",i;return{c(){r=te("div"),i=ct(o)},l(s){r=re(s,"DIV",{});var l=se(r);i=ut(l,o),l.forEach(z)},m(s,l){Ae(s,r,l),j(r,i)},p:it,d(s){s&&z(r)}}}function Ca(t){let r,o;return{c(){r=te("button"),this.h()},l(i){r=re(i,"BUTTON",{class:!0}),se(r).forEach(z),this.h()},h(){Y(r,"class",o="date date-"+t[0]+" svelte-1cncuep")},m(i,s){Ae(i,r,s)},p(i,s){s&1&&o!==(o="date date-"+i[0]+" svelte-1cncuep")&&Y(r,"class",o)},d(i){i&&z(r)}}}function lu(t){let r,o,i,s,l,d,f,v=Sa(t[1])+"",y,m,E,w,b,C,k,P,I,L,U,D,we,H,B,O,W,K,le,Z="←",he,X,x,Le,Ue,at,ae="→",pe,qe,Ee,Me,Fe,ne=jr(t[2]),ge=[];for(let $=0;$<ne.length;$+=1)ge[$]=ba(Ea(t,ne,$));let ke=jr(Array.from({length:35},Aa)),Te=[];for(let $=0;$<ke.length;$+=1)Te[$]=Ca(_a(t,ke,$));return{c(){r=te("div"),o=ct("  "),i=te("input"),d=Oe(),f=te("label"),y=ct(v),E=Oe(),w=te("div"),b=te("button"),C=ct("📅 "),k=te("span"),P=ct(Ta),I=Oe(),L=te("a"),U=zi("svg"),D=zi("path"),O=Oe(),W=te("div"),K=te("div"),le=te("button"),le.textContent=Z,he=Oe(),X=te("div"),x=ct("date"),Ue=Oe(),at=te("button"),at.textContent=ae,pe=Oe(),qe=te("div");for(let $=0;$<ge.length;$+=1)ge[$].c();Ee=Oe(),Me=te("div");for(let $=0;$<Te.length;$+=1)Te[$].c();this.h()},l($){r=re($,"DIV",{class:!0});var ye=se(r);o=ut(ye,"  "),i=re(ye,"INPUT",{type:!0,id:!0,class:!0}),d=Pe(ye),f=re(ye,"LABEL",{for:!0});var ee=se(f);y=ut(ee,v),ee.forEach(z),ye.forEach(z),E=Pe($),w=re($,"DIV",{class:!0});var rt=se(w);b=re(rt,"BUTTON",{class:!0});var kt=se(b);C=ut(kt,"📅 "),k=re(kt,"SPAN",{class:!0,style:!0});var fr=se(k);P=ut(fr,Ta),fr.forEach(z),I=Pe(kt),L=re(kt,"A",{href:!0,class:!0});var He=se(L);U=$i(He,"svg",{height:!0,width:!0,style:!0,onclick:!0,class:!0});var Bt=se(U);D=$i(Bt,"path",{d:!0}),se(D).forEach(z),Bt.forEach(z),He.forEach(z),kt.forEach(z),O=Pe(rt),W=re(rt,"DIV",{class:!0});var Rt=se(W);K=re(Rt,"DIV",{class:!0});var Ot=se(K);le=re(Ot,"BUTTON",{class:!0,"data-svelte-h":!0}),$t(le)!=="svelte-6nw9uh"&&(le.textContent=Z),he=Pe(Ot),X=re(Ot,"DIV",{class:!0});var mr=se(X);x=ut(mr,"date"),mr.forEach(z),Ue=Pe(Ot),at=re(Ot,"BUTTON",{class:!0,"data-svelte-h":!0}),$t(at)!=="svelte-11j4q6r"&&(at.textContent=ae),Ot.forEach(z),pe=Pe(Rt),qe=re(Rt,"DIV",{class:!0});var Dr=se(qe);for(let Ge=0;Ge<ge.length;Ge+=1)ge[Ge].l(Dr);Dr.forEach(z),Ee=Pe(Rt),Me=re(Rt,"DIV",{class:!0});var xr=se(Me);for(let Ge=0;Ge<Te.length;Ge+=1)Te[Ge].l(xr);xr.forEach(z),Rt.forEach(z),rt.forEach(z),this.h()},h(){Y(i,"type","checkbox"),Y(i,"id",s="deliveryUnknownCheckbox-"+t[0]),Y(i,"class",l="deliveryUnknownCheckbox-"+t[0]+" svelte-1cncuep"),Y(f,"for",m="deliveryUnknownCheckbox-"+t[0]),Y(r,"class","UnknownDeliveryText"),Y(k,"class","hidden-date"),rn(k,"display","inline"),Y(D,"d","M3 6l3 18h12l3-18h-18zM19 26h-14l-1.5-18h17l-1.5 18zM15 24h2v-14h-2v14zM11 24h2v-14h-2v14zM7 24h2v-14h-2v14z"),Y(U,"height","25"),Y(U,"width","25"),rn(U,"fill","red"),Y(U,"onclick",we="document.querySelector('.date-picker-removeDate-"+t[0]+"').click();"),Y(U,"class","svelte-1cncuep"),Y(L,"href","/#"),Y(L,"class",H="date-picker-removeDate-"+t[0]+" svelte-1cncuep"),Y(b,"class",B="date-picker-button btn btn-primary testing-button date-picker-button-"+t[0]+" svelte-1cncuep"),Y(le,"class","prev-month-button month-button"),Y(X,"class",Le="current-month current-month-"+t[0]+" svelte-1cncuep"),Y(at,"class","next-month-button month-button"),Y(K,"class","date-picker-header"),Y(qe,"class","date-picker-grid-header date-picker-grid"),Y(Me,"class","date-picker-grid-dates date-picker-grid"),Y(W,"class",Fe="date-picker date-picker-"+t[0]+" svelte-1cncuep"),Y(w,"class","date-picker-container svelte-1cncuep")},m($,ye){Ae($,r,ye),j(r,o),j(r,i),j(r,d),j(r,f),j(f,y),Ae($,E,ye),Ae($,w,ye),j(w,b),j(b,C),j(b,k),j(k,P),j(b,I),j(b,L),j(L,U),j(U,D),j(w,O),j(w,W),j(W,K),j(K,le),j(K,he),j(K,X),j(X,x),j(K,Ue),j(K,at),j(W,pe),j(W,qe);for(let ee=0;ee<ge.length;ee+=1)ge[ee]&&ge[ee].m(qe,null);j(W,Ee),j(W,Me);for(let ee=0;ee<Te.length;ee+=1)Te[ee]&&Te[ee].m(Me,null)},p($,[ye]){if(ye&1&&s!==(s="deliveryUnknownCheckbox-"+$[0])&&Y(i,"id",s),ye&1&&l!==(l="deliveryUnknownCheckbox-"+$[0]+" svelte-1cncuep")&&Y(i,"class",l),ye&2&&v!==(v=Sa($[1])+"")&&zt(y,v),ye&1&&m!==(m="deliveryUnknownCheckbox-"+$[0])&&Y(f,"for",m),ye&1&&we!==(we="document.querySelector('.date-picker-removeDate-"+$[0]+"').click();")&&Y(U,"onclick",we),ye&1&&H!==(H="date-picker-removeDate-"+$[0]+" svelte-1cncuep")&&Y(L,"class",H),ye&1&&B!==(B="date-picker-button btn btn-primary testing-button date-picker-button-"+$[0]+" svelte-1cncuep")&&Y(b,"class",B),ye&1&&Le!==(Le="current-month current-month-"+$[0]+" svelte-1cncuep")&&Y(X,"class",Le),ye&4){ne=jr($[2]);let ee;for(ee=0;ee<ne.length;ee+=1){const rt=Ea($,ne,ee);ge[ee]?ge[ee].p(rt,ye):(ge[ee]=ba(rt),ge[ee].c(),ge[ee].m(qe,null))}for(;ee<ge.length;ee+=1)ge[ee].d(1);ge.length=ne.length}if(ye&1){ke=jr(Array.from({length:35},Aa));let ee;for(ee=0;ee<ke.length;ee+=1){const rt=_a($,ke,ee);Te[ee]?Te[ee].p(rt,ye):(Te[ee]=Ca(rt),Te[ee].c(),Te[ee].m(Me,null))}for(;ee<Te.length;ee+=1)Te[ee].d(1);Te.length=ke.length}ye&1&&Fe!==(Fe="date-picker date-picker-"+$[0]+" svelte-1cncuep")&&Y(W,"class",Fe)},i:it,o:it,d($){$&&(z(r),z(E),z(w)),Vi(ge,$),Vi(Te,$)}}}let Ta="                  ";function du(t){switch(t){case"de":return["So","Mo","Di","Mi","Do","Fr","Sa"];case"en":return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];default:return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}}function Sa(t){switch(t){case"de":return"Liefertermin unbekannt";case"en":return"Unknown delivery date";default:return"Unknown Delivery Date"}}const Aa=(t,r)=>r;function hu(t,r,o){let{dateProp:i}=r,{CurrentLanguage:s}=r,l=du(s);return t.$$set=d=>{"dateProp"in d&&o(0,i=d.dateProp),"CurrentLanguage"in d&&o(1,s=d.CurrentLanguage)},[i,s,l]}class pu extends qt{constructor(r){super(),Ft(this,r,hu,lu,Lt,{dateProp:0,CurrentLanguage:1})}}class ys extends qt{constructor(r){super(),Ft(this,r,null,null,Lt,{})}}const Yr=Ht(null),Zn=Ht(null);function kr(t){"@babel/helpers - typeof";return kr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},kr(t)}function je(t){if(t===null||t===!0||t===!1)return NaN;var r=Number(t);return isNaN(r)?r:r<0?Math.ceil(r):Math.floor(r)}function _e(t,r){if(r.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+r.length+" present")}function Ie(t){_e(1,arguments);var r=Object.prototype.toString.call(t);return t instanceof Date||kr(t)==="object"&&r==="[object Date]"?new Date(t.getTime()):typeof t=="number"||r==="[object Number]"?new Date(t):((typeof t=="string"||r==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function fu(t,r){_e(2,arguments);var o=Ie(t),i=je(r);return isNaN(i)?new Date(NaN):(i&&o.setDate(o.getDate()+i),o)}function mu(t,r){_e(2,arguments);var o=Ie(t),i=je(r);if(isNaN(i))return new Date(NaN);if(!i)return o;var s=o.getDate(),l=new Date(o.getTime());l.setMonth(o.getMonth()+i+1,0);var d=l.getDate();return s>=d?l:(o.setFullYear(l.getFullYear(),l.getMonth(),s),o)}function Ia(t,r){if(_e(2,arguments),!r||kr(r)!=="object")return new Date(NaN);var o=r.years?je(r.years):0,i=r.months?je(r.months):0,s=r.weeks?je(r.weeks):0,l=r.days?je(r.days):0,d=r.hours?je(r.hours):0,f=r.minutes?je(r.minutes):0,v=r.seconds?je(r.seconds):0,y=Ie(t),m=i||o?mu(y,i+o*12):y,E=l||s?fu(m,l+s*7):m,w=f+d*60,b=v+w*60,C=b*1e3,k=new Date(E.getTime()+C);return k}function gu(t,r){_e(2,arguments);var o=Ie(t).getTime(),i=je(r);return new Date(o+i)}var yu={};function hr(){return yu}function vu(t,r){var o,i,s,l,d,f,v,y;_e(1,arguments);var m=hr(),E=je((o=(i=(s=(l=r==null?void 0:r.weekStartsOn)!==null&&l!==void 0?l:r==null||(d=r.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.weekStartsOn)!==null&&s!==void 0?s:m.weekStartsOn)!==null&&i!==void 0?i:(v=m.locale)===null||v===void 0||(y=v.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&o!==void 0?o:0);if(!(E>=0&&E<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var w=Ie(t),b=w.getDay(),C=(b<E?7:0)+b-E;return w.setDate(w.getDate()-C),w.setHours(0,0,0,0),w}function wu(t){var r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),t.getTime()-r.getTime()}function ka(t){_e(1,arguments);var r=Ie(t);return r.setHours(0,0,0,0),r}function _u(t,r){_e(2,arguments);var o=ka(t),i=ka(r);return o.getTime()===i.getTime()}function Eu(t){return _e(1,arguments),t instanceof Date||kr(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function bu(t){if(_e(1,arguments),!Eu(t)&&typeof t!="number")return!1;var r=Ie(t);return!isNaN(Number(r))}function Cu(t){_e(1,arguments);var r=Ie(t),o=r.getMonth();return r.setFullYear(r.getFullYear(),o+1,0),r.setHours(23,59,59,999),r}function Tu(t,r){var o;_e(1,arguments);var i=t||{},s=Ie(i.start),l=Ie(i.end),d=l.getTime();if(!(s.getTime()<=d))throw new RangeError("Invalid interval");var f=[],v=s;v.setHours(0,0,0,0);var y=Number((o=r==null?void 0:r.step)!==null&&o!==void 0?o:1);if(y<1||isNaN(y))throw new RangeError("`options.step` must be a number greater than 1");for(;v.getTime()<=d;)f.push(Ie(v)),v.setDate(v.getDate()+y),v.setHours(0,0,0,0);return f}function Su(t){_e(1,arguments);var r=Ie(t);return r.setDate(1),r.setHours(0,0,0,0),r}function Au(t,r){var o,i,s,l,d,f,v,y;_e(1,arguments);var m=hr(),E=je((o=(i=(s=(l=r==null?void 0:r.weekStartsOn)!==null&&l!==void 0?l:r==null||(d=r.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.weekStartsOn)!==null&&s!==void 0?s:m.weekStartsOn)!==null&&i!==void 0?i:(v=m.locale)===null||v===void 0||(y=v.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&o!==void 0?o:0);if(!(E>=0&&E<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var w=Ie(t),b=w.getDay(),C=(b<E?-7:0)+6-(b-E);return w.setDate(w.getDate()+C),w.setHours(23,59,59,999),w}function Iu(t,r){_e(2,arguments);var o=je(r);return gu(t,-o)}var ku=864e5;function Ru(t){_e(1,arguments);var r=Ie(t),o=r.getTime();r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0);var i=r.getTime(),s=o-i;return Math.floor(s/ku)+1}function an(t){_e(1,arguments);var r=1,o=Ie(t),i=o.getUTCDay(),s=(i<r?7:0)+i-r;return o.setUTCDate(o.getUTCDate()-s),o.setUTCHours(0,0,0,0),o}function vs(t){_e(1,arguments);var r=Ie(t),o=r.getUTCFullYear(),i=new Date(0);i.setUTCFullYear(o+1,0,4),i.setUTCHours(0,0,0,0);var s=an(i),l=new Date(0);l.setUTCFullYear(o,0,4),l.setUTCHours(0,0,0,0);var d=an(l);return r.getTime()>=s.getTime()?o+1:r.getTime()>=d.getTime()?o:o-1}function Ou(t){_e(1,arguments);var r=vs(t),o=new Date(0);o.setUTCFullYear(r,0,4),o.setUTCHours(0,0,0,0);var i=an(o);return i}var Pu=6048e5;function Nu(t){_e(1,arguments);var r=Ie(t),o=an(r).getTime()-Ou(r).getTime();return Math.round(o/Pu)+1}function sn(t,r){var o,i,s,l,d,f,v,y;_e(1,arguments);var m=hr(),E=je((o=(i=(s=(l=r==null?void 0:r.weekStartsOn)!==null&&l!==void 0?l:r==null||(d=r.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.weekStartsOn)!==null&&s!==void 0?s:m.weekStartsOn)!==null&&i!==void 0?i:(v=m.locale)===null||v===void 0||(y=v.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&o!==void 0?o:0);if(!(E>=0&&E<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var w=Ie(t),b=w.getUTCDay(),C=(b<E?7:0)+b-E;return w.setUTCDate(w.getUTCDate()-C),w.setUTCHours(0,0,0,0),w}function ws(t,r){var o,i,s,l,d,f,v,y;_e(1,arguments);var m=Ie(t),E=m.getUTCFullYear(),w=hr(),b=je((o=(i=(s=(l=r==null?void 0:r.firstWeekContainsDate)!==null&&l!==void 0?l:r==null||(d=r.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&s!==void 0?s:w.firstWeekContainsDate)!==null&&i!==void 0?i:(v=w.locale)===null||v===void 0||(y=v.options)===null||y===void 0?void 0:y.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(b>=1&&b<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var C=new Date(0);C.setUTCFullYear(E+1,0,b),C.setUTCHours(0,0,0,0);var k=sn(C,r),P=new Date(0);P.setUTCFullYear(E,0,b),P.setUTCHours(0,0,0,0);var I=sn(P,r);return m.getTime()>=k.getTime()?E+1:m.getTime()>=I.getTime()?E:E-1}function Uu(t,r){var o,i,s,l,d,f,v,y;_e(1,arguments);var m=hr(),E=je((o=(i=(s=(l=r==null?void 0:r.firstWeekContainsDate)!==null&&l!==void 0?l:r==null||(d=r.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&s!==void 0?s:m.firstWeekContainsDate)!==null&&i!==void 0?i:(v=m.locale)===null||v===void 0||(y=v.options)===null||y===void 0?void 0:y.firstWeekContainsDate)!==null&&o!==void 0?o:1),w=ws(t,r),b=new Date(0);b.setUTCFullYear(w,0,E),b.setUTCHours(0,0,0,0);var C=sn(b,r);return C}var Mu=6048e5;function Du(t,r){_e(1,arguments);var o=Ie(t),i=sn(o,r).getTime()-Uu(o,r).getTime();return Math.round(i/Mu)+1}function me(t,r){for(var o=t<0?"-":"",i=Math.abs(t).toString();i.length<r;)i="0"+i;return o+i}var xu={y:function(r,o){var i=r.getUTCFullYear(),s=i>0?i:1-i;return me(o==="yy"?s%100:s,o.length)},M:function(r,o){var i=r.getUTCMonth();return o==="M"?String(i+1):me(i+1,2)},d:function(r,o){return me(r.getUTCDate(),o.length)},a:function(r,o){var i=r.getUTCHours()/12>=1?"pm":"am";switch(o){case"a":case"aa":return i.toUpperCase();case"aaa":return i;case"aaaaa":return i[0];case"aaaa":default:return i==="am"?"a.m.":"p.m."}},h:function(r,o){return me(r.getUTCHours()%12||12,o.length)},H:function(r,o){return me(r.getUTCHours(),o.length)},m:function(r,o){return me(r.getUTCMinutes(),o.length)},s:function(r,o){return me(r.getUTCSeconds(),o.length)},S:function(r,o){var i=o.length,s=r.getUTCMilliseconds(),l=Math.floor(s*Math.pow(10,i-3));return me(l,o.length)}};const Ut=xu;var ir={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Lu={G:function(r,o,i){var s=r.getUTCFullYear()>0?1:0;switch(o){case"G":case"GG":case"GGG":return i.era(s,{width:"abbreviated"});case"GGGGG":return i.era(s,{width:"narrow"});case"GGGG":default:return i.era(s,{width:"wide"})}},y:function(r,o,i){if(o==="yo"){var s=r.getUTCFullYear(),l=s>0?s:1-s;return i.ordinalNumber(l,{unit:"year"})}return Ut.y(r,o)},Y:function(r,o,i,s){var l=ws(r,s),d=l>0?l:1-l;if(o==="YY"){var f=d%100;return me(f,2)}return o==="Yo"?i.ordinalNumber(d,{unit:"year"}):me(d,o.length)},R:function(r,o){var i=vs(r);return me(i,o.length)},u:function(r,o){var i=r.getUTCFullYear();return me(i,o.length)},Q:function(r,o,i){var s=Math.ceil((r.getUTCMonth()+1)/3);switch(o){case"Q":return String(s);case"QQ":return me(s,2);case"Qo":return i.ordinalNumber(s,{unit:"quarter"});case"QQQ":return i.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return i.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(s,{width:"wide",context:"formatting"})}},q:function(r,o,i){var s=Math.ceil((r.getUTCMonth()+1)/3);switch(o){case"q":return String(s);case"qq":return me(s,2);case"qo":return i.ordinalNumber(s,{unit:"quarter"});case"qqq":return i.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return i.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(s,{width:"wide",context:"standalone"})}},M:function(r,o,i){var s=r.getUTCMonth();switch(o){case"M":case"MM":return Ut.M(r,o);case"Mo":return i.ordinalNumber(s+1,{unit:"month"});case"MMM":return i.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return i.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(s,{width:"wide",context:"formatting"})}},L:function(r,o,i){var s=r.getUTCMonth();switch(o){case"L":return String(s+1);case"LL":return me(s+1,2);case"Lo":return i.ordinalNumber(s+1,{unit:"month"});case"LLL":return i.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return i.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(s,{width:"wide",context:"standalone"})}},w:function(r,o,i,s){var l=Du(r,s);return o==="wo"?i.ordinalNumber(l,{unit:"week"}):me(l,o.length)},I:function(r,o,i){var s=Nu(r);return o==="Io"?i.ordinalNumber(s,{unit:"week"}):me(s,o.length)},d:function(r,o,i){return o==="do"?i.ordinalNumber(r.getUTCDate(),{unit:"date"}):Ut.d(r,o)},D:function(r,o,i){var s=Ru(r);return o==="Do"?i.ordinalNumber(s,{unit:"dayOfYear"}):me(s,o.length)},E:function(r,o,i){var s=r.getUTCDay();switch(o){case"E":case"EE":case"EEE":return i.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return i.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(s,{width:"short",context:"formatting"});case"EEEE":default:return i.day(s,{width:"wide",context:"formatting"})}},e:function(r,o,i,s){var l=r.getUTCDay(),d=(l-s.weekStartsOn+8)%7||7;switch(o){case"e":return String(d);case"ee":return me(d,2);case"eo":return i.ordinalNumber(d,{unit:"day"});case"eee":return i.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return i.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(l,{width:"short",context:"formatting"});case"eeee":default:return i.day(l,{width:"wide",context:"formatting"})}},c:function(r,o,i,s){var l=r.getUTCDay(),d=(l-s.weekStartsOn+8)%7||7;switch(o){case"c":return String(d);case"cc":return me(d,o.length);case"co":return i.ordinalNumber(d,{unit:"day"});case"ccc":return i.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return i.day(l,{width:"narrow",context:"standalone"});case"cccccc":return i.day(l,{width:"short",context:"standalone"});case"cccc":default:return i.day(l,{width:"wide",context:"standalone"})}},i:function(r,o,i){var s=r.getUTCDay(),l=s===0?7:s;switch(o){case"i":return String(l);case"ii":return me(l,o.length);case"io":return i.ordinalNumber(l,{unit:"day"});case"iii":return i.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return i.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return i.day(s,{width:"short",context:"formatting"});case"iiii":default:return i.day(s,{width:"wide",context:"formatting"})}},a:function(r,o,i){var s=r.getUTCHours(),l=s/12>=1?"pm":"am";switch(o){case"a":case"aa":return i.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return i.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return i.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(r,o,i){var s=r.getUTCHours(),l;switch(s===12?l=ir.noon:s===0?l=ir.midnight:l=s/12>=1?"pm":"am",o){case"b":case"bb":return i.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return i.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return i.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(r,o,i){var s=r.getUTCHours(),l;switch(s>=17?l=ir.evening:s>=12?l=ir.afternoon:s>=4?l=ir.morning:l=ir.night,o){case"B":case"BB":case"BBB":return i.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return i.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(r,o,i){if(o==="ho"){var s=r.getUTCHours()%12;return s===0&&(s=12),i.ordinalNumber(s,{unit:"hour"})}return Ut.h(r,o)},H:function(r,o,i){return o==="Ho"?i.ordinalNumber(r.getUTCHours(),{unit:"hour"}):Ut.H(r,o)},K:function(r,o,i){var s=r.getUTCHours()%12;return o==="Ko"?i.ordinalNumber(s,{unit:"hour"}):me(s,o.length)},k:function(r,o,i){var s=r.getUTCHours();return s===0&&(s=24),o==="ko"?i.ordinalNumber(s,{unit:"hour"}):me(s,o.length)},m:function(r,o,i){return o==="mo"?i.ordinalNumber(r.getUTCMinutes(),{unit:"minute"}):Ut.m(r,o)},s:function(r,o,i){return o==="so"?i.ordinalNumber(r.getUTCSeconds(),{unit:"second"}):Ut.s(r,o)},S:function(r,o){return Ut.S(r,o)},X:function(r,o,i,s){var l=s._originalDate||r,d=l.getTimezoneOffset();if(d===0)return"Z";switch(o){case"X":return Oa(d);case"XXXX":case"XX":return Gt(d);case"XXXXX":case"XXX":default:return Gt(d,":")}},x:function(r,o,i,s){var l=s._originalDate||r,d=l.getTimezoneOffset();switch(o){case"x":return Oa(d);case"xxxx":case"xx":return Gt(d);case"xxxxx":case"xxx":default:return Gt(d,":")}},O:function(r,o,i,s){var l=s._originalDate||r,d=l.getTimezoneOffset();switch(o){case"O":case"OO":case"OOO":return"GMT"+Ra(d,":");case"OOOO":default:return"GMT"+Gt(d,":")}},z:function(r,o,i,s){var l=s._originalDate||r,d=l.getTimezoneOffset();switch(o){case"z":case"zz":case"zzz":return"GMT"+Ra(d,":");case"zzzz":default:return"GMT"+Gt(d,":")}},t:function(r,o,i,s){var l=s._originalDate||r,d=Math.floor(l.getTime()/1e3);return me(d,o.length)},T:function(r,o,i,s){var l=s._originalDate||r,d=l.getTime();return me(d,o.length)}};function Ra(t,r){var o=t>0?"-":"+",i=Math.abs(t),s=Math.floor(i/60),l=i%60;if(l===0)return o+String(s);var d=r||"";return o+String(s)+d+me(l,2)}function Oa(t,r){if(t%60===0){var o=t>0?"-":"+";return o+me(Math.abs(t)/60,2)}return Gt(t,r)}function Gt(t,r){var o=r||"",i=t>0?"-":"+",s=Math.abs(t),l=me(Math.floor(s/60),2),d=me(s%60,2);return i+l+o+d}const qu=Lu;var Pa=function(r,o){switch(r){case"P":return o.date({width:"short"});case"PP":return o.date({width:"medium"});case"PPP":return o.date({width:"long"});case"PPPP":default:return o.date({width:"full"})}},_s=function(r,o){switch(r){case"p":return o.time({width:"short"});case"pp":return o.time({width:"medium"});case"ppp":return o.time({width:"long"});case"pppp":default:return o.time({width:"full"})}},Fu=function(r,o){var i=r.match(/(P+)(p+)?/)||[],s=i[1],l=i[2];if(!l)return Pa(r,o);var d;switch(s){case"P":d=o.dateTime({width:"short"});break;case"PP":d=o.dateTime({width:"medium"});break;case"PPP":d=o.dateTime({width:"long"});break;case"PPPP":default:d=o.dateTime({width:"full"});break}return d.replace("{{date}}",Pa(s,o)).replace("{{time}}",_s(l,o))},Hu={p:_s,P:Fu};const Bu=Hu;var Ku=["D","DD"],ju=["YY","YYYY"];function Wu(t){return Ku.indexOf(t)!==-1}function Gu(t){return ju.indexOf(t)!==-1}function Na(t,r,o){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(r,"`) for formatting years to the input `").concat(o,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(r,"`) for formatting years to the input `").concat(o,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(r,"`) for formatting days of the month to the input `").concat(o,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(r,"`) for formatting days of the month to the input `").concat(o,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var zu={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},$u=function(r,o,i){var s,l=zu[r];return typeof l=="string"?s=l:o===1?s=l.one:s=l.other.replace("{{count}}",o.toString()),i!=null&&i.addSuffix?i.comparison&&i.comparison>0?"in "+s:s+" ago":s};const Vu=$u;function Kn(t){return function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=r.width?String(r.width):t.defaultWidth,i=t.formats[o]||t.formats[t.defaultWidth];return i}}var Yu={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Qu={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ju={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Xu={date:Kn({formats:Yu,defaultWidth:"full"}),time:Kn({formats:Qu,defaultWidth:"full"}),dateTime:Kn({formats:Ju,defaultWidth:"full"})};const Zu=Xu;var el={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},tl=function(r,o,i,s){return el[r]};const rl=tl;function vr(t){return function(r,o){var i=o!=null&&o.context?String(o.context):"standalone",s;if(i==="formatting"&&t.formattingValues){var l=t.defaultFormattingWidth||t.defaultWidth,d=o!=null&&o.width?String(o.width):l;s=t.formattingValues[d]||t.formattingValues[l]}else{var f=t.defaultWidth,v=o!=null&&o.width?String(o.width):t.defaultWidth;s=t.values[v]||t.values[f]}var y=t.argumentCallback?t.argumentCallback(r):r;return s[y]}}var nl={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ol={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},il={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},al={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},sl={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},cl={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ul=function(r,o){var i=Number(r),s=i%100;if(s>20||s<10)switch(s%10){case 1:return i+"st";case 2:return i+"nd";case 3:return i+"rd"}return i+"th"},ll={ordinalNumber:ul,era:vr({values:nl,defaultWidth:"wide"}),quarter:vr({values:ol,defaultWidth:"wide",argumentCallback:function(r){return r-1}}),month:vr({values:il,defaultWidth:"wide"}),day:vr({values:al,defaultWidth:"wide"}),dayPeriod:vr({values:sl,defaultWidth:"wide",formattingValues:cl,defaultFormattingWidth:"wide"})};const dl=ll;function wr(t){return function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=o.width,s=i&&t.matchPatterns[i]||t.matchPatterns[t.defaultMatchWidth],l=r.match(s);if(!l)return null;var d=l[0],f=i&&t.parsePatterns[i]||t.parsePatterns[t.defaultParseWidth],v=Array.isArray(f)?pl(f,function(E){return E.test(d)}):hl(f,function(E){return E.test(d)}),y;y=t.valueCallback?t.valueCallback(v):v,y=o.valueCallback?o.valueCallback(y):y;var m=r.slice(d.length);return{value:y,rest:m}}}function hl(t,r){for(var o in t)if(t.hasOwnProperty(o)&&r(t[o]))return o}function pl(t,r){for(var o=0;o<t.length;o++)if(r(t[o]))return o}function fl(t){return function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.match(t.matchPattern);if(!i)return null;var s=i[0],l=r.match(t.parsePattern);if(!l)return null;var d=t.valueCallback?t.valueCallback(l[0]):l[0];d=o.valueCallback?o.valueCallback(d):d;var f=r.slice(s.length);return{value:d,rest:f}}}var ml=/^(\d+)(th|st|nd|rd)?/i,gl=/\d+/i,yl={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},vl={any:[/^b/i,/^(a|c)/i]},wl={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},_l={any:[/1/i,/2/i,/3/i,/4/i]},El={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},bl={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Cl={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Tl={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Sl={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Al={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Il={ordinalNumber:fl({matchPattern:ml,parsePattern:gl,valueCallback:function(r){return parseInt(r,10)}}),era:wr({matchPatterns:yl,defaultMatchWidth:"wide",parsePatterns:vl,defaultParseWidth:"any"}),quarter:wr({matchPatterns:wl,defaultMatchWidth:"wide",parsePatterns:_l,defaultParseWidth:"any",valueCallback:function(r){return r+1}}),month:wr({matchPatterns:El,defaultMatchWidth:"wide",parsePatterns:bl,defaultParseWidth:"any"}),day:wr({matchPatterns:Cl,defaultMatchWidth:"wide",parsePatterns:Tl,defaultParseWidth:"any"}),dayPeriod:wr({matchPatterns:Sl,defaultMatchWidth:"any",parsePatterns:Al,defaultParseWidth:"any"})};const kl=Il;var Rl={code:"en-US",formatDistance:Vu,formatLong:Zu,formatRelative:rl,localize:dl,match:kl,options:{weekStartsOn:0,firstWeekContainsDate:1}};const Ol=Rl;var Pl=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Nl=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ul=/^'([^]*?)'?$/,Ml=/''/g,Dl=/[a-zA-Z]/;function Rr(t,r,o){var i,s,l,d,f,v,y,m,E,w,b,C,k,P,I,L,U,D;_e(2,arguments);var we=String(r),H=hr(),B=(i=(s=o==null?void 0:o.locale)!==null&&s!==void 0?s:H.locale)!==null&&i!==void 0?i:Ol,O=je((l=(d=(f=(v=o==null?void 0:o.firstWeekContainsDate)!==null&&v!==void 0?v:o==null||(y=o.locale)===null||y===void 0||(m=y.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&f!==void 0?f:H.firstWeekContainsDate)!==null&&d!==void 0?d:(E=H.locale)===null||E===void 0||(w=E.options)===null||w===void 0?void 0:w.firstWeekContainsDate)!==null&&l!==void 0?l:1);if(!(O>=1&&O<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var W=je((b=(C=(k=(P=o==null?void 0:o.weekStartsOn)!==null&&P!==void 0?P:o==null||(I=o.locale)===null||I===void 0||(L=I.options)===null||L===void 0?void 0:L.weekStartsOn)!==null&&k!==void 0?k:H.weekStartsOn)!==null&&C!==void 0?C:(U=H.locale)===null||U===void 0||(D=U.options)===null||D===void 0?void 0:D.weekStartsOn)!==null&&b!==void 0?b:0);if(!(W>=0&&W<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!B.localize)throw new RangeError("locale must contain localize property");if(!B.formatLong)throw new RangeError("locale must contain formatLong property");var K=Ie(t);if(!bu(K))throw new RangeError("Invalid time value");var le=wu(K),Z=Iu(K,le),he={firstWeekContainsDate:O,weekStartsOn:W,locale:B,_originalDate:K},X=we.match(Nl).map(function(x){var Le=x[0];if(Le==="p"||Le==="P"){var Ue=Bu[Le];return Ue(x,B.formatLong)}return x}).join("").match(Pl).map(function(x){if(x==="''")return"'";var Le=x[0];if(Le==="'")return xl(x);var Ue=qu[Le];if(Ue)return!(o!=null&&o.useAdditionalWeekYearTokens)&&Gu(x)&&Na(x,r,String(t)),!(o!=null&&o.useAdditionalDayOfYearTokens)&&Wu(x)&&Na(x,r,String(t)),Ue(Z,x,B.localize,he);if(Le.match(Dl))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Le+"`");return x}).join("");return X}function xl(t){var r=t.match(Ul);return r?r[1].replace(Ml,"'"):t}function Ll(t,r){_e(2,arguments);var o=Ie(t),i=Ie(r);return o.getFullYear()===i.getFullYear()&&o.getMonth()===i.getMonth()}function Es(t){return t instanceof Date&&!isNaN(t)}function ql(t){console.log("parseTheDate: "+t);const r=t.split("."),o=new Date(r[2],r[1]-1,r[0]);return Es(o)?o:(console.error("Date received: ",o),"")}function Fl(t){const r=String(t.getDate()).padStart(2,"0"),o=String(t.getMonth()+1).padStart(2,"0"),i=t.getFullYear();return`${r}.${o}.${i}`}function Hl(t){return{de:"Sie sind fertig! Es sind keine Artikel mehr zu bearbeiten.",en:"You are ready! There are no items left to process."}[t]||"Message not available"}function Bl(t){return{de:"Die Daten wurden erfolgreich übermittelt!",en:"The data was successfully submitted!"}[t]||"Message not available"}function Kl(t){return{de:"Die Daten konnten nicht übermittelt werden!",en:"The data could not be submitted!"}[t]||"Message not available"}function jl(t){const r={de:"Es sind keine Artikel zum Übermitteln vorhanden!",en:"There are no items to submit!"};return alert(r[t]||"Message not available"),r[t]||"Message not available"}const eo=Ht(null),to=Ht(null);let ro=!1;function Er(t){console.log("Changes made: ",t),console.log("changesMades: ",ro),ro=t}window.addEventListener("beforeunload",t=>{ro&&(t.preventDefault(),t.returnValue="value")});const Tr=()=>{let t=document.getElementsByClassName("gridjs-wrapper");if(console.log("Checking for the grid element..."),t.length>0){const r=t[0],o=new MutationObserver(()=>{if(r.clientHeight>0){const s=window.innerHeight;r.style.height=`${s}px`,console.log("Grid element found! New height: "+r.style.height),o.disconnect()}});o.observe(r,{attributes:!0,childList:!0,subtree:!0})}else setTimeout(Tr,100)};let ft=null,nt=null,no,Ua=new Set;const Wl=new Date,oo=new Date;oo.setMonth(oo.getMonth()+3);Yr.subscribe(t=>{ft=t});Zn.subscribe(t=>{nt=t,console.log("currentDate",nt)});function bs(t){if(Es(t)){const r=document.querySelector(`.date-picker-button-${ft} .hidden-date`);r&&(r.innerText=Rr(t,"dd.MM.yyyy"),r.style.display="inline"),no=t,Er(!0)}else console.error("Invalid date in setBtn:",t)}function Qr(t){let r=Tu({start:vu(Su(t)),end:Au(Cu(t))});const o=document.querySelectorAll(`.date-${ft}`);for(let i=0;i<r.length;i++){if(o[i]===void 0)return;if(o[i].removeEventListener("click",o[i].onDayClick),Ll(r[i],nt)?o[i].classList.remove("date-picker-other-month-date"):o[i].classList.add("date-picker-other-month-date"),o[i].innerText=Rr(r[i],"d"),o[i].onDayClick=function(){bs(r[i]),document.querySelector(`.date-picker-${ft}`).classList.remove("show"),no=null,nt=new Date},new Date(r[i])<new Date(Wl)||new Date(r[i])>new Date(oo)){o[i].classList.add("date-picker-disabled");continue}else o[i].classList.remove("date-picker-disabled");o[i].addEventListener("click",o[i].onDayClick),_u(r[i],no)?o[i].classList.add("selected"):o[i].classList.remove("selected")}}function Gl(){console.log("onDatePickerMount"+ft),setTimeout(()=>{const t=document.querySelector(`.date-picker-removeDate-${ft}`),r=document.querySelector(`.date-picker-button-${ft}`),o=document.querySelector(`.date-picker-${ft}`),i=document.querySelector(`.current-month-${ft}`);if(r&&o&&i){let s=function(v){o&&!o.contains(v.target)&&!r.contains(v.target)&&(o.classList.remove("show"),document.removeEventListener("click",s))},l=function(v){console.log("remove date value clicked")},d=function(){Qr(nt)},f=function(v){let y=!1;v.target.matches(".prev-month-button")?(nt=Ia(nt,{months:-1}),y=!0):v.target.matches(".next-month-button")&&(nt=Ia(nt,{months:1}),y=!0,console.log("next month clicked")),y&&(i.innerText=Rr(nt,"MMMM - yyyy"),Qr(nt))};console.log("elem identificate"),bs(nt),i.innerText=Rr(nt,"MMMM - yyyy"),Ua.has(ft)?console.log("Event listeners already appended for this dateProp"):(r.addEventListener("click",d),o.addEventListener("click",f),console.log("Event listener added"),t.addEventListener("click",l),Ua.add(ft)),document.addEventListener("click",s),Qr(nt)}else console.log(r&&o&&i),r.removeEventListener("click",handleDatePickerBtnClick),o.removeEventListener("click",handleDatePickerClick),console.log("elem ne identificate")},0)}const Sr=Ht(!0),Cs=Ht(null),Ts=Ht(null);function Ss(t,r){return function(){return t.apply(r,arguments)}}const{toString:zl}=Object.prototype,{getPrototypeOf:go}=Object,mn=(t=>r=>{const o=zl.call(r);return t[o]||(t[o]=o.slice(8,-1).toLowerCase())})(Object.create(null)),St=t=>(t=t.toLowerCase(),r=>mn(r)===t),gn=t=>r=>typeof r===t,{isArray:pr}=Array,Or=gn("undefined");function $l(t){return t!==null&&!Or(t)&&t.constructor!==null&&!Or(t.constructor)&&dt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const As=St("ArrayBuffer");function Vl(t){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(t):r=t&&t.buffer&&As(t.buffer),r}const Yl=gn("string"),dt=gn("function"),Is=gn("number"),yn=t=>t!==null&&typeof t=="object",Ql=t=>t===!0||t===!1,Jr=t=>{if(mn(t)!=="object")return!1;const r=go(t);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Jl=St("Date"),Xl=St("File"),Zl=St("Blob"),ed=St("FileList"),td=t=>yn(t)&&dt(t.pipe),rd=t=>{let r;return t&&(typeof FormData=="function"&&t instanceof FormData||dt(t.append)&&((r=mn(t))==="formdata"||r==="object"&&dt(t.toString)&&t.toString()==="[object FormData]"))},nd=St("URLSearchParams"),od=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ur(t,r,{allOwnKeys:o=!1}={}){if(t===null||typeof t>"u")return;let i,s;if(typeof t!="object"&&(t=[t]),pr(t))for(i=0,s=t.length;i<s;i++)r.call(null,t[i],i,t);else{const l=o?Object.getOwnPropertyNames(t):Object.keys(t),d=l.length;let f;for(i=0;i<d;i++)f=l[i],r.call(null,t[f],f,t)}}function ks(t,r){r=r.toLowerCase();const o=Object.keys(t);let i=o.length,s;for(;i-- >0;)if(s=o[i],r===s.toLowerCase())return s;return null}const Rs=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Os=t=>!Or(t)&&t!==Rs;function io(){const{caseless:t}=Os(this)&&this||{},r={},o=(i,s)=>{const l=t&&ks(r,s)||s;Jr(r[l])&&Jr(i)?r[l]=io(r[l],i):Jr(i)?r[l]=io({},i):pr(i)?r[l]=i.slice():r[l]=i};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Ur(arguments[i],o);return r}const id=(t,r,o,{allOwnKeys:i}={})=>(Ur(r,(s,l)=>{o&&dt(s)?t[l]=Ss(s,o):t[l]=s},{allOwnKeys:i}),t),ad=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),sd=(t,r,o,i)=>{t.prototype=Object.create(r.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:r.prototype}),o&&Object.assign(t.prototype,o)},cd=(t,r,o,i)=>{let s,l,d;const f={};if(r=r||{},t==null)return r;do{for(s=Object.getOwnPropertyNames(t),l=s.length;l-- >0;)d=s[l],(!i||i(d,t,r))&&!f[d]&&(r[d]=t[d],f[d]=!0);t=o!==!1&&go(t)}while(t&&(!o||o(t,r))&&t!==Object.prototype);return r},ud=(t,r,o)=>{t=String(t),(o===void 0||o>t.length)&&(o=t.length),o-=r.length;const i=t.indexOf(r,o);return i!==-1&&i===o},ld=t=>{if(!t)return null;if(pr(t))return t;let r=t.length;if(!Is(r))return null;const o=new Array(r);for(;r-- >0;)o[r]=t[r];return o},dd=(t=>r=>t&&r instanceof t)(typeof Uint8Array<"u"&&go(Uint8Array)),hd=(t,r)=>{const i=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=i.next())&&!s.done;){const l=s.value;r.call(t,l[0],l[1])}},pd=(t,r)=>{let o;const i=[];for(;(o=t.exec(r))!==null;)i.push(o);return i},fd=St("HTMLFormElement"),md=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(o,i,s){return i.toUpperCase()+s}),Ma=(({hasOwnProperty:t})=>(r,o)=>t.call(r,o))(Object.prototype),gd=St("RegExp"),Ps=(t,r)=>{const o=Object.getOwnPropertyDescriptors(t),i={};Ur(o,(s,l)=>{let d;(d=r(s,l,t))!==!1&&(i[l]=d||s)}),Object.defineProperties(t,i)},yd=t=>{Ps(t,(r,o)=>{if(dt(t)&&["arguments","caller","callee"].indexOf(o)!==-1)return!1;const i=t[o];if(dt(i)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+o+"'")})}})},vd=(t,r)=>{const o={},i=s=>{s.forEach(l=>{o[l]=!0})};return pr(t)?i(t):i(String(t).split(r)),o},wd=()=>{},_d=(t,r)=>(t=+t,Number.isFinite(t)?t:r),jn="abcdefghijklmnopqrstuvwxyz",Da="0123456789",Ns={DIGIT:Da,ALPHA:jn,ALPHA_DIGIT:jn+jn.toUpperCase()+Da},Ed=(t=16,r=Ns.ALPHA_DIGIT)=>{let o="";const{length:i}=r;for(;t--;)o+=r[Math.random()*i|0];return o};function bd(t){return!!(t&&dt(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Cd=t=>{const r=new Array(10),o=(i,s)=>{if(yn(i)){if(r.indexOf(i)>=0)return;if(!("toJSON"in i)){r[s]=i;const l=pr(i)?[]:{};return Ur(i,(d,f)=>{const v=o(d,s+1);!Or(v)&&(l[f]=v)}),r[s]=void 0,l}}return i};return o(t,0)},Td=St("AsyncFunction"),Sd=t=>t&&(yn(t)||dt(t))&&dt(t.then)&&dt(t.catch),A={isArray:pr,isArrayBuffer:As,isBuffer:$l,isFormData:rd,isArrayBufferView:Vl,isString:Yl,isNumber:Is,isBoolean:Ql,isObject:yn,isPlainObject:Jr,isUndefined:Or,isDate:Jl,isFile:Xl,isBlob:Zl,isRegExp:gd,isFunction:dt,isStream:td,isURLSearchParams:nd,isTypedArray:dd,isFileList:ed,forEach:Ur,merge:io,extend:id,trim:od,stripBOM:ad,inherits:sd,toFlatObject:cd,kindOf:mn,kindOfTest:St,endsWith:ud,toArray:ld,forEachEntry:hd,matchAll:pd,isHTMLForm:fd,hasOwnProperty:Ma,hasOwnProp:Ma,reduceDescriptors:Ps,freezeMethods:yd,toObjectSet:vd,toCamelCase:md,noop:wd,toFiniteNumber:_d,findKey:ks,global:Rs,isContextDefined:Os,ALPHABET:Ns,generateString:Ed,isSpecCompliantForm:bd,toJSONObject:Cd,isAsyncFn:Td,isThenable:Sd};function ue(t,r,o,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",r&&(this.code=r),o&&(this.config=o),i&&(this.request=i),s&&(this.response=s)}A.inherits(ue,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:A.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Us=ue.prototype,Ms={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Ms[t]={value:t}});Object.defineProperties(ue,Ms);Object.defineProperty(Us,"isAxiosError",{value:!0});ue.from=(t,r,o,i,s,l)=>{const d=Object.create(Us);return A.toFlatObject(t,d,function(v){return v!==Error.prototype},f=>f!=="isAxiosError"),ue.call(d,t.message,r,o,i,s),d.cause=t,d.name=t.name,l&&Object.assign(d,l),d};const Ad=null;function ao(t){return A.isPlainObject(t)||A.isArray(t)}function Ds(t){return A.endsWith(t,"[]")?t.slice(0,-2):t}function xa(t,r,o){return t?t.concat(r).map(function(s,l){return s=Ds(s),!o&&l?"["+s+"]":s}).join(o?".":""):r}function Id(t){return A.isArray(t)&&!t.some(ao)}const kd=A.toFlatObject(A,{},null,function(r){return/^is[A-Z]/.test(r)});function vn(t,r,o){if(!A.isObject(t))throw new TypeError("target must be an object");r=r||new FormData,o=A.toFlatObject(o,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,P){return!A.isUndefined(P[k])});const i=o.metaTokens,s=o.visitor||m,l=o.dots,d=o.indexes,v=(o.Blob||typeof Blob<"u"&&Blob)&&A.isSpecCompliantForm(r);if(!A.isFunction(s))throw new TypeError("visitor must be a function");function y(C){if(C===null)return"";if(A.isDate(C))return C.toISOString();if(!v&&A.isBlob(C))throw new ue("Blob is not supported. Use a Buffer instead.");return A.isArrayBuffer(C)||A.isTypedArray(C)?v&&typeof Blob=="function"?new Blob([C]):Buffer.from(C):C}function m(C,k,P){let I=C;if(C&&!P&&typeof C=="object"){if(A.endsWith(k,"{}"))k=i?k:k.slice(0,-2),C=JSON.stringify(C);else if(A.isArray(C)&&Id(C)||(A.isFileList(C)||A.endsWith(k,"[]"))&&(I=A.toArray(C)))return k=Ds(k),I.forEach(function(U,D){!(A.isUndefined(U)||U===null)&&r.append(d===!0?xa([k],D,l):d===null?k:k+"[]",y(U))}),!1}return ao(C)?!0:(r.append(xa(P,k,l),y(C)),!1)}const E=[],w=Object.assign(kd,{defaultVisitor:m,convertValue:y,isVisitable:ao});function b(C,k){if(!A.isUndefined(C)){if(E.indexOf(C)!==-1)throw Error("Circular reference detected in "+k.join("."));E.push(C),A.forEach(C,function(I,L){(!(A.isUndefined(I)||I===null)&&s.call(r,I,A.isString(L)?L.trim():L,k,w))===!0&&b(I,k?k.concat(L):[L])}),E.pop()}}if(!A.isObject(t))throw new TypeError("data must be an object");return b(t),r}function La(t){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return r[i]})}function yo(t,r){this._pairs=[],t&&vn(t,this,r)}const xs=yo.prototype;xs.append=function(r,o){this._pairs.push([r,o])};xs.toString=function(r){const o=r?function(i){return r.call(this,i,La)}:La;return this._pairs.map(function(s){return o(s[0])+"="+o(s[1])},"").join("&")};function Rd(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ls(t,r,o){if(!r)return t;const i=o&&o.encode||Rd,s=o&&o.serialize;let l;if(s?l=s(r,o):l=A.isURLSearchParams(r)?r.toString():new yo(r,o).toString(i),l){const d=t.indexOf("#");d!==-1&&(t=t.slice(0,d)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t}class Od{constructor(){this.handlers=[]}use(r,o,i){return this.handlers.push({fulfilled:r,rejected:o,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){A.forEach(this.handlers,function(i){i!==null&&r(i)})}}const qa=Od,qs={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Pd=typeof URLSearchParams<"u"?URLSearchParams:yo,Nd=typeof FormData<"u"?FormData:null,Ud=typeof Blob<"u"?Blob:null,Md=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Dd=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),yt={isBrowser:!0,classes:{URLSearchParams:Pd,FormData:Nd,Blob:Ud},isStandardBrowserEnv:Md,isStandardBrowserWebWorkerEnv:Dd,protocols:["http","https","file","blob","url","data"]};function xd(t,r){return vn(t,new yt.classes.URLSearchParams,Object.assign({visitor:function(o,i,s,l){return yt.isNode&&A.isBuffer(o)?(this.append(i,o.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},r))}function Ld(t){return A.matchAll(/\w+|\[(\w*)]/g,t).map(r=>r[0]==="[]"?"":r[1]||r[0])}function qd(t){const r={},o=Object.keys(t);let i;const s=o.length;let l;for(i=0;i<s;i++)l=o[i],r[l]=t[l];return r}function Fs(t){function r(o,i,s,l){let d=o[l++];const f=Number.isFinite(+d),v=l>=o.length;return d=!d&&A.isArray(s)?s.length:d,v?(A.hasOwnProp(s,d)?s[d]=[s[d],i]:s[d]=i,!f):((!s[d]||!A.isObject(s[d]))&&(s[d]=[]),r(o,i,s[d],l)&&A.isArray(s[d])&&(s[d]=qd(s[d])),!f)}if(A.isFormData(t)&&A.isFunction(t.entries)){const o={};return A.forEachEntry(t,(i,s)=>{r(Ld(i),s,o,0)}),o}return null}function Fd(t,r,o){if(A.isString(t))try{return(r||JSON.parse)(t),A.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(o||JSON.stringify)(t)}const vo={transitional:qs,adapter:yt.isNode?"http":"xhr",transformRequest:[function(r,o){const i=o.getContentType()||"",s=i.indexOf("application/json")>-1,l=A.isObject(r);if(l&&A.isHTMLForm(r)&&(r=new FormData(r)),A.isFormData(r))return s&&s?JSON.stringify(Fs(r)):r;if(A.isArrayBuffer(r)||A.isBuffer(r)||A.isStream(r)||A.isFile(r)||A.isBlob(r))return r;if(A.isArrayBufferView(r))return r.buffer;if(A.isURLSearchParams(r))return o.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let f;if(l){if(i.indexOf("application/x-www-form-urlencoded")>-1)return xd(r,this.formSerializer).toString();if((f=A.isFileList(r))||i.indexOf("multipart/form-data")>-1){const v=this.env&&this.env.FormData;return vn(f?{"files[]":r}:r,v&&new v,this.formSerializer)}}return l||s?(o.setContentType("application/json",!1),Fd(r)):r}],transformResponse:[function(r){const o=this.transitional||vo.transitional,i=o&&o.forcedJSONParsing,s=this.responseType==="json";if(r&&A.isString(r)&&(i&&!this.responseType||s)){const d=!(o&&o.silentJSONParsing)&&s;try{return JSON.parse(r)}catch(f){if(d)throw f.name==="SyntaxError"?ue.from(f,ue.ERR_BAD_RESPONSE,this,null,this.response):f}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:yt.classes.FormData,Blob:yt.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};A.forEach(["delete","get","head","post","put","patch"],t=>{vo.headers[t]={}});const wo=vo,Hd=A.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Bd=t=>{const r={};let o,i,s;return t&&t.split(`
`).forEach(function(d){s=d.indexOf(":"),o=d.substring(0,s).trim().toLowerCase(),i=d.substring(s+1).trim(),!(!o||r[o]&&Hd[o])&&(o==="set-cookie"?r[o]?r[o].push(i):r[o]=[i]:r[o]=r[o]?r[o]+", "+i:i)}),r},Fa=Symbol("internals");function _r(t){return t&&String(t).trim().toLowerCase()}function Xr(t){return t===!1||t==null?t:A.isArray(t)?t.map(Xr):String(t)}function Kd(t){const r=Object.create(null),o=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=o.exec(t);)r[i[1]]=i[2];return r}const jd=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Wn(t,r,o,i,s){if(A.isFunction(i))return i.call(this,r,o);if(s&&(r=o),!!A.isString(r)){if(A.isString(i))return r.indexOf(i)!==-1;if(A.isRegExp(i))return i.test(r)}}function Wd(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,o,i)=>o.toUpperCase()+i)}function Gd(t,r){const o=A.toCamelCase(" "+r);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+o,{value:function(s,l,d){return this[i].call(this,r,s,l,d)},configurable:!0})})}class wn{constructor(r){r&&this.set(r)}set(r,o,i){const s=this;function l(f,v,y){const m=_r(v);if(!m)throw new Error("header name must be a non-empty string");const E=A.findKey(s,m);(!E||s[E]===void 0||y===!0||y===void 0&&s[E]!==!1)&&(s[E||v]=Xr(f))}const d=(f,v)=>A.forEach(f,(y,m)=>l(y,m,v));return A.isPlainObject(r)||r instanceof this.constructor?d(r,o):A.isString(r)&&(r=r.trim())&&!jd(r)?d(Bd(r),o):r!=null&&l(o,r,i),this}get(r,o){if(r=_r(r),r){const i=A.findKey(this,r);if(i){const s=this[i];if(!o)return s;if(o===!0)return Kd(s);if(A.isFunction(o))return o.call(this,s,i);if(A.isRegExp(o))return o.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,o){if(r=_r(r),r){const i=A.findKey(this,r);return!!(i&&this[i]!==void 0&&(!o||Wn(this,this[i],i,o)))}return!1}delete(r,o){const i=this;let s=!1;function l(d){if(d=_r(d),d){const f=A.findKey(i,d);f&&(!o||Wn(i,i[f],f,o))&&(delete i[f],s=!0)}}return A.isArray(r)?r.forEach(l):l(r),s}clear(r){const o=Object.keys(this);let i=o.length,s=!1;for(;i--;){const l=o[i];(!r||Wn(this,this[l],l,r,!0))&&(delete this[l],s=!0)}return s}normalize(r){const o=this,i={};return A.forEach(this,(s,l)=>{const d=A.findKey(i,l);if(d){o[d]=Xr(s),delete o[l];return}const f=r?Wd(l):String(l).trim();f!==l&&delete o[l],o[f]=Xr(s),i[f]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const o=Object.create(null);return A.forEach(this,(i,s)=>{i!=null&&i!==!1&&(o[s]=r&&A.isArray(i)?i.join(", "):i)}),o}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,o])=>r+": "+o).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...o){const i=new this(r);return o.forEach(s=>i.set(s)),i}static accessor(r){const i=(this[Fa]=this[Fa]={accessors:{}}).accessors,s=this.prototype;function l(d){const f=_r(d);i[f]||(Gd(s,d),i[f]=!0)}return A.isArray(r)?r.forEach(l):l(r),this}}wn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);A.reduceDescriptors(wn.prototype,({value:t},r)=>{let o=r[0].toUpperCase()+r.slice(1);return{get:()=>t,set(i){this[o]=i}}});A.freezeMethods(wn);const At=wn;function Gn(t,r){const o=this||wo,i=r||o,s=At.from(i.headers);let l=i.data;return A.forEach(t,function(f){l=f.call(o,l,s.normalize(),r?r.status:void 0)}),s.normalize(),l}function Hs(t){return!!(t&&t.__CANCEL__)}function Mr(t,r,o){ue.call(this,t??"canceled",ue.ERR_CANCELED,r,o),this.name="CanceledError"}A.inherits(Mr,ue,{__CANCEL__:!0});function zd(t,r,o){const i=o.config.validateStatus;!o.status||!i||i(o.status)?t(o):r(new ue("Request failed with status code "+o.status,[ue.ERR_BAD_REQUEST,ue.ERR_BAD_RESPONSE][Math.floor(o.status/100)-4],o.config,o.request,o))}const $d=yt.isStandardBrowserEnv?function(){return{write:function(o,i,s,l,d,f){const v=[];v.push(o+"="+encodeURIComponent(i)),A.isNumber(s)&&v.push("expires="+new Date(s).toGMTString()),A.isString(l)&&v.push("path="+l),A.isString(d)&&v.push("domain="+d),f===!0&&v.push("secure"),document.cookie=v.join("; ")},read:function(o){const i=document.cookie.match(new RegExp("(^|;\\s*)("+o+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(o){this.write(o,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Vd(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Yd(t,r){return r?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t}function Bs(t,r){return t&&!Vd(r)?Yd(t,r):r}const Qd=yt.isStandardBrowserEnv?function(){const r=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a");let i;function s(l){let d=l;return r&&(o.setAttribute("href",d),d=o.href),o.setAttribute("href",d),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:o.pathname.charAt(0)==="/"?o.pathname:"/"+o.pathname}}return i=s(window.location.href),function(d){const f=A.isString(d)?s(d):d;return f.protocol===i.protocol&&f.host===i.host}}():function(){return function(){return!0}}();function Jd(t){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return r&&r[1]||""}function Xd(t,r){t=t||10;const o=new Array(t),i=new Array(t);let s=0,l=0,d;return r=r!==void 0?r:1e3,function(v){const y=Date.now(),m=i[l];d||(d=y),o[s]=v,i[s]=y;let E=l,w=0;for(;E!==s;)w+=o[E++],E=E%t;if(s=(s+1)%t,s===l&&(l=(l+1)%t),y-d<r)return;const b=m&&y-m;return b?Math.round(w*1e3/b):void 0}}function Ha(t,r){let o=0;const i=Xd(50,250);return s=>{const l=s.loaded,d=s.lengthComputable?s.total:void 0,f=l-o,v=i(f),y=l<=d;o=l;const m={loaded:l,total:d,progress:d?l/d:void 0,bytes:f,rate:v||void 0,estimated:v&&d&&y?(d-l)/v:void 0,event:s};m[r?"download":"upload"]=!0,t(m)}}const Zd=typeof XMLHttpRequest<"u",eh=Zd&&function(t){return new Promise(function(o,i){let s=t.data;const l=At.from(t.headers).normalize(),d=t.responseType;let f;function v(){t.cancelToken&&t.cancelToken.unsubscribe(f),t.signal&&t.signal.removeEventListener("abort",f)}A.isFormData(s)&&(yt.isStandardBrowserEnv||yt.isStandardBrowserWebWorkerEnv?l.setContentType(!1):l.setContentType("multipart/form-data;",!1));let y=new XMLHttpRequest;if(t.auth){const b=t.auth.username||"",C=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";l.set("Authorization","Basic "+btoa(b+":"+C))}const m=Bs(t.baseURL,t.url);y.open(t.method.toUpperCase(),Ls(m,t.params,t.paramsSerializer),!0),y.timeout=t.timeout;function E(){if(!y)return;const b=At.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),k={data:!d||d==="text"||d==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:b,config:t,request:y};zd(function(I){o(I),v()},function(I){i(I),v()},k),y=null}if("onloadend"in y?y.onloadend=E:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(E)},y.onabort=function(){y&&(i(new ue("Request aborted",ue.ECONNABORTED,t,y)),y=null)},y.onerror=function(){i(new ue("Network Error",ue.ERR_NETWORK,t,y)),y=null},y.ontimeout=function(){let C=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const k=t.transitional||qs;t.timeoutErrorMessage&&(C=t.timeoutErrorMessage),i(new ue(C,k.clarifyTimeoutError?ue.ETIMEDOUT:ue.ECONNABORTED,t,y)),y=null},yt.isStandardBrowserEnv){const b=(t.withCredentials||Qd(m))&&t.xsrfCookieName&&$d.read(t.xsrfCookieName);b&&l.set(t.xsrfHeaderName,b)}s===void 0&&l.setContentType(null),"setRequestHeader"in y&&A.forEach(l.toJSON(),function(C,k){y.setRequestHeader(k,C)}),A.isUndefined(t.withCredentials)||(y.withCredentials=!!t.withCredentials),d&&d!=="json"&&(y.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&y.addEventListener("progress",Ha(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&y.upload&&y.upload.addEventListener("progress",Ha(t.onUploadProgress)),(t.cancelToken||t.signal)&&(f=b=>{y&&(i(!b||b.type?new Mr(null,t,y):b),y.abort(),y=null)},t.cancelToken&&t.cancelToken.subscribe(f),t.signal&&(t.signal.aborted?f():t.signal.addEventListener("abort",f)));const w=Jd(m);if(w&&yt.protocols.indexOf(w)===-1){i(new ue("Unsupported protocol "+w+":",ue.ERR_BAD_REQUEST,t));return}y.send(s||null)})},Zr={http:Ad,xhr:eh};A.forEach(Zr,(t,r)=>{if(t){try{Object.defineProperty(t,"name",{value:r})}catch{}Object.defineProperty(t,"adapterName",{value:r})}});const Ks={getAdapter:t=>{t=A.isArray(t)?t:[t];const{length:r}=t;let o,i;for(let s=0;s<r&&(o=t[s],!(i=A.isString(o)?Zr[o.toLowerCase()]:o));s++);if(!i)throw i===!1?new ue(`Adapter ${o} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(A.hasOwnProp(Zr,o)?`Adapter '${o}' is not available in the build`:`Unknown adapter '${o}'`);if(!A.isFunction(i))throw new TypeError("adapter is not a function");return i},adapters:Zr};function zn(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Mr(null,t)}function Ba(t){return zn(t),t.headers=At.from(t.headers),t.data=Gn.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Ks.getAdapter(t.adapter||wo.adapter)(t).then(function(i){return zn(t),i.data=Gn.call(t,t.transformResponse,i),i.headers=At.from(i.headers),i},function(i){return Hs(i)||(zn(t),i&&i.response&&(i.response.data=Gn.call(t,t.transformResponse,i.response),i.response.headers=At.from(i.response.headers))),Promise.reject(i)})}const Ka=t=>t instanceof At?t.toJSON():t;function lr(t,r){r=r||{};const o={};function i(y,m,E){return A.isPlainObject(y)&&A.isPlainObject(m)?A.merge.call({caseless:E},y,m):A.isPlainObject(m)?A.merge({},m):A.isArray(m)?m.slice():m}function s(y,m,E){if(A.isUndefined(m)){if(!A.isUndefined(y))return i(void 0,y,E)}else return i(y,m,E)}function l(y,m){if(!A.isUndefined(m))return i(void 0,m)}function d(y,m){if(A.isUndefined(m)){if(!A.isUndefined(y))return i(void 0,y)}else return i(void 0,m)}function f(y,m,E){if(E in r)return i(y,m);if(E in t)return i(void 0,y)}const v={url:l,method:l,data:l,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:f,headers:(y,m)=>s(Ka(y),Ka(m),!0)};return A.forEach(Object.keys(Object.assign({},t,r)),function(m){const E=v[m]||s,w=E(t[m],r[m],m);A.isUndefined(w)&&E!==f||(o[m]=w)}),o}const js="1.5.0",_o={};["object","boolean","number","function","string","symbol"].forEach((t,r)=>{_o[t]=function(i){return typeof i===t||"a"+(r<1?"n ":" ")+t}});const ja={};_o.transitional=function(r,o,i){function s(l,d){return"[Axios v"+js+"] Transitional option '"+l+"'"+d+(i?". "+i:"")}return(l,d,f)=>{if(r===!1)throw new ue(s(d," has been removed"+(o?" in "+o:"")),ue.ERR_DEPRECATED);return o&&!ja[d]&&(ja[d]=!0,console.warn(s(d," has been deprecated since v"+o+" and will be removed in the near future"))),r?r(l,d,f):!0}};function th(t,r,o){if(typeof t!="object")throw new ue("options must be an object",ue.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let s=i.length;for(;s-- >0;){const l=i[s],d=r[l];if(d){const f=t[l],v=f===void 0||d(f,l,t);if(v!==!0)throw new ue("option "+l+" must be "+v,ue.ERR_BAD_OPTION_VALUE);continue}if(o!==!0)throw new ue("Unknown option "+l,ue.ERR_BAD_OPTION)}}const so={assertOptions:th,validators:_o},Mt=so.validators;class cn{constructor(r){this.defaults=r,this.interceptors={request:new qa,response:new qa}}request(r,o){typeof r=="string"?(o=o||{},o.url=r):o=r||{},o=lr(this.defaults,o);const{transitional:i,paramsSerializer:s,headers:l}=o;i!==void 0&&so.assertOptions(i,{silentJSONParsing:Mt.transitional(Mt.boolean),forcedJSONParsing:Mt.transitional(Mt.boolean),clarifyTimeoutError:Mt.transitional(Mt.boolean)},!1),s!=null&&(A.isFunction(s)?o.paramsSerializer={serialize:s}:so.assertOptions(s,{encode:Mt.function,serialize:Mt.function},!0)),o.method=(o.method||this.defaults.method||"get").toLowerCase();let d=l&&A.merge(l.common,l[o.method]);l&&A.forEach(["delete","get","head","post","put","patch","common"],C=>{delete l[C]}),o.headers=At.concat(d,l);const f=[];let v=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(o)===!1||(v=v&&k.synchronous,f.unshift(k.fulfilled,k.rejected))});const y=[];this.interceptors.response.forEach(function(k){y.push(k.fulfilled,k.rejected)});let m,E=0,w;if(!v){const C=[Ba.bind(this),void 0];for(C.unshift.apply(C,f),C.push.apply(C,y),w=C.length,m=Promise.resolve(o);E<w;)m=m.then(C[E++],C[E++]);return m}w=f.length;let b=o;for(E=0;E<w;){const C=f[E++],k=f[E++];try{b=C(b)}catch(P){k.call(this,P);break}}try{m=Ba.call(this,b)}catch(C){return Promise.reject(C)}for(E=0,w=y.length;E<w;)m=m.then(y[E++],y[E++]);return m}getUri(r){r=lr(this.defaults,r);const o=Bs(r.baseURL,r.url);return Ls(o,r.params,r.paramsSerializer)}}A.forEach(["delete","get","head","options"],function(r){cn.prototype[r]=function(o,i){return this.request(lr(i||{},{method:r,url:o,data:(i||{}).data}))}});A.forEach(["post","put","patch"],function(r){function o(i){return function(l,d,f){return this.request(lr(f||{},{method:r,headers:i?{"Content-Type":"multipart/form-data"}:{},url:l,data:d}))}}cn.prototype[r]=o(),cn.prototype[r+"Form"]=o(!0)});const en=cn;class Eo{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let o;this.promise=new Promise(function(l){o=l});const i=this;this.promise.then(s=>{if(!i._listeners)return;let l=i._listeners.length;for(;l-- >0;)i._listeners[l](s);i._listeners=null}),this.promise.then=s=>{let l;const d=new Promise(f=>{i.subscribe(f),l=f}).then(s);return d.cancel=function(){i.unsubscribe(l)},d},r(function(l,d,f){i.reason||(i.reason=new Mr(l,d,f),o(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const o=this._listeners.indexOf(r);o!==-1&&this._listeners.splice(o,1)}static source(){let r;return{token:new Eo(function(s){r=s}),cancel:r}}}const rh=Eo;function nh(t){return function(o){return t.apply(null,o)}}function oh(t){return A.isObject(t)&&t.isAxiosError===!0}const co={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(co).forEach(([t,r])=>{co[r]=t});const ih=co;function Ws(t){const r=new en(t),o=Ss(en.prototype.request,r);return A.extend(o,en.prototype,r,{allOwnKeys:!0}),A.extend(o,r,null,{allOwnKeys:!0}),o.create=function(s){return Ws(lr(t,s))},o}const De=Ws(wo);De.Axios=en;De.CanceledError=Mr;De.CancelToken=rh;De.isCancel=Hs;De.VERSION=js;De.toFormData=vn;De.AxiosError=ue;De.Cancel=De.CanceledError;De.all=function(r){return Promise.all(r)};De.spread=nh;De.isAxiosError=oh;De.mergeConfig=lr;De.AxiosHeaders=At;De.formToJSON=t=>Fs(A.isHTMLForm(t)?new FormData(t):t);De.getAdapter=Ks.getAdapter;De.HttpStatusCode=ih;De.default=De;const Gs=De;let ah="https://prod-33.westeurope.logic.azure.com:443/workflows/affeb2eafd404ab5b6dcd60241001db2/triggers/manual/paths/invoke?api-version=2016-10-01&sp=%2Ftriggers%2Fmanual%2Frun&sv=1.0";async function sh(t,r){try{const o=await Gs.post(ah,{token:t},{headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+r}});if(o.status===200)return Sr.set(!1),o.data.value}catch(o){return console.error(o),Sr.set(!1),[]}return[]}let ch="https://prod-17.westeurope.logic.azure.com:443/workflows/44e321eb652f4b43b8103e732829ecd5/triggers/manual/paths/invoke?api-version=2016-10-01&sp=%2Ftriggers%2Fmanual%2Frun&sv=1.0";async function uh(t,r){try{const o=await Gs.post(ch,{token:t,JsonContent:r},{headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+t}});if(o.status===200){const i=Bl(ar(bt));return alert(i),setTimeout(()=>{const s=document.querySelector(".alert");s&&s.remove()},3e3),o.data.value}}catch(o){const i=Kl(ar(bt));return alert(i),console.error(o),setTimeout(()=>{const s=document.querySelector(".alert");s&&s.remove()},3e3),[]}return[]}function lh(t){let r,o,i;return{c(){r=te("div")},l(s){r=re(s,"DIV",{}),se(r).forEach(z)},m(s,l){Ae(s,r,l),o||(i=bc(t[1].call(null,r)),o=!0)},d(s){s&&z(r),o=!1,i()}}}function dh(t){let r;return{c(){r=te("div"),this.h()},l(o){r=re(o,"DIV",{class:!0}),se(r).forEach(z),this.h()},h(){Y(r,"class","loader svelte-1wh3u4p")},m(o,i){Ae(o,r,i)},d(o){o&&z(r)}}}function hh(t){let r,o,i,s;r=new ys({});function l(v,y){return v[0]?dh:lh}let d=l(t),f=d(t);return{c(){Vt(r.$$.fragment),o=Oe(),f.c(),i=xt()},l(v){Yt(r.$$.fragment,v),o=Pe(v),f.l(v),i=xt()},m(v,y){Qt(r,v,y),Ae(v,o,y),f.m(v,y),Ae(v,i,y),s=!0},p(v,[y]){d!==(d=l(v))&&(f.d(1),f=d(v),f&&(f.c(),f.m(i.parentNode,i)))},i(v){s||(mt(r.$$.fragment,v),s=!0)},o(v){gt(r.$$.fragment,v),s=!1},d(v){v&&(z(o),z(i)),Jt(r,v),f.d(v)}}}function ph(t,r,o){let i,s,l,d,f,v,y=null,m,E=[],w=[],b,C,k,P;Sr.subscribe(H=>{o(0,C=H)});function I(H,B){y!==null&&y!==B&&document.querySelector(`.date-picker-${y}`).classList.remove("show"),(H==="                  "||H.length<5)&&(H=Fl(new Date)),y=B,Yr.set(B),v=ql(H),Rr(v,"dd.MM.yyyy"),m=v,Zn.set(m),Qr(m),d.classList.toggle("show"),Gl(),w.push(B)}const L=(H,B)=>{const O=document.createElement("div");new pu({target:O,props:{dateProp:B,CurrentLanguage:ar(bt)}});const W=`<div class="Datepicker-wrapper">${O.innerHTML}</div>`;return lo(W)};async function U(H,B){try{let O=[];O=await sh(H,B);const W=O.map(K=>{const le={...K};return eo.subscribe(Z=>{b=Z}),b==null&&eo.set(le.Division),le.newDeliveryDate=" ",le});E=W,s.updateConfig({data:W}).forceRender(),Tr()}catch(O){console.log("Error:",O)}}const D=()=>{let H=ar(mo);return[{id:"PONumber",name:H("grid.purchaseOrderNumber")},{id:"ExternalOrderNumber",name:H("grid.externalOrderNumber")},,{id:"EmployeeEmail",name:H("grid.purchaserEmail")},{id:"OrderDate",name:H("grid.purchaseDate")},{id:"VendorID",name:H("grid.vendorId")},{id:"ArtNr2",name:H("grid.itemId2")},{id:"Description",name:H("grid.description")},{id:"OrderQuantity",name:H("grid.quantityLeftToDeliver")},{id:"SupplierItemNo",name:H("grid.supplierArticleNumber")},{id:"newDeliveryDate",name:H("grid.newDeliveryDate"),formatter:(B,O,W)=>{const K=O._cells[O._cells.length-1].data;return L(B,K)}},{id:"ItemInternalId",name:"rowIndexNumber",className:"hidden-column",hidden:!0}]},we=H=>(i=H,s=new au({columns:D(),data:[],sort:{multicolumn:!0},language:{noRecordsFound:Hl(ar(bt))},className:{th:"Datepicker-Headers"}}),s.render(i),i.addEventListener("click",B=>{if(B.target.matches("[class^='date-picker-removeDate-']")){const O=B.target.className.match(/date-picker-removeDate-(\d+)/);if(O){Er(!0),f=O[1],Yr.set(f),console.log("remove date value clicked for ",f);const W=document.querySelector(`.date-picker-button-${f} .hidden-date `);W&&(W.innerText="                  "),w=w.filter(K=>K!==f)}}if(B.target.matches("[class^='deliveryUnknownCheckbox-']")){const O=B.target.className.match(/deliveryUnknownCheckbox-(\d+)/);if(O){const W=O[1];Yr.set(W),console.log("Checkbox clicked for ",W);const K=document.querySelector(`.date-picker-button-${W} .hidden-date `),le=document.querySelector(`.date-picker-button-${W} `);w.forEach(Z=>{if(Z===W){const he=document.querySelector(`.date-picker-button-${W} .hidden-date `);he.innerText="                  ",Er(!0)}}),K&&(le.classList.toggle("date-picker-disabled"),Er(!0)),B.target.checked&&!w.includes(W)?(w=[...w,W],E.forEach(Z=>{Z.ItemInternalId===W&&(Z.newDeliveryDate="")})):B.target.checked||(w=w.filter(Z=>Z!==W))}}if(B.target.classList.contains("testing-button")){let W=Array.from(B.target.classList).find(K=>/date-picker-button-\d+/.test(K));if(W){let K=W.match(/\d+/)[0],Z=B.target.closest(".gridjs-tr").querySelector(".gridjs-td:last-child"),he=Z.querySelector(".hidden-date");const X=(he?he.innerText:null)||(Z?Z.querySelector(".date-picker-button").innerText:null);if(X!==null){m=X,Zn.set(m),console.log("Identifier: "+K),l=B.target,d=l.nextElementSibling;let x=l.getBoundingClientRect();d.style.top=x.bottom+window.scrollY+"px",I(X,K)}else console.log("Date value is null. Cannot proceed.")}else console.log("Identifier not found in class names. Cannot proceed.")}}),bt.subscribe(B=>{console.log("Current Locale:",B),Tr(),s.updateConfig({columns:D()}).forceRender()}),()=>{s.destroy()});return tn(async()=>{Cs.subscribe(async H=>{H&&(k=H)}),Ts.subscribe(async H=>{H&&(P=H,await U(k,H))})}),tn(()=>{document.getElementById("confirm-all-changes-btn").addEventListener("click",async()=>{if(Sr.set(!0),w.length===0){jl(ar(bt)),Sr.set(!1);return}const B=E.filter(O=>w.includes(O.ItemInternalId));B.forEach(O=>{O.newDeliveryDate=document.querySelector(`.date-picker-button-${O.ItemInternalId} .hidden-date `).innerText}),await U(k,P),await uh(P,B),Er(!1),Tr()})}),[C,we]}class fh extends qt{constructor(r){super(),Ft(this,r,ph,hh,Lt,{})}}function mh(t){let r,o,i,s="EN",l,d,f='<span class="nav-link">|</span>',v,y,m,E="DE",w,b;return{c(){r=te("ul"),o=te("li"),i=te("button"),i.textContent=s,l=Oe(),d=te("li"),d.innerHTML=f,v=Oe(),y=te("li"),m=te("button"),m.textContent=E,this.h()},l(C){r=re(C,"UL",{class:!0});var k=se(r);o=re(k,"LI",{class:!0});var P=se(o);i=re(P,"BUTTON",{class:!0,"data-svelte-h":!0}),$t(i)!=="svelte-nnbsh6"&&(i.textContent=s),P.forEach(z),l=Pe(k),d=re(k,"LI",{class:!0,"data-svelte-h":!0}),$t(d)!=="svelte-eec0b0"&&(d.innerHTML=f),v=Pe(k),y=re(k,"LI",{class:!0});var I=se(y);m=re(I,"BUTTON",{class:!0,"data-svelte-h":!0}),$t(m)!=="svelte-ox5j2e"&&(m.textContent=E),I.forEach(z),k.forEach(z),this.h()},h(){Y(i,"class","nav-link btn btn-link svelte-1b7h40g"),Kr(i,"font-bold",t[0]==="en"),Y(o,"class","nav-item"),Y(d,"class","nav-item"),Y(m,"class","nav-link btn btn-link svelte-1b7h40g"),Kr(m,"font-bold",t[0]==="de"),Y(y,"class","nav-item"),Y(r,"class","navbar-nav mlr-1percent mt-2")},m(C,k){Ae(C,r,k),j(r,o),j(o,i),j(r,l),j(r,d),j(r,v),j(r,y),j(y,m),w||(b=[Yi(i,"click",t[2]),Yi(m,"click",t[3])],w=!0)},p(C,[k]){k&1&&Kr(i,"font-bold",C[0]==="en"),k&1&&Kr(m,"font-bold",C[0]==="de")},i:it,o:it,d(C){C&&z(r),w=!1,Cc(b)}}}function gh(t,r,o){let i="en";function s(f){bt.set(f),o(0,i=f),Tr()}return bt.subscribe(f=>{o(0,i=f)}),[i,s,()=>s("en"),()=>s("de")]}class yh extends qt{constructor(r){super(),Ft(this,r,gh,mh,Lt,{})}}function vh(t){let r,o;return{c(){r=te("img"),this.h()},l(i){r=re(i,"IMG",{src:!0,class:!0,alt:!0}),this.h()},h(){Yn(r.src,o="https://c.tenor.com/On7kvXhzml4AAAAi/loading-gif.gif")||Y(r,"src",o),Y(r,"class","loadingGif"),Y(r,"alt","Loading...")},m(i,s){Ae(i,r,s)},p:it,d(i){i&&z(r)}}}function wh(t){let r,o="Logo 404";return{c(){r=te("p"),r.textContent=o},l(i){r=re(i,"P",{"data-svelte-h":!0}),$t(r)!=="svelte-1uudixd"&&(r.textContent=o)},m(i,s){Ae(i,r,s)},p:it,d(i){i&&z(r)}}}function _h(t){let r,o;return{c(){r=te("img"),this.h()},l(i){r=re(i,"IMG",{src:!0,style:!0,alt:!0}),this.h()},h(){Yn(r.src,o=t[0])||Y(r,"src",o),rn(r,"height","30px"),rn(r,"width","auto"),Y(r,"alt","PageLogo")},m(i,s){Ae(i,r,s)},p(i,s){s&1&&!Yn(r.src,o=i[0])&&Y(r,"src",o)},d(i){i&&z(r)}}}function Eh(t){let r;function o(l,d){if(l[1])return _h;if(l[2])return wh;if(l[3])return vh}let i=o(t),s=i&&i(t);return{c(){s&&s.c(),r=xt()},l(l){s&&s.l(l),r=xt()},m(l,d){s&&s.m(l,d),Ae(l,r,d)},p(l,[d]){i===(i=o(l))&&s?s.p(l,d):(s&&s.d(1),s=i&&i(l),s&&(s.c(),s.m(r.parentNode,r)))},i:it,o:it,d(l){l&&z(r),s&&s.d(l)}}}function bh(t,r,o){let{src:i}=r,s=!1,l=!1,d=!1;return tn(()=>{const f=new Image;f.src=i,o(3,d=!0),f.onload=()=>{o(3,d=!1),o(1,s=!0)},f.onerror=()=>{o(3,d=!1),o(2,l=!0)}}),t.$$set=f=>{"src"in f&&o(0,i=f.src)},[i,s,l,d]}class Ch extends qt{constructor(r){super(),Ft(this,r,bh,Eh,Lt,{src:0})}}/*! @azure/msal-browser v2.13.1 2021-03-31 */(function(t,r){typeof exports=="object"&&typeof module<"u"?r(exports):typeof define=="function"&&define.amd?define(["exports"],r):r((t=t||self).msal={})})(globalThis,function(t){/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var r=function(c,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(n[u]=a[u])})(c,e)};function o(c,e){function n(){this.constructor=c}r(c,e),c.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var i=function(){return(i=Object.assign||function(c){for(var e,n=1,a=arguments.length;n<a;n++)for(var u in e=arguments[n])Object.prototype.hasOwnProperty.call(e,u)&&(c[u]=e[u]);return c}).apply(this,arguments)};function s(c,e,n,a){return new(n||(n=Promise))(function(u,h){function p(S){try{_(a.next(S))}catch(T){h(T)}}function g(S){try{_(a.throw(S))}catch(T){h(T)}}function _(S){var T;S.done?u(S.value):(T=S.value,T instanceof n?T:new n(function(R){R(T)})).then(p,g)}_((a=a.apply(c,e||[])).next())})}function l(c,e){var n,a,u,h,p={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return h={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function g(_){return function(S){return function(T){if(n)throw new TypeError("Generator is already executing.");for(;p;)try{if(n=1,a&&(u=2&T[0]?a.return:T[0]?a.throw||((u=a.return)&&u.call(a),0):a.next)&&!(u=u.call(a,T[1])).done)return u;switch(a=0,u&&(T=[2&T[0],u.value]),T[0]){case 0:case 1:u=T;break;case 4:return p.label++,{value:T[1],done:!1};case 5:p.label++,a=T[1],T=[0];continue;case 7:T=p.ops.pop(),p.trys.pop();continue;default:if(u=p.trys,!((u=u.length>0&&u[u.length-1])||T[0]!==6&&T[0]!==2)){p=0;continue}if(T[0]===3&&(!u||T[1]>u[0]&&T[1]<u[3])){p.label=T[1];break}if(T[0]===6&&p.label<u[1]){p.label=u[1],u=T;break}if(u&&p.label<u[2]){p.label=u[2],p.ops.push(T);break}u[2]&&p.ops.pop(),p.trys.pop();continue}T=e.call(c,p)}catch(R){T=[6,R],a=0}finally{n=u=0}if(5&T[0])throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}([_,S])}}}function d(c,e){var n=typeof Symbol=="function"&&c[Symbol.iterator];if(!n)return c;var a,u,h=n.call(c),p=[];try{for(;(e===void 0||e-- >0)&&!(a=h.next()).done;)p.push(a.value)}catch(g){u={error:g}}finally{try{a&&!a.done&&(n=h.return)&&n.call(h)}finally{if(u)throw u.error}}return p}function f(){for(var c=[],e=0;e<arguments.length;e++)c=c.concat(d(arguments[e]));return c}/*! @azure/msal-common v4.1.1 2021-03-31 *//*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var v=function(c,e){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(n[u]=a[u])})(c,e)};function y(c,e){function n(){this.constructor=c}v(c,e),c.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var m=function(){return(m=Object.assign||function(c){for(var e,n=1,a=arguments.length;n<a;n++)for(var u in e=arguments[n])Object.prototype.hasOwnProperty.call(e,u)&&(c[u]=e[u]);return c}).apply(this,arguments)};function E(c,e,n,a){return new(n||(n=Promise))(function(u,h){function p(S){try{_(a.next(S))}catch(T){h(T)}}function g(S){try{_(a.throw(S))}catch(T){h(T)}}function _(S){var T;S.done?u(S.value):(T=S.value,T instanceof n?T:new n(function(R){R(T)})).then(p,g)}_((a=a.apply(c,e||[])).next())})}function w(c,e){var n,a,u,h,p={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return h={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function g(_){return function(S){return function(T){if(n)throw new TypeError("Generator is already executing.");for(;p;)try{if(n=1,a&&(u=2&T[0]?a.return:T[0]?a.throw||((u=a.return)&&u.call(a),0):a.next)&&!(u=u.call(a,T[1])).done)return u;switch(a=0,u&&(T=[2&T[0],u.value]),T[0]){case 0:case 1:u=T;break;case 4:return p.label++,{value:T[1],done:!1};case 5:p.label++,a=T[1],T=[0];continue;case 7:T=p.ops.pop(),p.trys.pop();continue;default:if(u=p.trys,!((u=u.length>0&&u[u.length-1])||T[0]!==6&&T[0]!==2)){p=0;continue}if(T[0]===3&&(!u||T[1]>u[0]&&T[1]<u[3])){p.label=T[1];break}if(T[0]===6&&p.label<u[1]){p.label=u[1],u=T;break}if(u&&p.label<u[2]){p.label=u[2],p.ops.push(T);break}u[2]&&p.ops.pop(),p.trys.pop();continue}T=e.call(c,p)}catch(R){T=[6,R],a=0}finally{n=u=0}if(5&T[0])throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}([_,S])}}}function b(){for(var c=0,e=0,n=arguments.length;e<n;e++)c+=arguments[e].length;var a=Array(c),u=0;for(e=0;e<n;e++)for(var h=arguments[e],p=0,g=h.length;p<g;p++,u++)a[u]=h[p];return a}var C,k,P,I,L,U="msal.js.common",D="msal",we="https://login.microsoftonline.com/common/",H="adfs",B="https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",O="|",W="offline_access",K="code",le="S256",Z="application/x-www-form-urlencoded;charset=utf-8",he="authorization_pending",X="not_defined",x="",Le="/",Ue=["openid","profile",W],at=b(Ue,["email"]);(function(c){c.CONTENT_TYPE="Content-Type",c.X_CLIENT_CURR_TELEM="x-client-current-telemetry",c.X_CLIENT_LAST_TELEM="x-client-last-telemetry",c.RETRY_AFTER="Retry-After",c.X_MS_LIB_CAPABILITY="x-ms-lib-capability",c.X_MS_LIB_CAPABILITY_VALUE="retry-after, h429"})(C||(C={})),function(c){c.ID_TOKEN="idtoken",c.CLIENT_INFO="client.info",c.ADAL_ID_TOKEN="adal.idtoken",c.ERROR="error",c.ERROR_DESC="error.description"}(k||(k={})),function(c){c.COMMON="common",c.ORGANIZATIONS="organizations",c.CONSUMERS="consumers"}(P||(P={})),function(c){c.CLIENT_ID="client_id",c.REDIRECT_URI="redirect_uri",c.RESPONSE_TYPE="response_type",c.RESPONSE_MODE="response_mode",c.GRANT_TYPE="grant_type",c.CLAIMS="claims",c.SCOPE="scope",c.ERROR="error",c.ERROR_DESCRIPTION="error_description",c.ACCESS_TOKEN="access_token",c.ID_TOKEN="id_token",c.REFRESH_TOKEN="refresh_token",c.EXPIRES_IN="expires_in",c.STATE="state",c.NONCE="nonce",c.PROMPT="prompt",c.SESSION_STATE="session_state",c.CLIENT_INFO="client_info",c.CODE="code",c.CODE_CHALLENGE="code_challenge",c.CODE_CHALLENGE_METHOD="code_challenge_method",c.CODE_VERIFIER="code_verifier",c.CLIENT_REQUEST_ID="client-request-id",c.X_CLIENT_SKU="x-client-SKU",c.X_CLIENT_VER="x-client-VER",c.X_CLIENT_OS="x-client-OS",c.X_CLIENT_CPU="x-client-CPU",c.POST_LOGOUT_URI="post_logout_redirect_uri",c.ID_TOKEN_HINT="id_token_hint",c.DEVICE_CODE="device_code",c.CLIENT_SECRET="client_secret",c.CLIENT_ASSERTION="client_assertion",c.CLIENT_ASSERTION_TYPE="client_assertion_type",c.TOKEN_TYPE="token_type",c.REQ_CNF="req_cnf",c.OBO_ASSERTION="assertion",c.REQUESTED_TOKEN_USE="requested_token_use",c.ON_BEHALF_OF="on_behalf_of",c.FOCI="foci"}(I||(I={})),function(c){c.ACCESS_TOKEN="access_token",c.XMS_CC="xms_cc"}(L||(L={}));var ae,pe={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none"};(function(c){c.ACCOUNT="account",c.SID="sid",c.LOGIN_HINT="login_hint",c.ID_TOKEN="id_token",c.DOMAIN_HINT="domain_hint",c.ORGANIZATIONS="organizations",c.CONSUMERS="consumers",c.ACCOUNT_ID="accountIdentifier",c.HOMEACCOUNT_ID="homeAccountIdentifier"})(ae||(ae={})),ae.SID,ae.LOGIN_HINT;var qe,Ee,Me,Fe,ne,ge,ke,Te={PLAIN:"plain",S256:"S256"};(function(c){c.QUERY="query",c.FRAGMENT="fragment",c.FORM_POST="form_post"})(qe||(qe={})),function(c){c.IMPLICIT_GRANT="implicit",c.AUTHORIZATION_CODE_GRANT="authorization_code",c.CLIENT_CREDENTIALS_GRANT="client_credentials",c.RESOURCE_OWNER_PASSWORD_GRANT="password",c.REFRESH_TOKEN_GRANT="refresh_token",c.DEVICE_CODE_GRANT="device_code",c.JWT_BEARER="urn:ietf:params:oauth:grant-type:jwt-bearer"}(Ee||(Ee={})),function(c){c.MSSTS_ACCOUNT_TYPE="MSSTS",c.ADFS_ACCOUNT_TYPE="ADFS",c.MSAV1_ACCOUNT_TYPE="MSA",c.GENERIC_ACCOUNT_TYPE="Generic"}(Me||(Me={})),function(c){c.CACHE_KEY_SEPARATOR="-",c.CLIENT_INFO_SEPARATOR="."}(Fe||(Fe={})),function(c){c.ID_TOKEN="IdToken",c.ACCESS_TOKEN="AccessToken",c.REFRESH_TOKEN="RefreshToken"}(ne||(ne={})),function(c){c.ACCOUNT="Account",c.CREDENTIAL="Credential",c.ID_TOKEN="IdToken",c.ACCESS_TOKEN="AccessToken",c.REFRESH_TOKEN="RefreshToken",c.APP_METADATA="AppMetadata",c.TEMPORARY="TempCache",c.TELEMETRY="Telemetry",c.UNDEFINED="Undefined",c.THROTTLING="Throttling"}(ge||(ge={})),function(c){c[c.ADFS=1001]="ADFS",c[c.MSA=1002]="MSA",c[c.MSSTS=1003]="MSSTS",c[c.GENERIC=1004]="GENERIC",c[c.ACCESS_TOKEN=2001]="ACCESS_TOKEN",c[c.REFRESH_TOKEN=2002]="REFRESH_TOKEN",c[c.ID_TOKEN=2003]="ID_TOKEN",c[c.APP_METADATA=3001]="APP_METADATA",c[c.UNDEFINED=9999]="UNDEFINED"}(ke||(ke={}));var $,ye="appmetadata",ee="1",rt="authority-metadata",kt=86400;(function(c){c.CONFIG="config",c.CACHE="cache",c.NETWORK="network"})($||($={}));var fr,He={SCHEMA_VERSION:2,MAX_HEADER_BYTES:4e3,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"};(fr=t.AuthenticationScheme||(t.AuthenticationScheme={})).POP="pop",fr.BEARER="Bearer";var Bt,Rt=60,Ot=3600,mr="throttling",Dr="invalid_grant",xr="client_mismatch";(function(c){c.username="username",c.password="password"})(Bt||(Bt={}));var Ge,_n={unexpectedError:{code:"unexpected_error",desc:"Unexpected error in authentication."}},ie=function(c){function e(n,a,u){var h=this,p=a?n+": "+a:n;return h=c.call(this,p)||this,Object.setPrototypeOf(h,e.prototype),h.errorCode=n||x,h.errorMessage=a||"",h.subError=u||"",h.name="AuthError",h}return y(e,c),e.createUnexpectedError=function(n){return new e(_n.unexpectedError.code,_n.unexpectedError.desc+": "+n)},e}(Error),Lr={createNewGuid:function(){throw ie.createUnexpectedError("Crypto interface - createNewGuid() has not been implemented")},base64Decode:function(){throw ie.createUnexpectedError("Crypto interface - base64Decode() has not been implemented")},base64Encode:function(){throw ie.createUnexpectedError("Crypto interface - base64Encode() has not been implemented")},generatePkceCodes:function(){return E(this,void 0,void 0,function(){return w(this,function(c){throw ie.createUnexpectedError("Crypto interface - generatePkceCodes() has not been implemented")})})},getPublicKeyThumbprint:function(){return E(this,void 0,void 0,function(){return w(this,function(c){throw ie.createUnexpectedError("Crypto interface - getPublicKeyThumbprint() has not been implemented")})})},signJwt:function(){return E(this,void 0,void 0,function(){return w(this,function(c){throw ie.createUnexpectedError("Crypto interface - signJwt() has not been implemented")})})}},bo={code:"client_info_decoding_error",desc:"The client info could not be parsed/decoded correctly. Please review the trace to determine the root cause."},Co={code:"client_info_empty_error",desc:"The client info was empty. Please review the trace to determine the root cause."},To={code:"token_parsing_error",desc:"Token cannot be parsed. Please review stack trace to determine root cause."},So={code:"null_or_empty_token",desc:"The token is null or empty. Please review the trace to determine the root cause."},Ao={code:"endpoints_resolution_error",desc:"Error: could not resolve endpoints. Please check network and try again."},Io={code:"network_error",desc:"Network request failed. Please check network trace to determine root cause."},ko={code:"openid_config_error",desc:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints."},Ro={code:"hash_not_deserialized",desc:"The hash parameters could not be deserialized. Please review the trace to determine the root cause."},Oo={code:"invalid_state",desc:"State was not the expected format. Please check the logs to determine whether the request was sent using ProtocolUtils.setRequestState()."},Po={code:"state_mismatch",desc:"State mismatch error. Please check your network. Continued requests may cause cache overflow."},No={code:"state_not_found",desc:"State not found"},Uo={code:"nonce_mismatch",desc:"Nonce mismatch error. This may be caused by a race condition in concurrent requests."},Mo={code:"nonce_not_found",desc:"nonce not found"},En={code:"no_tokens_found",desc:"No tokens were found for the given scopes, and no authorization code was passed to acquireToken. You must retrieve an authorization code before making a call to acquireToken()."},Do={code:"multiple_matching_tokens",desc:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account."},xo={code:"multiple_matching_accounts",desc:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account"},Lo={code:"multiple_matching_appMetadata",desc:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata"},qo={code:"request_cannot_be_made",desc:"Token request cannot be made without authorization code or refresh token."},Fo={code:"cannot_append_empty_scope",desc:"Cannot append null or empty scope to ScopeSet. Please check the stack trace for more info."},Ho={code:"cannot_remove_empty_scope",desc:"Cannot remove null or empty scope from ScopeSet. Please check the stack trace for more info."},Bo={code:"cannot_append_scopeset",desc:"Cannot append ScopeSet due to error."},Ko={code:"empty_input_scopeset",desc:"Empty input ScopeSet cannot be processed."},jo={code:"device_code_polling_cancelled",desc:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true."},Wo={code:"device_code_expired",desc:"Device code is expired."},Go={code:"no_account_in_silent_request",desc:"Please pass an account object, silent flow is not supported without account information"},zo={code:"invalid_cache_record",desc:"Cache record object was null or undefined."},$o={code:"invalid_cache_environment",desc:"Invalid environment when attempting to create cache entry"},Vo={code:"no_account_found",desc:"No account found in cache for given key."},Yo={code:"no cache plugin set on CacheManager",desc:"ICachePlugin needs to be set before using readFromStorage or writeFromStorage"},Qo={code:"no_crypto_object",desc:"No crypto object detected. This is required for the following operation: "},Jo={code:"invalid_cache_type",desc:"Invalid cache type"},Xo={code:"unexpected_account_type",desc:"Unexpected account type."},Zo={code:"unexpected_credential_type",desc:"Unexpected credential type."},ei={code:"invalid_assertion",desc:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515"},ti={code:"invalid_client_credential",desc:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential"},bn={code:"token_refresh_required",desc:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired."},ri={code:"user_timeout_reached",desc:"User defined timeout for device code polling reached"},ni={code:"token_claims_cnf_required_for_signedjwt",desc:"Cannot generate a POP jwt if the token_claims are not populated"},oi={code:"authorization_code_missing_from_server_response",desc:"Srver response does not contain an authorization code to proceed"},G=function(c){function e(n,a){var u=c.call(this,n,a)||this;return u.name="ClientAuthError",Object.setPrototypeOf(u,e.prototype),u}return y(e,c),e.createClientInfoDecodingError=function(n){return new e(bo.code,bo.desc+" Failed with error: "+n)},e.createClientInfoEmptyError=function(){return new e(Co.code,""+Co.desc)},e.createTokenParsingError=function(n){return new e(To.code,To.desc+" Failed with error: "+n)},e.createTokenNullOrEmptyError=function(n){return new e(So.code,So.desc+" Raw Token Value: "+n)},e.createEndpointDiscoveryIncompleteError=function(n){return new e(Ao.code,Ao.desc+" Detail: "+n)},e.createNetworkError=function(n,a){return new e(Io.code,Io.desc+" | Fetch client threw: "+a+" | Attempted to reach: "+n.split("?")[0])},e.createUnableToGetOpenidConfigError=function(n){return new e(ko.code,ko.desc+" Attempted to retrieve endpoints from: "+n)},e.createHashNotDeserializedError=function(n){return new e(Ro.code,Ro.desc+" Given Object: "+n)},e.createInvalidStateError=function(n,a){return new e(Oo.code,Oo.desc+" Invalid State: "+n+", Root Err: "+a)},e.createStateMismatchError=function(){return new e(Po.code,Po.desc)},e.createStateNotFoundError=function(n){return new e(No.code,No.desc+":  "+n)},e.createNonceMismatchError=function(){return new e(Uo.code,Uo.desc)},e.createNonceNotFoundError=function(n){return new e(Mo.code,Mo.desc+":  "+n)},e.createNoTokensFoundError=function(){return new e(En.code,En.desc)},e.createMultipleMatchingTokensInCacheError=function(){return new e(Do.code,Do.desc+".")},e.createMultipleMatchingAccountsInCacheError=function(){return new e(xo.code,xo.desc)},e.createMultipleMatchingAppMetadataInCacheError=function(){return new e(Lo.code,Lo.desc)},e.createTokenRequestCannotBeMadeError=function(){return new e(qo.code,qo.desc)},e.createAppendEmptyScopeToSetError=function(n){return new e(Fo.code,Fo.desc+" Given Scope: "+n)},e.createRemoveEmptyScopeFromSetError=function(n){return new e(Ho.code,Ho.desc+" Given Scope: "+n)},e.createAppendScopeSetError=function(n){return new e(Bo.code,Bo.desc+" Detail Error: "+n)},e.createEmptyInputScopeSetError=function(n){return new e(Ko.code,Ko.desc+" Given ScopeSet: "+n)},e.createDeviceCodeCancelledError=function(){return new e(jo.code,""+jo.desc)},e.createDeviceCodeExpiredError=function(){return new e(Wo.code,""+Wo.desc)},e.createNoAccountInSilentRequestError=function(){return new e(Go.code,""+Go.desc)},e.createNullOrUndefinedCacheRecord=function(){return new e(zo.code,zo.desc)},e.createInvalidCacheEnvironmentError=function(){return new e($o.code,$o.desc)},e.createNoAccountFoundError=function(){return new e(Vo.code,Vo.desc)},e.createCachePluginError=function(){return new e(Yo.code,""+Yo.desc)},e.createNoCryptoObjectError=function(n){return new e(Qo.code,""+Qo.desc+n)},e.createInvalidCacheTypeError=function(){return new e(Jo.code,""+Jo.desc)},e.createUnexpectedAccountTypeError=function(){return new e(Xo.code,""+Xo.desc)},e.createUnexpectedCredentialTypeError=function(){return new e(Zo.code,""+Zo.desc)},e.createInvalidAssertionError=function(){return new e(ei.code,""+ei.desc)},e.createInvalidCredentialError=function(){return new e(ti.code,""+ti.desc)},e.createRefreshRequiredError=function(){return new e(bn.code,bn.desc)},e.createUserTimeoutReachedError=function(){return new e(ri.code,ri.desc)},e.createTokenClaimsRequiredError=function(){return new e(ni.code,ni.desc)},e.createNoAuthCodeInServerResponseError=function(){return new e(oi.code,oi.desc)},e}(ie),N=function(){function c(){}return c.decodeAuthToken=function(e){if(c.isEmpty(e))throw G.createTokenNullOrEmptyError(e);var n=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(e);if(!n||n.length<4)throw G.createTokenParsingError("Given token is malformed: "+JSON.stringify(e));return{header:n[1],JWSPayload:n[2],JWSSig:n[3]}},c.isEmpty=function(e){return e===void 0||!e||e.length===0},c.startsWith=function(e,n){return e.indexOf(n)===0},c.endsWith=function(e,n){return e.length>=n.length&&e.lastIndexOf(n)===e.length-n.length},c.queryStringToObject=function(e){var n,a=/\+/g,u=/([^&=]+)=([^&]*)/g,h=function(g){return decodeURIComponent(decodeURIComponent(g.replace(a," ")))},p={};for(n=u.exec(e);n;)p[h(n[1])]=h(n[2]),n=u.exec(e);return p},c.trimArrayEntries=function(e){return e.map(function(n){return n.trim()})},c.removeEmptyStringsFromArray=function(e){return e.filter(function(n){return!c.isEmpty(n)})},c.jsonParseHelper=function(e){try{return JSON.parse(e)}catch{return null}},c.matchPattern=function(e,n){return new RegExp(e.replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(n)},c}();(Ge=t.LogLevel||(t.LogLevel={}))[Ge.Error=0]="Error",Ge[Ge.Warning=1]="Warning",Ge[Ge.Info=2]="Info",Ge[Ge.Verbose=3]="Verbose";var Pt,Cn=function(){function c(e,n,a){this.level=t.LogLevel.Info,this.localCallback=e.loggerCallback||function(){},this.piiLoggingEnabled=e.piiLoggingEnabled||!1,this.level=e.logLevel||t.LogLevel.Info,this.packageName=n||x,this.packageVersion=a||x}return c.prototype.clone=function(e,n){return new c({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level},e,n)},c.prototype.logMessage=function(e,n){if(!(n.logLevel>this.level||!this.piiLoggingEnabled&&n.containsPii)){var a=new Date().toUTCString(),u=(N.isEmpty(this.correlationId)?"["+a+"] : ":"["+a+"] : ["+this.correlationId+"]")+" : "+this.packageName+"@"+this.packageVersion+" : "+t.LogLevel[n.logLevel]+" - "+e;this.executeCallback(n.logLevel,u,n.containsPii||!1)}},c.prototype.executeCallback=function(e,n,a){this.localCallback&&this.localCallback(e,n,a)},c.prototype.error=function(e,n){this.logMessage(e,{logLevel:t.LogLevel.Error,containsPii:!1,correlationId:n||""})},c.prototype.errorPii=function(e,n){this.logMessage(e,{logLevel:t.LogLevel.Error,containsPii:!0,correlationId:n||""})},c.prototype.warning=function(e,n){this.logMessage(e,{logLevel:t.LogLevel.Warning,containsPii:!1,correlationId:n||""})},c.prototype.warningPii=function(e,n){this.logMessage(e,{logLevel:t.LogLevel.Warning,containsPii:!0,correlationId:n||""})},c.prototype.info=function(e,n){this.logMessage(e,{logLevel:t.LogLevel.Info,containsPii:!1,correlationId:n||""})},c.prototype.infoPii=function(e,n){this.logMessage(e,{logLevel:t.LogLevel.Info,containsPii:!0,correlationId:n||""})},c.prototype.verbose=function(e,n){this.logMessage(e,{logLevel:t.LogLevel.Verbose,containsPii:!1,correlationId:n||""})},c.prototype.verbosePii=function(e,n){this.logMessage(e,{logLevel:t.LogLevel.Verbose,containsPii:!0,correlationId:n||""})},c.prototype.isPiiLoggingEnabled=function(){return this.piiLoggingEnabled||!1},c}(),ii="4.1.1",gr=function(){function c(){}return c.prototype.generateAccountId=function(){return c.generateAccountIdForCacheKey(this.homeAccountId,this.environment)},c.prototype.generateCredentialId=function(){return c.generateCredentialIdForCacheKey(this.credentialType,this.clientId,this.realm,this.familyId)},c.prototype.generateTarget=function(){return c.generateTargetForCacheKey(this.target)},c.prototype.generateCredentialKey=function(){return c.generateCredentialCacheKey(this.homeAccountId,this.environment,this.credentialType,this.clientId,this.realm,this.target,this.familyId)},c.prototype.generateType=function(){switch(this.credentialType){case ne.ID_TOKEN:return ke.ID_TOKEN;case ne.ACCESS_TOKEN:return ke.ACCESS_TOKEN;case ne.REFRESH_TOKEN:return ke.REFRESH_TOKEN;default:throw G.createUnexpectedCredentialTypeError()}},c.getCredentialType=function(e){return e.indexOf(ne.ACCESS_TOKEN.toLowerCase())!==-1?ne.ACCESS_TOKEN:e.indexOf(ne.ID_TOKEN.toLowerCase())!==-1?ne.ID_TOKEN:e.indexOf(ne.REFRESH_TOKEN.toLowerCase())!==-1?ne.REFRESH_TOKEN:X},c.generateCredentialCacheKey=function(e,n,a,u,h,p,g){return[this.generateAccountIdForCacheKey(e,n),this.generateCredentialIdForCacheKey(a,u,h,g),this.generateTargetForCacheKey(p)].join(Fe.CACHE_KEY_SEPARATOR).toLowerCase()},c.generateAccountIdForCacheKey=function(e,n){return[e,n].join(Fe.CACHE_KEY_SEPARATOR).toLowerCase()},c.generateCredentialIdForCacheKey=function(e,n,a,u){return[e,e===ne.REFRESH_TOKEN&&u||n,a||""].join(Fe.CACHE_KEY_SEPARATOR).toLowerCase()},c.generateTargetForCacheKey=function(e){return(e||"").toLowerCase()},c}(),ai={code:"redirect_uri_empty",desc:"A redirect URI is required for all calls, and none has been set."},si={code:"post_logout_uri_empty",desc:"A post logout redirect has not been set."},ci={code:"claims_request_parsing_error",desc:"Could not parse the given claims request object."},ui={code:"authority_uri_insecure",desc:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options"},li={code:"url_parse_error",desc:"URL could not be parsed into appropriate segments."},di={code:"empty_url_error",desc:"URL was empty or null."},hi={code:"empty_input_scopes_error",desc:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token."},pi={code:"nonarray_input_scopes_error",desc:"Scopes cannot be passed as non-array."},fi={code:"clientid_input_scopes_error",desc:"Client ID can only be provided as a single scope."},mi={code:"invalid_prompt_value",desc:"Supported prompt values are 'login', 'select_account', 'consent' and 'none'.  Please see here for valid configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options"},gi={code:"invalid_claims",desc:"Given claims parameter must be a stringified JSON object."},yi={code:"token_request_empty",desc:"Token request was empty and not found in cache."},vi={code:"logout_request_empty",desc:"The logout request was null or undefined."},wi={code:"invalid_code_challenge_method",desc:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".'},_i={code:"pkce_params_missing",desc:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request"},Ei={code:"invalid_cloud_discovery_metadata",desc:"Invalid cloudDiscoveryMetadata provided. Must be a JSON object containing tenant_discovery_endpoint and metadata fields"},bi={code:"invalid_authority_metadata",desc:"Invalid authorityMetadata provided. Must by a JSON object containing authorization_endpoint, token_endpoint, end_session_endpoint, issuer fields."},Ci={code:"untrusted_authority",desc:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter."},Ti={code:"resourceRequest_parameters_required",desc:"resourceRequestMethod and resourceRequestUri are required"},Se=function(c){function e(n,a){var u=c.call(this,n,a)||this;return u.name="ClientConfigurationError",Object.setPrototypeOf(u,e.prototype),u}return y(e,c),e.createRedirectUriEmptyError=function(){return new e(ai.code,ai.desc)},e.createPostLogoutRedirectUriEmptyError=function(){return new e(si.code,si.desc)},e.createClaimsRequestParsingError=function(n){return new e(ci.code,ci.desc+" Given value: "+n)},e.createInsecureAuthorityUriError=function(n){return new e(ui.code,ui.desc+" Given URI: "+n)},e.createUrlParseError=function(n){return new e(li.code,li.desc+" Given Error: "+n)},e.createUrlEmptyError=function(){return new e(di.code,di.desc)},e.createScopesNonArrayError=function(n){return new e(pi.code,pi.desc+" Given Scopes: "+n)},e.createEmptyScopesArrayError=function(n){return new e(hi.code,hi.desc+" Given Scopes: "+n)},e.createClientIdSingleScopeError=function(n){return new e(fi.code,fi.desc+" Given Scopes: "+n)},e.createInvalidPromptError=function(n){return new e(mi.code,mi.desc+" Given value: "+n)},e.createInvalidClaimsRequestError=function(){return new e(gi.code,gi.desc)},e.createEmptyLogoutRequestError=function(){return new e(vi.code,vi.desc)},e.createEmptyTokenRequestError=function(){return new e(yi.code,yi.desc)},e.createInvalidCodeChallengeMethodError=function(){return new e(wi.code,wi.desc)},e.createInvalidCodeChallengeParamsError=function(){return new e(_i.code,_i.desc)},e.createInvalidCloudDiscoveryMetadataError=function(){return new e(Ei.code,Ei.desc)},e.createInvalidAuthorityMetadataError=function(){return new e(bi.code,bi.desc)},e.createUntrustedAuthorityError=function(){return new e(Ci.code,Ci.desc)},e.createResourceRequestParametersRequiredError=function(){return new e(Ti.code,Ti.desc)},e}(G),ht=function(){function c(e){var n=this,a=e?N.trimArrayEntries(b(e)):[],u=a?N.removeEmptyStringsFromArray(a):[];this.validateInputScopes(u),this.scopes=new Set,u.forEach(function(h){return n.scopes.add(h)})}return c.fromString=function(e){return new c((e=e||"").split(" "))},c.prototype.validateInputScopes=function(e){if(!e||e.length<1)throw Se.createEmptyScopesArrayError(e)},c.prototype.containsScope=function(e){var n=new c(this.printScopesLowerCase().split(" "));return!N.isEmpty(e)&&n.scopes.has(e.toLowerCase())},c.prototype.containsScopeSet=function(e){var n=this;return!(!e||e.scopes.size<=0)&&this.scopes.size>=e.scopes.size&&e.asArray().every(function(a){return n.containsScope(a)})},c.prototype.containsOnlyOIDCScopes=function(){var e=this,n=0;return at.forEach(function(a){e.containsScope(a)&&(n+=1)}),this.scopes.size===n},c.prototype.appendScope=function(e){N.isEmpty(e)||this.scopes.add(e.trim())},c.prototype.appendScopes=function(e){var n=this;try{e.forEach(function(a){return n.appendScope(a)})}catch(a){throw G.createAppendScopeSetError(a)}},c.prototype.removeScope=function(e){if(N.isEmpty(e))throw G.createRemoveEmptyScopeFromSetError(e);this.scopes.delete(e.trim())},c.prototype.removeOIDCScopes=function(){var e=this;at.forEach(function(n){e.scopes.delete(n)})},c.prototype.unionScopeSets=function(e){if(!e)throw G.createEmptyInputScopeSetError(e);var n=new Set;return e.scopes.forEach(function(a){return n.add(a.toLowerCase())}),this.scopes.forEach(function(a){return n.add(a.toLowerCase())}),n},c.prototype.intersectingScopeSets=function(e){if(!e)throw G.createEmptyInputScopeSetError(e);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();var n=this.unionScopeSets(e),a=e.getScopeCount(),u=this.getScopeCount();return n.size<u+a},c.prototype.getScopeCount=function(){return this.scopes.size},c.prototype.asArray=function(){var e=[];return this.scopes.forEach(function(n){return e.push(n)}),e},c.prototype.printScopes=function(){return this.scopes?this.asArray().join(" "):""},c.prototype.printScopesLowerCase=function(){return this.printScopes().toLowerCase()},c}();function Si(c,e){if(N.isEmpty(c))throw G.createClientInfoEmptyError();try{var n=e.base64Decode(c);return JSON.parse(n)}catch(a){throw G.createClientInfoDecodingError(a)}}(function(c){c[c.Default=0]="Default",c[c.Adfs=1]="Adfs"})(Pt||(Pt={}));var st=function(){function c(){}return c.prototype.generateAccountId=function(){return[this.homeAccountId,this.environment].join(Fe.CACHE_KEY_SEPARATOR).toLowerCase()},c.prototype.generateAccountKey=function(){return c.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})},c.prototype.generateType=function(){switch(this.authorityType){case Me.ADFS_ACCOUNT_TYPE:return ke.ADFS;case Me.MSAV1_ACCOUNT_TYPE:return ke.MSA;case Me.MSSTS_ACCOUNT_TYPE:return ke.MSSTS;case Me.GENERIC_ACCOUNT_TYPE:return ke.GENERIC;default:throw G.createUnexpectedAccountTypeError()}},c.prototype.getAccountInfo=function(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,idTokenClaims:this.idTokenClaims}},c.generateAccountCacheKey=function(e){return[e.homeAccountId,e.environment||"",e.tenantId||""].join(Fe.CACHE_KEY_SEPARATOR).toLowerCase()},c.createAccount=function(e,n,a,u,h,p,g){var _,S,T,R,q,V,J=new c;J.authorityType=Me.MSSTS_ACCOUNT_TYPE,J.clientInfo=e,J.homeAccountId=n;var fe=a.getPreferredCache();if(N.isEmpty(fe))throw G.createInvalidCacheEnvironmentError();return J.environment=fe,J.realm=((_=u==null?void 0:u.claims)===null||_===void 0?void 0:_.tid)||"",J.oboAssertion=h,u&&(J.idTokenClaims=u.claims,J.localAccountId=((S=u==null?void 0:u.claims)===null||S===void 0?void 0:S.oid)||((T=u==null?void 0:u.claims)===null||T===void 0?void 0:T.sub)||"",J.username=((R=u==null?void 0:u.claims)===null||R===void 0?void 0:R.preferred_username)||(!((q=u==null?void 0:u.claims)===null||q===void 0)&&q.emails?u.claims.emails[0]:""),J.name=(V=u==null?void 0:u.claims)===null||V===void 0?void 0:V.name),J.cloudGraphHostName=p,J.msGraphHost=g,J},c.createGenericAccount=function(e,n,a,u,h,p){var g,_,S,T,R=new c;R.authorityType=e.authorityType===Pt.Adfs?Me.ADFS_ACCOUNT_TYPE:Me.GENERIC_ACCOUNT_TYPE,R.homeAccountId=n,R.realm="",R.oboAssertion=u;var q=e.getPreferredCache();if(N.isEmpty(q))throw G.createInvalidCacheEnvironmentError();return a&&(R.localAccountId=((g=a==null?void 0:a.claims)===null||g===void 0?void 0:g.oid)||((_=a==null?void 0:a.claims)===null||_===void 0?void 0:_.sub)||"",R.username=((S=a==null?void 0:a.claims)===null||S===void 0?void 0:S.upn)||"",R.name=((T=a==null?void 0:a.claims)===null||T===void 0?void 0:T.name)||"",R.idTokenClaims=a==null?void 0:a.claims),R.environment=q,R.cloudGraphHostName=h,R.msGraphHost=p,R},c.generateHomeAccountId=function(e,n,a,u,h){var p,g=!((p=h==null?void 0:h.claims)===null||p===void 0)&&p.sub?h.claims.sub:x;if(n===Pt.Adfs)return g;if(e){var _=Si(e,u);if(!N.isEmpty(_.uid)&&!N.isEmpty(_.utid))return""+_.uid+Fe.CLIENT_INFO_SEPARATOR+_.utid}return a.verbose("No client info in response"),g},c.isAccountEntity=function(e){return!!e&&e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType")},c.accountInfoIsEqual=function(e,n){return!(!e||!n)&&e.homeAccountId===n.homeAccountId&&e.localAccountId===n.localAccountId&&e.username===n.username&&e.tenantId===n.tenantId&&e.environment===n.environment},c}(),Kt=function(){function c(e,n){if(N.isEmpty(e))throw G.createTokenNullOrEmptyError(e);this.rawToken=e,this.claims=c.extractTokenClaims(e,n)}return c.extractTokenClaims=function(e,n){var a=N.decodeAuthToken(e);try{var u=a.JWSPayload,h=n.base64Decode(u);return JSON.parse(h)}catch(p){throw G.createTokenParsingError(p)}},c}(),vt=function(){function c(e,n){this.clientId=e,this.cryptoImpl=n}return c.prototype.getAllAccounts=function(){var e=this,n=this.getAccountsFilteredBy(),a=Object.keys(n).map(function(u){return n[u]});return a.length<1?[]:a.map(function(u){var h=c.toObject(new st,u).getAccountInfo(),p=e.readIdTokenFromCache(e.clientId,h);return p&&!h.idTokenClaims&&(h.idTokenClaims=new Kt(p.secret,e.cryptoImpl).claims),h})},c.prototype.saveCacheRecord=function(e){if(!e)throw G.createNullOrUndefinedCacheRecord();e.account&&this.setAccount(e.account),e.idToken&&this.setIdTokenCredential(e.idToken),e.accessToken&&this.saveAccessToken(e.accessToken),e.refreshToken&&this.setRefreshTokenCredential(e.refreshToken),e.appMetadata&&this.setAppMetadata(e.appMetadata)},c.prototype.saveAccessToken=function(e){var n=this,a=this.getCredentialsFilteredBy({clientId:e.clientId,credentialType:ne.ACCESS_TOKEN,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm}),u=ht.fromString(e.target),h=Object.keys(a.accessTokens).map(function(p){return a.accessTokens[p]});h&&h.forEach(function(p){ht.fromString(p.target).intersectingScopeSets(u)&&n.removeCredential(p)}),this.setAccessTokenCredential(e)},c.prototype.getAccountsFilteredBy=function(e){return this.getAccountsFilteredByInternal(e?e.homeAccountId:"",e?e.environment:"",e?e.realm:"")},c.prototype.getAccountsFilteredByInternal=function(e,n,a){var u=this,h=this.getKeys(),p={};return h.forEach(function(g){var _=u.getAccount(g);_&&(e&&!u.matchHomeAccountId(_,e)||n&&!u.matchEnvironment(_,n)||a&&!u.matchRealm(_,a)||(p[g]=_))}),p},c.prototype.getCredentialsFilteredBy=function(e){return this.getCredentialsFilteredByInternal(e.homeAccountId,e.environment,e.credentialType,e.clientId,e.familyId,e.realm,e.target,e.oboAssertion)},c.prototype.getCredentialsFilteredByInternal=function(e,n,a,u,h,p,g,_){var S=this,T=this.getKeys(),R={idTokens:{},accessTokens:{},refreshTokens:{}};return T.forEach(function(q){var V=gr.getCredentialType(q);if(V!==X){var J=S.getSpecificCredential(q,V);if(J&&(!_||S.matchOboAssertion(J,_))&&(!e||S.matchHomeAccountId(J,e))&&(!n||S.matchEnvironment(J,n))&&(!p||S.matchRealm(J,p))&&(!a||S.matchCredentialType(J,a))&&(!u||S.matchClientId(J,u))&&(!h||S.matchFamilyId(J,h))&&(!g||S.matchTarget(J,g)))switch(V){case ne.ID_TOKEN:R.idTokens[q]=J;break;case ne.ACCESS_TOKEN:R.accessTokens[q]=J;break;case ne.REFRESH_TOKEN:R.refreshTokens[q]=J}}}),R},c.prototype.getAppMetadataFilteredBy=function(e){return this.getAppMetadataFilteredByInternal(e.environment,e.clientId)},c.prototype.getAppMetadataFilteredByInternal=function(e,n){var a=this,u=this.getKeys(),h={};return u.forEach(function(p){if(a.isAppMetadata(p)){var g=a.getAppMetadata(p);g&&(e&&!a.matchEnvironment(g,e)||n&&!a.matchClientId(g,n)||(h[p]=g))}}),h},c.prototype.getAuthorityMetadataByAlias=function(e){var n=this,a=this.getAuthorityMetadataKeys(),u=null;return a.forEach(function(h){if(n.isAuthorityMetadata(h)&&h.indexOf(n.clientId)!==-1){var p=n.getAuthorityMetadata(h);p&&p.aliases.indexOf(e)!==-1&&(u=p)}}),u},c.prototype.removeAllAccounts=function(){var e=this;return this.getKeys().forEach(function(n){e.getAccount(n)&&e.removeAccount(n)}),!0},c.prototype.removeAccount=function(e){var n=this.getAccount(e);if(!n)throw G.createNoAccountFoundError();return this.removeAccountContext(n)&&this.removeItem(e,ge.ACCOUNT)},c.prototype.removeAccountContext=function(e){var n=this,a=this.getKeys(),u=e.generateAccountId();return a.forEach(function(h){var p=gr.getCredentialType(h);if(p!==X){var g=n.getSpecificCredential(h,p);g&&u===g.generateAccountId()&&n.removeCredential(g)}}),!0},c.prototype.removeCredential=function(e){var n=e.generateCredentialKey();return this.removeItem(n,ge.CREDENTIAL)},c.prototype.removeAppMetadata=function(){var e=this;return this.getKeys().forEach(function(n){e.isAppMetadata(n)&&e.removeItem(n,ge.APP_METADATA)}),!0},c.prototype.readCacheRecord=function(e,n,a,u){var h=this.readAccountFromCache(e),p=this.readIdTokenFromCache(n,e),g=this.readAccessTokenFromCache(n,e,a),_=this.readRefreshTokenFromCache(n,e,!1),S=this.readAppMetadataFromCache(u,n);return h&&p&&(h.idTokenClaims=new Kt(p.secret,this.cryptoImpl).claims),{account:h,idToken:p,accessToken:g,refreshToken:_,appMetadata:S}},c.prototype.readAccountFromCache=function(e){var n=st.generateAccountCacheKey(e);return this.getAccount(n)},c.prototype.readIdTokenFromCache=function(e,n){var a={homeAccountId:n.homeAccountId,environment:n.environment,credentialType:ne.ID_TOKEN,clientId:e,realm:n.tenantId},u=this.getCredentialsFilteredBy(a),h=Object.keys(u.idTokens).map(function(g){return u.idTokens[g]}),p=h.length;if(p<1)return null;if(p>1)throw G.createMultipleMatchingTokensInCacheError();return h[0]},c.prototype.readAccessTokenFromCache=function(e,n,a){var u={homeAccountId:n.homeAccountId,environment:n.environment,credentialType:ne.ACCESS_TOKEN,clientId:e,realm:n.tenantId,target:a.printScopesLowerCase()},h=this.getCredentialsFilteredBy(u),p=Object.keys(h.accessTokens).map(function(_){return h.accessTokens[_]}),g=p.length;if(g<1)return null;if(g>1)throw G.createMultipleMatchingTokensInCacheError();return p[0]},c.prototype.readRefreshTokenFromCache=function(e,n,a){var u=a?ee:void 0,h={homeAccountId:n.homeAccountId,environment:n.environment,credentialType:ne.REFRESH_TOKEN,clientId:e,familyId:u},p=this.getCredentialsFilteredBy(h),g=Object.keys(p.refreshTokens).map(function(_){return p.refreshTokens[_]});return g.length<1?null:g[0]},c.prototype.readAppMetadataFromCache=function(e,n){var a={environment:e,clientId:n},u=this.getAppMetadataFilteredBy(a),h=Object.keys(u).map(function(g){return u[g]}),p=h.length;if(p<1)return null;if(p>1)throw G.createMultipleMatchingAppMetadataInCacheError();return h[0]},c.prototype.isAppMetadataFOCI=function(e,n){var a=this.readAppMetadataFromCache(e,n);return!(!a||a.familyId!==ee)},c.prototype.matchHomeAccountId=function(e,n){return!(!e.homeAccountId||n!==e.homeAccountId)},c.prototype.matchOboAssertion=function(e,n){return!(!e.oboAssertion||n!==e.oboAssertion)},c.prototype.matchEnvironment=function(e,n){var a=this.getAuthorityMetadataByAlias(n);return!!(a&&a.aliases.indexOf(e.environment)>-1)},c.prototype.matchCredentialType=function(e,n){return e.credentialType&&n.toLowerCase()===e.credentialType.toLowerCase()},c.prototype.matchClientId=function(e,n){return!(!e.clientId||n!==e.clientId)},c.prototype.matchFamilyId=function(e,n){return!(!e.familyId||n!==e.familyId)},c.prototype.matchRealm=function(e,n){return!(!e.realm||n!==e.realm)},c.prototype.matchTarget=function(e,n){if(e.credentialType!==ne.ACCESS_TOKEN||!e.target)return!1;var a=ht.fromString(e.target),u=ht.fromString(n);return u.containsOnlyOIDCScopes()?u.removeScope(W):u.removeOIDCScopes(),a.containsScopeSet(u)},c.prototype.isAppMetadata=function(e){return e.indexOf(ye)!==-1},c.prototype.isAuthorityMetadata=function(e){return e.indexOf(rt)!==-1},c.prototype.generateAuthorityMetadataCacheKey=function(e){return rt+"-"+this.clientId+"-"+e},c.prototype.getSpecificCredential=function(e,n){switch(n){case ne.ID_TOKEN:return this.getIdTokenCredential(e);case ne.ACCESS_TOKEN:return this.getAccessTokenCredential(e);case ne.REFRESH_TOKEN:return this.getRefreshTokenCredential(e);default:return null}},c.toObject=function(e,n){for(var a in n)e[a]=n[a];return e},c}(),zs=function(c){function e(){return c!==null&&c.apply(this,arguments)||this}return y(e,c),e.prototype.setAccount=function(){throw ie.createUnexpectedError("Storage interface - setAccount() has not been implemented for the cacheStorage interface.")},e.prototype.getAccount=function(){throw ie.createUnexpectedError("Storage interface - getAccount() has not been implemented for the cacheStorage interface.")},e.prototype.setIdTokenCredential=function(){throw ie.createUnexpectedError("Storage interface - setIdTokenCredential() has not been implemented for the cacheStorage interface.")},e.prototype.getIdTokenCredential=function(){throw ie.createUnexpectedError("Storage interface - getIdTokenCredential() has not been implemented for the cacheStorage interface.")},e.prototype.setAccessTokenCredential=function(){throw ie.createUnexpectedError("Storage interface - setAccessTokenCredential() has not been implemented for the cacheStorage interface.")},e.prototype.getAccessTokenCredential=function(){throw ie.createUnexpectedError("Storage interface - getAccessTokenCredential() has not been implemented for the cacheStorage interface.")},e.prototype.setRefreshTokenCredential=function(){throw ie.createUnexpectedError("Storage interface - setRefreshTokenCredential() has not been implemented for the cacheStorage interface.")},e.prototype.getRefreshTokenCredential=function(){throw ie.createUnexpectedError("Storage interface - getRefreshTokenCredential() has not been implemented for the cacheStorage interface.")},e.prototype.setAppMetadata=function(){throw ie.createUnexpectedError("Storage interface - setAppMetadata() has not been implemented for the cacheStorage interface.")},e.prototype.getAppMetadata=function(){throw ie.createUnexpectedError("Storage interface - getAppMetadata() has not been implemented for the cacheStorage interface.")},e.prototype.setServerTelemetry=function(){throw ie.createUnexpectedError("Storage interface - setServerTelemetry() has not been implemented for the cacheStorage interface.")},e.prototype.getServerTelemetry=function(){throw ie.createUnexpectedError("Storage interface - getServerTelemetry() has not been implemented for the cacheStorage interface.")},e.prototype.setAuthorityMetadata=function(){throw ie.createUnexpectedError("Storage interface - setAuthorityMetadata() has not been implemented for the cacheStorage interface.")},e.prototype.getAuthorityMetadata=function(){throw ie.createUnexpectedError("Storage interface - getAuthorityMetadata() has not been implemented for the cacheStorage interface.")},e.prototype.getAuthorityMetadataKeys=function(){throw ie.createUnexpectedError("Storage interface - getAuthorityMetadataKeys() has not been implemented for the cacheStorage interface.")},e.prototype.setThrottlingCache=function(){throw ie.createUnexpectedError("Storage interface - setThrottlingCache() has not been implemented for the cacheStorage interface.")},e.prototype.getThrottlingCache=function(){throw ie.createUnexpectedError("Storage interface - getThrottlingCache() has not been implemented for the cacheStorage interface.")},e.prototype.removeItem=function(){throw ie.createUnexpectedError("Storage interface - removeItem() has not been implemented for the cacheStorage interface.")},e.prototype.containsKey=function(){throw ie.createUnexpectedError("Storage interface - containsKey() has not been implemented for the cacheStorage interface.")},e.prototype.getKeys=function(){throw ie.createUnexpectedError("Storage interface - getKeys() has not been implemented for the cacheStorage interface.")},e.prototype.clear=function(){throw ie.createUnexpectedError("Storage interface - clear() has not been implemented for the cacheStorage interface.")},e}(vt),Ai={tokenRenewalOffsetSeconds:300},$s={loggerCallback:function(){},piiLoggingEnabled:!1,logLevel:t.LogLevel.Info},Vs={sendGetRequestAsync:function(){return E(this,void 0,void 0,function(){return w(this,function(c){throw ie.createUnexpectedError("Network interface - sendGetRequestAsync() has not been implemented")})})},sendPostRequestAsync:function(){return E(this,void 0,void 0,function(){return w(this,function(c){throw ie.createUnexpectedError("Network interface - sendPostRequestAsync() has not been implemented")})})}},Ys={sku:U,version:ii,cpu:"",os:""},Qs={clientSecret:"",clientAssertion:void 0},Tn,Zt=function(c){function e(n,a,u){var h=c.call(this,n,a,u)||this;return h.name="ServerError",Object.setPrototypeOf(h,e.prototype),h}return y(e,c),e}(ie),qr=function(){function c(){}return c.generateThrottlingStorageKey=function(e){return mr+"."+JSON.stringify(e)},c.preProcess=function(e,n){var a,u=c.generateThrottlingStorageKey(n),h=e.getThrottlingCache(u);if(h){if(h.throttleTime<Date.now())return void e.removeItem(u,ge.THROTTLING);throw new Zt(((a=h.errorCodes)===null||a===void 0?void 0:a.join(" "))||x,h.errorMessage,h.subError)}},c.postProcess=function(e,n,a){if(c.checkResponseStatus(a)||c.checkResponseForRetryAfter(a)){var u={throttleTime:c.calculateThrottleTime(parseInt(a.headers[C.RETRY_AFTER])),error:a.body.error,errorCodes:a.body.error_codes,errorMessage:a.body.error_description,subError:a.body.suberror};e.setThrottlingCache(c.generateThrottlingStorageKey(n),u)}},c.checkResponseStatus=function(e){return e.status===429||e.status>=500&&e.status<600},c.checkResponseForRetryAfter=function(e){return!!e.headers&&e.headers.hasOwnProperty(C.RETRY_AFTER)&&(e.status<200||e.status>=300)},c.calculateThrottleTime=function(e){e<=0&&(e=0);var n=Date.now()/1e3;return Math.floor(1e3*Math.min(n+(e||Rt),n+Ot))},c.removeThrottle=function(e,n,a,u,h){var p={clientId:n,authority:a,scopes:u,homeAccountIdentifier:h},g=this.generateThrottlingStorageKey(p);return e.removeItem(g,ge.THROTTLING)},c}(),Js=function(){function c(e,n){this.networkClient=e,this.cacheManager=n}return c.prototype.sendPostRequest=function(e,n,a){return E(this,void 0,void 0,function(){var u,h;return w(this,function(p){switch(p.label){case 0:qr.preProcess(this.cacheManager,e),p.label=1;case 1:return p.trys.push([1,3,,4]),[4,this.networkClient.sendPostRequestAsync(n,a)];case 2:return u=p.sent(),[3,4];case 3:throw(h=p.sent())instanceof ie?h:G.createNetworkError(n,h);case 4:return qr.postProcess(this.cacheManager,e,u),[2,u]}})})},c}(),jt=function(){function c(e){var n,a,u,h,p,g,_,S,T,R,q,V,J;this.config=(u=(n=e).authOptions,h=n.systemOptions,p=n.loggerOptions,g=n.storageInterface,_=n.networkInterface,S=n.cryptoInterface,T=n.clientCredentials,R=n.libraryInfo,q=n.serverTelemetryManager,V=n.persistencePlugin,J=n.serializableCache,{authOptions:(a=u,m({clientCapabilities:[]},a)),systemOptions:m(m({},Ai),h),loggerOptions:m(m({},$s),p),storageInterface:g||new zs(u.clientId,Lr),networkInterface:_||Vs,cryptoInterface:S||Lr,clientCredentials:T||Qs,libraryInfo:m(m({},Ys),R),serverTelemetryManager:q||null,persistencePlugin:V||null,serializableCache:J||null}),this.logger=new Cn(this.config.loggerOptions,"@azure/msal-common",ii),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.networkManager=new Js(this.networkClient,this.cacheManager),this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority}return c.prototype.createDefaultTokenRequestHeaders=function(){var e=this.createDefaultLibraryHeaders();return e[C.CONTENT_TYPE]=Z,e[C.X_MS_LIB_CAPABILITY]=C.X_MS_LIB_CAPABILITY_VALUE,this.serverTelemetryManager&&(e[C.X_CLIENT_CURR_TELEM]=this.serverTelemetryManager.generateCurrentRequestHeaderValue(),e[C.X_CLIENT_LAST_TELEM]=this.serverTelemetryManager.generateLastRequestHeaderValue()),e},c.prototype.createDefaultLibraryHeaders=function(){var e={};return e[I.X_CLIENT_SKU]=this.config.libraryInfo.sku,e[I.X_CLIENT_VER]=this.config.libraryInfo.version,e[I.X_CLIENT_OS]=this.config.libraryInfo.os,e[I.X_CLIENT_CPU]=this.config.libraryInfo.cpu,e},c.prototype.executePostToTokenEndpoint=function(e,n,a,u){return E(this,void 0,void 0,function(){var h;return w(this,function(p){switch(p.label){case 0:return[4,this.networkManager.sendPostRequest(u,e,{body:n,headers:a})];case 1:return h=p.sent(),this.config.serverTelemetryManager&&h.status<500&&h.status!==429&&this.config.serverTelemetryManager.clearTelemetryCache(),[2,h]}})})},c.prototype.updateAuthority=function(e){if(!e.discoveryComplete())throw G.createEndpointDiscoveryIncompleteError("Updated authority has not completed endpoint discovery.");this.authority=e},c}(),er=function(){function c(){}return c.validateRedirectUri=function(e){if(N.isEmpty(e))throw Se.createRedirectUriEmptyError()},c.validatePrompt=function(e){if([pe.LOGIN,pe.SELECT_ACCOUNT,pe.CONSENT,pe.NONE].indexOf(e)<0)throw Se.createInvalidPromptError(e)},c.validateClaims=function(e){try{JSON.parse(e)}catch{throw Se.createInvalidClaimsRequestError()}},c.validateCodeChallengeParams=function(e,n){if(N.isEmpty(e)||N.isEmpty(n))throw Se.createInvalidCodeChallengeParamsError();this.validateCodeChallengeMethod(n)},c.validateCodeChallengeMethod=function(e){if([Te.PLAIN,Te.S256].indexOf(e)<0)throw Se.createInvalidCodeChallengeMethodError()},c.sanitizeEQParams=function(e,n){return e?(n.forEach(function(a,u){e[u]&&delete e[u]}),e):{}},c}(),pt=function(){function c(){this.parameters=new Map}return c.prototype.addResponseTypeCode=function(){this.parameters.set(I.RESPONSE_TYPE,encodeURIComponent(K))},c.prototype.addResponseMode=function(e){this.parameters.set(I.RESPONSE_MODE,encodeURIComponent(e||qe.QUERY))},c.prototype.addScopes=function(e,n){n===void 0&&(n=!0);var a=n?b(e||[],Ue):e||[],u=new ht(a);this.parameters.set(I.SCOPE,encodeURIComponent(u.printScopes()))},c.prototype.addClientId=function(e){this.parameters.set(I.CLIENT_ID,encodeURIComponent(e))},c.prototype.addRedirectUri=function(e){er.validateRedirectUri(e),this.parameters.set(I.REDIRECT_URI,encodeURIComponent(e))},c.prototype.addPostLogoutRedirectUri=function(e){er.validateRedirectUri(e),this.parameters.set(I.POST_LOGOUT_URI,encodeURIComponent(e))},c.prototype.addIdTokenHint=function(e){this.parameters.set(I.ID_TOKEN_HINT,encodeURIComponent(e))},c.prototype.addDomainHint=function(e){this.parameters.set(ae.DOMAIN_HINT,encodeURIComponent(e))},c.prototype.addLoginHint=function(e){this.parameters.set(ae.LOGIN_HINT,encodeURIComponent(e))},c.prototype.addSid=function(e){this.parameters.set(ae.SID,encodeURIComponent(e))},c.prototype.addClaims=function(e,n){var a=this.addClientCapabilitiesToClaims(e,n);er.validateClaims(a),this.parameters.set(I.CLAIMS,encodeURIComponent(a))},c.prototype.addCorrelationId=function(e){this.parameters.set(I.CLIENT_REQUEST_ID,encodeURIComponent(e))},c.prototype.addLibraryInfo=function(e){this.parameters.set(I.X_CLIENT_SKU,e.sku),this.parameters.set(I.X_CLIENT_VER,e.version),this.parameters.set(I.X_CLIENT_OS,e.os),this.parameters.set(I.X_CLIENT_CPU,e.cpu)},c.prototype.addPrompt=function(e){er.validatePrompt(e),this.parameters.set(""+I.PROMPT,encodeURIComponent(e))},c.prototype.addState=function(e){N.isEmpty(e)||this.parameters.set(I.STATE,encodeURIComponent(e))},c.prototype.addNonce=function(e){this.parameters.set(I.NONCE,encodeURIComponent(e))},c.prototype.addCodeChallengeParams=function(e,n){if(er.validateCodeChallengeParams(e,n),!e||!n)throw Se.createInvalidCodeChallengeParamsError();this.parameters.set(I.CODE_CHALLENGE,encodeURIComponent(e)),this.parameters.set(I.CODE_CHALLENGE_METHOD,encodeURIComponent(n))},c.prototype.addAuthorizationCode=function(e){this.parameters.set(I.CODE,encodeURIComponent(e))},c.prototype.addDeviceCode=function(e){this.parameters.set(I.DEVICE_CODE,encodeURIComponent(e))},c.prototype.addRefreshToken=function(e){this.parameters.set(I.REFRESH_TOKEN,encodeURIComponent(e))},c.prototype.addCodeVerifier=function(e){this.parameters.set(I.CODE_VERIFIER,encodeURIComponent(e))},c.prototype.addClientSecret=function(e){this.parameters.set(I.CLIENT_SECRET,encodeURIComponent(e))},c.prototype.addClientAssertion=function(e){this.parameters.set(I.CLIENT_ASSERTION,encodeURIComponent(e))},c.prototype.addClientAssertionType=function(e){this.parameters.set(I.CLIENT_ASSERTION_TYPE,encodeURIComponent(e))},c.prototype.addOboAssertion=function(e){this.parameters.set(I.OBO_ASSERTION,encodeURIComponent(e))},c.prototype.addRequestTokenUse=function(e){this.parameters.set(I.REQUESTED_TOKEN_USE,encodeURIComponent(e))},c.prototype.addGrantType=function(e){this.parameters.set(I.GRANT_TYPE,encodeURIComponent(e))},c.prototype.addClientInfo=function(){this.parameters.set("client_info","1")},c.prototype.addExtraQueryParameters=function(e){var n=this;er.sanitizeEQParams(e,this.parameters),Object.keys(e).forEach(function(a){n.parameters.set(a,e[a])})},c.prototype.addClientCapabilitiesToClaims=function(e,n){var a;if(e)try{a=JSON.parse(e)}catch{throw Se.createInvalidClaimsRequestError()}else a={};return n&&n.length>0&&(a.hasOwnProperty(L.ACCESS_TOKEN)||(a[L.ACCESS_TOKEN]={}),a[L.ACCESS_TOKEN][L.XMS_CC]={values:n}),JSON.stringify(a)},c.prototype.addUsername=function(e){this.parameters.set(Bt.username,e)},c.prototype.addPassword=function(e){this.parameters.set(Bt.password,e)},c.prototype.addPopToken=function(e){N.isEmpty(e)||(this.parameters.set(I.TOKEN_TYPE,t.AuthenticationScheme.POP),this.parameters.set(I.REQ_CNF,encodeURIComponent(e)))},c.prototype.createQueryString=function(){var e=new Array;return this.parameters.forEach(function(n,a){e.push(a+"="+n)}),e.join("&")},c}(),Sn=function(c){function e(){return c!==null&&c.apply(this,arguments)||this}return y(e,c),e.createIdTokenEntity=function(n,a,u,h,p,g){var _=new e;return _.credentialType=ne.ID_TOKEN,_.homeAccountId=n,_.environment=a,_.clientId=h,_.secret=u,_.realm=p,_.oboAssertion=g,_},e.isIdTokenEntity=function(n){return!!n&&n.hasOwnProperty("homeAccountId")&&n.hasOwnProperty("environment")&&n.hasOwnProperty("credentialType")&&n.hasOwnProperty("realm")&&n.hasOwnProperty("clientId")&&n.hasOwnProperty("secret")&&n.credentialType===ne.ID_TOKEN},e}(gr),Be=function(){function c(){}return c.nowSeconds=function(){return Math.round(new Date().getTime()/1e3)},c.isTokenExpired=function(e,n){var a=Number(e)||0;return c.nowSeconds()+n>a},c}(),An=function(c){function e(){return c!==null&&c.apply(this,arguments)||this}return y(e,c),e.createAccessTokenEntity=function(n,a,u,h,p,g,_,S,T,R){var q=new e;q.homeAccountId=n,q.credentialType=ne.ACCESS_TOKEN,q.secret=u;var V=Be.nowSeconds();return q.cachedAt=V.toString(),q.expiresOn=_.toString(),q.extendedExpiresOn=S.toString(),q.environment=a,q.clientId=h,q.realm=p,q.target=g,q.oboAssertion=R,q.tokenType=N.isEmpty(T)?t.AuthenticationScheme.BEARER:T,q},e.isAccessTokenEntity=function(n){return!!n&&n.hasOwnProperty("homeAccountId")&&n.hasOwnProperty("environment")&&n.hasOwnProperty("credentialType")&&n.hasOwnProperty("realm")&&n.hasOwnProperty("clientId")&&n.hasOwnProperty("secret")&&n.hasOwnProperty("target")&&n.credentialType===ne.ACCESS_TOKEN},e}(gr),In=function(c){function e(){return c!==null&&c.apply(this,arguments)||this}return y(e,c),e.createRefreshTokenEntity=function(n,a,u,h,p,g){var _=new e;return _.clientId=h,_.credentialType=ne.REFRESH_TOKEN,_.environment=a,_.homeAccountId=n,_.secret=u,_.oboAssertion=g,p&&(_.familyId=p),_},e.isRefreshTokenEntity=function(n){return!!n&&n.hasOwnProperty("homeAccountId")&&n.hasOwnProperty("environment")&&n.hasOwnProperty("credentialType")&&n.hasOwnProperty("clientId")&&n.hasOwnProperty("secret")&&n.credentialType===ne.REFRESH_TOKEN},e}(gr),Ii=["interaction_required","consent_required","login_required"],Xs=["message_only","additional_action","basic_action","user_password_expired","consent_required"],tr=function(c){function e(n,a,u){var h=c.call(this,n,a,u)||this;return h.name="InteractionRequiredAuthError",Object.setPrototypeOf(h,e.prototype),h}return y(e,c),e.isInteractionRequiredError=function(n,a,u){var h=!!n&&Ii.indexOf(n)>-1,p=!!u&&Xs.indexOf(u)>-1,g=!!a&&Ii.some(function(_){return a.indexOf(_)>-1});return h||g||p},e}(Zt),Zs=function(c,e,n,a,u){this.account=c||null,this.idToken=e||null,this.accessToken=n||null,this.refreshToken=a||null,this.appMetadata=u||null},rr=function(){function c(){}return c.setRequestState=function(e,n,a){var u=c.generateLibraryState(e,a);return N.isEmpty(n)?u:""+u+O+n},c.generateLibraryState=function(e,n){if(!e)throw G.createNoCryptoObjectError("generateLibraryState");var a={id:e.createNewGuid()};n&&(a.meta=n);var u=JSON.stringify(a);return e.base64Encode(u)},c.parseRequestState=function(e,n){if(!e)throw G.createNoCryptoObjectError("parseRequestState");if(N.isEmpty(n))throw G.createInvalidStateError(n,"Null, undefined or empty state");try{var a=decodeURIComponent(n).split(O),u=a[0],h=a.length>1?a.slice(1).join(O):"",p=e.base64Decode(u),g=JSON.parse(p);return{userRequestState:N.isEmpty(h)?"":h,libraryState:g}}catch(_){throw G.createInvalidStateError(n,_)}},c}(),Ce=function(){function c(e){if(this._urlString=e,N.isEmpty(this._urlString))throw Se.createUrlEmptyError();N.isEmpty(this.getHash())&&(this._urlString=c.canonicalizeUri(e))}return Object.defineProperty(c.prototype,"urlString",{get:function(){return this._urlString},enumerable:!0,configurable:!0}),c.canonicalizeUri=function(e){return e&&(e=e.toLowerCase(),N.endsWith(e,"?")?e=e.slice(0,-1):N.endsWith(e,"?/")&&(e=e.slice(0,-2)),N.endsWith(e,"/")||(e+="/")),e},c.prototype.validateAsUri=function(){var e;try{e=this.getUrlComponents()}catch(n){throw Se.createUrlParseError(n)}if(!e.HostNameAndPort||!e.PathSegments)throw Se.createUrlParseError("Given url string: "+this.urlString);if(!e.Protocol||e.Protocol.toLowerCase()!=="https:")throw Se.createInsecureAuthorityUriError(this.urlString)},c.prototype.urlRemoveQueryStringParameter=function(e){var n=new RegExp("(\\&"+e+"=)[^&]+");return this._urlString=this.urlString.replace(n,""),n=new RegExp("("+e+"=)[^&]+&"),this._urlString=this.urlString.replace(n,""),n=new RegExp("("+e+"=)[^&]+"),this._urlString=this.urlString.replace(n,""),this.urlString},c.removeHashFromUrl=function(e){return c.canonicalizeUri(e.split("#")[0])},c.prototype.replaceTenantPath=function(e){var n=this.getUrlComponents(),a=n.PathSegments;return!e||a.length===0||a[0]!==P.COMMON&&a[0]!==P.ORGANIZATIONS||(a[0]=e),c.constructAuthorityUriFromObject(n)},c.prototype.getHash=function(){return c.parseHash(this.urlString)},c.prototype.getUrlComponents=function(){var e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),n=this.urlString.match(e);if(!n)throw Se.createUrlParseError("Given url string: "+this.urlString);var a={Protocol:n[1],HostNameAndPort:n[4],AbsolutePath:n[5],QueryString:n[7]},u=a.AbsolutePath.split("/");return u=u.filter(function(h){return h&&h.length>0}),a.PathSegments=u,!N.isEmpty(a.QueryString)&&a.QueryString.endsWith("/")&&(a.QueryString=a.QueryString.substring(0,a.QueryString.length-1)),a},c.getDomainFromUrl=function(e){var n=RegExp("^([^:/?#]+://)?([^/?#]*)"),a=e.match(n);if(!a)throw Se.createUrlParseError("Given url string: "+e);return a[2]},c.getAbsoluteUrl=function(e,n){if(e[0]===Le){var a=new c(n).getUrlComponents();return a.Protocol+"//"+a.HostNameAndPort+e}return e},c.parseHash=function(e){var n=e.indexOf("#"),a=e.indexOf("#/");return a>-1?e.substring(a+2):n>-1?e.substring(n+1):""},c.constructAuthorityUriFromObject=function(e){return new c(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))},c.getDeserializedHash=function(e){if(N.isEmpty(e))return{};var n=c.parseHash(e),a=N.queryStringToObject(N.isEmpty(n)?e:n);if(!a)throw G.createHashNotDeserializedError(JSON.stringify(a));return a},c.hashContainsKnownProperties=function(e){if(N.isEmpty(e))return!1;var n=c.getDeserializedHash(e);return!!(n.code||n.error_description||n.error||n.state)},c}();(function(c){c.SW="sw",c.UHW="uhw"})(Tn||(Tn={}));var ki,kn=function(){function c(e){this.cryptoUtils=e}return c.prototype.generateCnf=function(e,n){return E(this,void 0,void 0,function(){var a,u;return w(this,function(h){switch(h.label){case 0:return[4,this.cryptoUtils.getPublicKeyThumbprint(e,n)];case 1:return a=h.sent(),u={kid:a,xms_ksl:Tn.SW},[2,this.cryptoUtils.base64Encode(JSON.stringify(u))]}})})},c.prototype.signPopToken=function(e,n,a,u){var h;return E(this,void 0,void 0,function(){var p,g,_;return w(this,function(S){switch(S.label){case 0:if(p=Kt.extractTokenClaims(e,this.cryptoUtils),g=new Ce(a),_=g.getUrlComponents(),!(!((h=p==null?void 0:p.cnf)===null||h===void 0)&&h.kid))throw G.createTokenClaimsRequiredError();return[4,this.cryptoUtils.signJwt({at:e,ts:""+Be.nowSeconds(),m:n.toUpperCase(),u:_.HostNameAndPort||"",nonce:this.cryptoUtils.createNewGuid(),p:_.AbsolutePath,q:[[],_.QueryString],client_claims:u||void 0},p.cnf.kid)];case 1:return[2,S.sent()]}})})},c}(),Rn=function(){function c(){}return c.prototype.generateAppMetadataKey=function(){return c.generateAppMetadataCacheKey(this.environment,this.clientId)},c.generateAppMetadataCacheKey=function(e,n){return[ye,e,n].join(Fe.CACHE_KEY_SEPARATOR).toLowerCase()},c.createAppMetadataEntity=function(e,n,a){var u=new c;return u.clientId=e,u.environment=n,a&&(u.familyId=a),u},c.isAppMetadataEntity=function(e,n){return!!n&&e.indexOf(ye)===0&&n.hasOwnProperty("clientId")&&n.hasOwnProperty("environment")},c}(),ec=function(){function c(e,n){this.cache=e,this.hasChanged=n}return Object.defineProperty(c.prototype,"cacheHasChanged",{get:function(){return this.hasChanged},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"tokenCache",{get:function(){return this.cache},enumerable:!0,configurable:!0}),c}(),wt=function(){function c(e,n,a,u,h,p){this.clientId=e,this.cacheStorage=n,this.cryptoObj=a,this.logger=u,this.serializableCache=h,this.persistencePlugin=p}return c.prototype.validateServerAuthorizationCodeResponse=function(e,n,a){if(!e.state||!n)throw e.state?G.createStateNotFoundError("Cached State"):G.createStateNotFoundError("Server State");if(decodeURIComponent(e.state)!==decodeURIComponent(n))throw G.createStateMismatchError();if(e.error||e.error_description||e.suberror)throw tr.isInteractionRequiredError(e.error,e.error_description,e.suberror)?new tr(e.error||x,e.error_description,e.suberror):new Zt(e.error||x,e.error_description,e.suberror);e.client_info&&Si(e.client_info,a)},c.prototype.validateTokenResponse=function(e){if(e.error||e.error_description||e.suberror){if(tr.isInteractionRequiredError(e.error,e.error_description,e.suberror))throw new tr(e.error,e.error_description,e.suberror);var n=e.error_codes+" - ["+e.timestamp+"]: "+e.error_description+" - Correlation ID: "+e.correlation_id+" - Trace ID: "+e.trace_id;throw new Zt(e.error,n)}},c.prototype.handleServerTokenResponse=function(e,n,a,u,h,p,g){return E(this,void 0,void 0,function(){var _,S,T,R,q;return w(this,function(V){switch(V.label){case 0:if(e.id_token&&(_=new Kt(e.id_token||x,this.cryptoObj),h&&!N.isEmpty(h.nonce)&&_.claims.nonce!==h.nonce))throw G.createNonceMismatchError();this.homeAccountIdentifier=st.generateHomeAccountId(e.client_info||x,n.authorityType,this.logger,this.cryptoObj,_),h&&h.state&&(S=rr.parseRequestState(this.cryptoObj,h.state)),T=this.generateCacheRecord(e,n,a,_,u.scopes,p,h),V.label=1;case 1:return V.trys.push([1,,4,7]),this.persistencePlugin&&this.serializableCache?(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),R=new ec(this.serializableCache,!0),[4,this.persistencePlugin.beforeCacheAccess(R)]):[3,3];case 2:V.sent(),V.label=3;case 3:return!g||!T.account||(q=T.account.generateAccountKey(),this.cacheStorage.getAccount(q))?(this.cacheStorage.saveCacheRecord(T),[3,7]):(this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),[2,c.generateAuthenticationResult(this.cryptoObj,n,T,!1,u,_,S)]);case 4:return this.persistencePlugin&&this.serializableCache&&R?(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),[4,this.persistencePlugin.afterCacheAccess(R)]):[3,6];case 5:V.sent(),V.label=6;case 6:return[7];case 7:return[2,c.generateAuthenticationResult(this.cryptoObj,n,T,!1,u,_,S)]}})})},c.prototype.generateCacheRecord=function(e,n,a,u,h,p,g){var _,S,T=n.getPreferredCache();if(N.isEmpty(T))throw G.createInvalidCacheEnvironmentError();!N.isEmpty(e.id_token)&&u&&(_=Sn.createIdTokenEntity(this.homeAccountIdentifier,T,e.id_token||x,this.clientId,u.claims.tid||x,p),S=this.generateAccountEntity(e,u,n,p,g));var R=null;if(!N.isEmpty(e.access_token)){var q=e.scope?ht.fromString(e.scope):new ht(h||[]),V=a+((typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0),J=V+((typeof e.ext_expires_in=="string"?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0);R=An.createAccessTokenEntity(this.homeAccountIdentifier,T,e.access_token||x,this.clientId,u?u.claims.tid||x:n.tenant,q.printScopes(),V,J,e.token_type,p)}var fe=null;N.isEmpty(e.refresh_token)||(fe=In.createRefreshTokenEntity(this.homeAccountIdentifier,T,e.refresh_token||x,this.clientId,e.foci,p));var Ke=null;return N.isEmpty(e.foci)||(Ke=Rn.createAppMetadataEntity(this.clientId,T,e.foci)),new Zs(S,_,R,fe,Ke)},c.prototype.generateAccountEntity=function(e,n,a,u,h){var p=a.authorityType,g=h?h.cloud_graph_host_name:"",_=h?h.msgraph_host:"";if(p===Pt.Adfs)return this.logger.verbose("Authority type is ADFS, creating ADFS account"),st.createGenericAccount(a,this.homeAccountIdentifier,n,u,g,_);if(N.isEmpty(e.client_info)&&a.protocolMode==="AAD")throw G.createClientInfoEmptyError();return e.client_info?st.createAccount(e.client_info,this.homeAccountIdentifier,a,n,u,g,_):st.createGenericAccount(a,this.homeAccountIdentifier,n,u,g,_)},c.generateAuthenticationResult=function(e,n,a,u,h,p,g){var _,S,T;return E(this,void 0,void 0,function(){var R,q,V,J,fe,Ke,Nt,Gi;return w(this,function(Br){switch(Br.label){case 0:if(R="",q=[],V=null,fe=x,!a.accessToken)return[3,4];if(a.accessToken.tokenType!==t.AuthenticationScheme.POP)return[3,2];if(Ke=new kn(e),!h.resourceRequestMethod||!h.resourceRequestUri)throw Se.createResourceRequestParametersRequiredError();return[4,Ke.signPopToken(a.accessToken.secret,h.resourceRequestMethod,h.resourceRequestUri,h.shrClaims)];case 1:return R=Br.sent(),[3,3];case 2:R=a.accessToken.secret,Br.label=3;case 3:q=ht.fromString(a.accessToken.target).asArray(),V=new Date(1e3*Number(a.accessToken.expiresOn)),J=new Date(1e3*Number(a.accessToken.extendedExpiresOn)),Br.label=4;case 4:return a.appMetadata&&(fe=a.appMetadata.familyId===ee?ee:x),Nt=(p==null?void 0:p.claims.oid)||(p==null?void 0:p.claims.sub)||x,Gi=(p==null?void 0:p.claims.tid)||x,[2,{authority:n.canonicalAuthority,uniqueId:Nt,tenantId:Gi,scopes:q,account:a.account?a.account.getAccountInfo():null,idToken:p?p.rawToken:x,idTokenClaims:p?p.claims:{},accessToken:R,fromCache:u,expiresOn:V,extExpiresOn:J,familyId:fe,tokenType:((_=a.accessToken)===null||_===void 0?void 0:_.tokenType)||x,state:g?g.userRequestState:x,cloudGraphHostName:((S=a.account)===null||S===void 0?void 0:S.cloudGraphHostName)||x,msGraphHost:((T=a.account)===null||T===void 0?void 0:T.msGraphHost)||x}]}})})},c}(),tc=function(c){function e(n){return c.call(this,n)||this}return y(e,c),e.prototype.getAuthCodeUrl=function(n){return E(this,void 0,void 0,function(){var a;return w(this,function(u){return a=this.createAuthCodeUrlQueryString(n),[2,this.authority.authorizationEndpoint+"?"+a]})})},e.prototype.acquireToken=function(n,a){return E(this,void 0,void 0,function(){var u,h,p;return w(this,function(g){switch(g.label){case 0:if(this.logger.info("in acquireToken call"),!n||N.isEmpty(n.code))throw G.createTokenRequestCannotBeMadeError();return u=Be.nowSeconds(),[4,this.executeTokenRequest(this.authority,n)];case 1:return h=g.sent(),(p=new wt(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin)).validateTokenResponse(h.body),[4,p.handleServerTokenResponse(h.body,this.authority,u,n,a)];case 2:return[2,g.sent()]}})})},e.prototype.handleFragmentResponse=function(n,a){var u=new wt(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,null,null),h=new Ce(n),p=Ce.getDeserializedHash(h.getHash());if(u.validateServerAuthorizationCodeResponse(p,a,this.cryptoUtils),!p.code)throw G.createNoAuthCodeInServerResponseError();return m(m({},p),{code:p.code})},e.prototype.getLogoutUri=function(n){if(!n)throw Se.createEmptyLogoutRequestError();n.account?this.cacheManager.removeAccount(st.generateAccountCacheKey(n.account)):this.cacheManager.clear();var a=this.createLogoutUrlQueryString(n);return N.isEmpty(a)?this.authority.endSessionEndpoint:this.authority.endSessionEndpoint+"?"+a},e.prototype.executeTokenRequest=function(n,a){return E(this,void 0,void 0,function(){var u,h,p,g,_;return w(this,function(S){switch(S.label){case 0:return u={clientId:this.config.authOptions.clientId,authority:n.canonicalAuthority,scopes:a.scopes},[4,this.createTokenRequestBody(a)];case 1:return h=S.sent(),p=this.createTokenQueryParameters(a),g=this.createDefaultTokenRequestHeaders(),_=N.isEmpty(p)?n.tokenEndpoint:n.tokenEndpoint+"?"+p,[2,this.executePostToTokenEndpoint(_,h,g,u)]}})})},e.prototype.createTokenQueryParameters=function(n){var a=new pt;return n.tokenQueryParameters&&a.addExtraQueryParameters(n.tokenQueryParameters),a.createQueryString()},e.prototype.createTokenRequestBody=function(n){return E(this,void 0,void 0,function(){var a,u,h,p;return w(this,function(g){switch(g.label){case 0:return(a=new pt).addClientId(this.config.authOptions.clientId),a.addRedirectUri(n.redirectUri),a.addScopes(n.scopes),a.addAuthorizationCode(n.code),n.codeVerifier&&a.addCodeVerifier(n.codeVerifier),this.config.clientCredentials.clientSecret&&a.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion&&(u=this.config.clientCredentials.clientAssertion,a.addClientAssertion(u.assertion),a.addClientAssertionType(u.assertionType)),a.addGrantType(Ee.AUTHORIZATION_CODE_GRANT),a.addClientInfo(),n.authenticationScheme===t.AuthenticationScheme.POP&&n.resourceRequestMethod&&n.resourceRequestUri?[4,new kn(this.cryptoUtils).generateCnf(n.resourceRequestMethod,n.resourceRequestUri)]:[3,2];case 1:h=g.sent(),a.addPopToken(h),g.label=2;case 2:return p=n.correlationId||this.config.cryptoInterface.createNewGuid(),a.addCorrelationId(p),(!N.isEmpty(n.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&a.addClaims(n.claims,this.config.authOptions.clientCapabilities),[2,a.createQueryString()]}})})},e.prototype.createAuthCodeUrlQueryString=function(n){var a=new pt;a.addClientId(this.config.authOptions.clientId);var u=b(n.scopes||[],n.extraScopesToConsent||[]);a.addScopes(u),a.addRedirectUri(n.redirectUri);var h=n.correlationId||this.config.cryptoInterface.createNewGuid();if(a.addCorrelationId(h),a.addResponseMode(n.responseMode),a.addResponseTypeCode(),a.addLibraryInfo(this.config.libraryInfo),a.addClientInfo(),n.codeChallenge&&n.codeChallengeMethod&&a.addCodeChallengeParams(n.codeChallenge,n.codeChallengeMethod),n.prompt&&a.addPrompt(n.prompt),n.domainHint&&a.addDomainHint(n.domainHint),n.prompt!==pe.SELECT_ACCOUNT)if(n.sid&&n.prompt===pe.NONE)this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),a.addSid(n.sid);else if(n.account){var p=this.extractAccountSid(n.account);p&&n.prompt===pe.NONE?(this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),a.addSid(p)):n.loginHint?(this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),a.addLoginHint(n.loginHint)):n.account.username&&(this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),a.addLoginHint(n.account.username))}else n.loginHint&&(this.logger.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),a.addLoginHint(n.loginHint));else this.logger.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");return n.nonce&&a.addNonce(n.nonce),n.state&&a.addState(n.state),(!N.isEmpty(n.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&a.addClaims(n.claims,this.config.authOptions.clientCapabilities),n.extraQueryParameters&&a.addExtraQueryParameters(n.extraQueryParameters),a.createQueryString()},e.prototype.createLogoutUrlQueryString=function(n){var a=new pt;return n.postLogoutRedirectUri&&a.addPostLogoutRedirectUri(n.postLogoutRedirectUri),n.correlationId&&a.addCorrelationId(n.correlationId),n.idTokenHint&&a.addIdTokenHint(n.idTokenHint),a.createQueryString()},e.prototype.extractAccountSid=function(n){return n.idTokenClaims&&n.idTokenClaims.sid||null},e}(jt),Ri=(function(c){function e(n){return c.call(this,n)||this}y(e,c),e.prototype.acquireToken=function(n){return E(this,void 0,void 0,function(){var a,u,h,p;return w(this,function(g){switch(g.label){case 0:return[4,this.getDeviceCode(n)];case 1:return a=g.sent(),n.deviceCodeCallback(a),u=Be.nowSeconds(),[4,this.acquireTokenWithDeviceCode(n,a)];case 2:return h=g.sent(),(p=new wt(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin)).validateTokenResponse(h),[4,p.handleServerTokenResponse(h,this.authority,u,n)];case 3:return[2,g.sent()]}})})},e.prototype.getDeviceCode=function(n){return E(this,void 0,void 0,function(){var a,u,h;return w(this,function(p){return a=this.createQueryString(n),u=this.createDefaultTokenRequestHeaders(),h={clientId:this.config.authOptions.clientId,authority:n.authority,scopes:n.scopes},[2,this.executePostRequestToDeviceCodeEndpoint(this.authority.deviceCodeEndpoint,a,u,h)]})})},e.prototype.executePostRequestToDeviceCodeEndpoint=function(n,a,u,h){return E(this,void 0,void 0,function(){var p,g,_,S,T,R,q;return w(this,function(V){switch(V.label){case 0:return[4,this.networkManager.sendPostRequest(h,n,{body:a,headers:u})];case 1:return p=V.sent().body,g=p.user_code,_=p.device_code,S=p.verification_uri,T=p.expires_in,R=p.interval,q=p.message,[2,{userCode:g,deviceCode:_,verificationUri:S,expiresIn:T,interval:R,message:q}]}})})},e.prototype.createQueryString=function(n){var a=new pt;return a.addScopes(n.scopes),a.addClientId(this.config.authOptions.clientId),(!N.isEmpty(n.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&a.addClaims(n.claims,this.config.authOptions.clientCapabilities),a.createQueryString()},e.prototype.acquireTokenWithDeviceCode=function(n,a){return E(this,void 0,void 0,function(){var u,h,p,g,_,S=this;return w(this,function(T){return u=this.createTokenRequestBody(n,a),h=this.createDefaultTokenRequestHeaders(),p=n.timeout?Be.nowSeconds()+n.timeout:void 0,g=Be.nowSeconds()+a.expiresIn,_=1e3*a.interval,[2,new Promise(function(R,q){var V=setInterval(function(){return E(S,void 0,void 0,function(){var J,fe,Ke;return w(this,function(Nt){switch(Nt.label){case 0:return Nt.trys.push([0,6,,7]),n.cancel?(this.logger.error("Token request cancelled by setting DeviceCodeRequest.cancel = true"),clearInterval(V),q(G.createDeviceCodeCancelledError()),[3,5]):[3,1];case 1:return p&&p<g&&Be.nowSeconds()>p?(this.logger.error("User defined timeout for device code polling reached. The timeout was set for "+p),clearInterval(V),q(G.createUserTimeoutReachedError()),[3,5]):[3,2];case 2:return Be.nowSeconds()>g?(p&&this.logger.verbose("User specified timeout ignored as the device code has expired before the timeout elapsed. The user specified timeout was set for "+p),this.logger.error("Device code expired. Expiration time of device code was "+g),clearInterval(V),q(G.createDeviceCodeExpiredError()),[3,5]):[3,3];case 3:return J={clientId:this.config.authOptions.clientId,authority:n.authority,scopes:n.scopes},[4,this.executePostToTokenEndpoint(this.authority.tokenEndpoint,u,h,J)];case 4:(fe=Nt.sent()).body&&fe.body.error===he?this.logger.info(fe.body.error_description||"no_error_description"):(clearInterval(V),R(fe.body)),Nt.label=5;case 5:return[3,7];case 6:return Ke=Nt.sent(),clearInterval(V),q(Ke),[3,7];case 7:return[2]}})})},_)})]})})},e.prototype.createTokenRequestBody=function(n,a){var u=new pt;u.addScopes(n.scopes),u.addClientId(this.config.authOptions.clientId),u.addGrantType(Ee.DEVICE_CODE_GRANT),u.addDeviceCode(a.deviceCode);var h=n.correlationId||this.config.cryptoInterface.createNewGuid();return u.addCorrelationId(h),u.addClientInfo(),(!N.isEmpty(n.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&u.addClaims(n.claims,this.config.authOptions.clientCapabilities),u.createQueryString()}}(jt),function(c){function e(n){return c.call(this,n)||this}return y(e,c),e.prototype.acquireToken=function(n){return E(this,void 0,void 0,function(){var a,u,h;return w(this,function(p){switch(p.label){case 0:return a=Be.nowSeconds(),[4,this.executeTokenRequest(n,this.authority)];case 1:return u=p.sent(),(h=new wt(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin)).validateTokenResponse(u.body),[2,h.handleServerTokenResponse(u.body,this.authority,a,n,void 0,void 0,!0)]}})})},e.prototype.acquireTokenByRefreshToken=function(n){return E(this,void 0,void 0,function(){var a,u;return w(this,function(h){if(!n)throw Se.createEmptyTokenRequestError();if(!n.account)throw G.createNoAccountInSilentRequestError();if(this.cacheManager.isAppMetadataFOCI(n.account.environment,this.config.authOptions.clientId))try{return[2,this.acquireTokenWithCachedRefreshToken(n,!0)]}catch(p){if(a=p instanceof G&&p.errorCode===En.code,u=p instanceof Zt&&p.errorCode===Dr&&p.subError===xr,a||u)return[2,this.acquireTokenWithCachedRefreshToken(n,!1)];throw p}return[2,this.acquireTokenWithCachedRefreshToken(n,!1)]})})},e.prototype.acquireTokenWithCachedRefreshToken=function(n,a){return E(this,void 0,void 0,function(){var u,h;return w(this,function(p){if(!(u=this.cacheManager.readRefreshTokenFromCache(this.config.authOptions.clientId,n.account,a)))throw G.createNoTokensFoundError();return h=m(m({},n),{refreshToken:u.secret,authenticationScheme:t.AuthenticationScheme.BEARER}),[2,this.acquireToken(h)]})})},e.prototype.executeTokenRequest=function(n,a){return E(this,void 0,void 0,function(){var u,h,p,g,_;return w(this,function(S){switch(S.label){case 0:return[4,this.createTokenRequestBody(n)];case 1:return u=S.sent(),h=this.createTokenQueryParameters(n),p=this.createDefaultTokenRequestHeaders(),g={clientId:this.config.authOptions.clientId,authority:a.canonicalAuthority,scopes:n.scopes},_=N.isEmpty(h)?a.tokenEndpoint:a.tokenEndpoint+"?"+h,[2,this.executePostToTokenEndpoint(_,u,p,g)]}})})},e.prototype.createTokenQueryParameters=function(n){var a=new pt;return n.tokenQueryParameters&&a.addExtraQueryParameters(n.tokenQueryParameters),a.createQueryString()},e.prototype.createTokenRequestBody=function(n){return E(this,void 0,void 0,function(){var a,u,h,p,g,_;return w(this,function(S){switch(S.label){case 0:if((a=new pt).addClientId(this.config.authOptions.clientId),a.addScopes(n.scopes),a.addGrantType(Ee.REFRESH_TOKEN_GRANT),a.addClientInfo(),u=n.correlationId||this.config.cryptoInterface.createNewGuid(),a.addCorrelationId(u),a.addRefreshToken(n.refreshToken),this.config.clientCredentials.clientSecret&&a.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion&&(h=this.config.clientCredentials.clientAssertion,a.addClientAssertion(h.assertion),a.addClientAssertionType(h.assertionType)),n.authenticationScheme!==t.AuthenticationScheme.POP)return[3,2];if(p=new kn(this.cryptoUtils),!n.resourceRequestMethod||!n.resourceRequestUri)throw Se.createResourceRequestParametersRequiredError();return _=(g=a).addPopToken,[4,p.generateCnf(n.resourceRequestMethod,n.resourceRequestUri)];case 1:_.apply(g,[S.sent()]),S.label=2;case 2:return(!N.isEmpty(n.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&a.addClaims(n.claims,this.config.authOptions.clientCapabilities),[2,a.createQueryString()]}})})},e}(jt)),rc=(function(c){function e(n){return c.call(this,n)||this}y(e,c),e.prototype.acquireToken=function(n){return E(this,void 0,void 0,function(){var a;return w(this,function(u){switch(u.label){case 0:return this.scopeSet=new ht(n.scopes||[]),n.skipCache?[4,this.executeTokenRequest(n,this.authority)]:[3,2];case 1:return[2,u.sent()];case 2:return[4,this.getCachedAuthenticationResult(n)];case 3:return(a=u.sent())?[2,a]:[3,4];case 4:return[4,this.executeTokenRequest(n,this.authority)];case 5:return[2,u.sent()]}})})},e.prototype.getCachedAuthenticationResult=function(n){return E(this,void 0,void 0,function(){var a;return w(this,function(u){switch(u.label){case 0:return!(a=this.readAccessTokenFromCache())||Be.isTokenExpired(a.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds)?[2,null]:[4,wt.generateAuthenticationResult(this.cryptoUtils,this.authority,{account:null,idToken:null,accessToken:a,refreshToken:null,appMetadata:null},!0,n)];case 1:return[2,u.sent()]}})})},e.prototype.readAccessTokenFromCache=function(){var n={homeAccountId:"",environment:this.authority.canonicalAuthorityUrlComponents.HostNameAndPort,credentialType:ne.ACCESS_TOKEN,clientId:this.config.authOptions.clientId,realm:this.authority.tenant,target:this.scopeSet.printScopesLowerCase()},a=this.cacheManager.getCredentialsFilteredBy(n),u=Object.keys(a.accessTokens).map(function(h){return a.accessTokens[h]});if(u.length<1)return null;if(u.length>1)throw G.createMultipleMatchingTokensInCacheError();return u[0]},e.prototype.executeTokenRequest=function(n,a){return E(this,void 0,void 0,function(){var u,h,p,g,_,S;return w(this,function(T){switch(T.label){case 0:return u=this.createTokenRequestBody(n),h=this.createDefaultTokenRequestHeaders(),p={clientId:this.config.authOptions.clientId,authority:n.authority,scopes:n.scopes},g=Be.nowSeconds(),[4,this.executePostToTokenEndpoint(a.tokenEndpoint,u,h,p)];case 1:return _=T.sent(),(S=new wt(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin)).validateTokenResponse(_.body),[4,S.handleServerTokenResponse(_.body,this.authority,g,n)];case 2:return[2,T.sent()]}})})},e.prototype.createTokenRequestBody=function(n){var a=new pt;a.addClientId(this.config.authOptions.clientId),a.addScopes(n.scopes,!1),a.addGrantType(Ee.CLIENT_CREDENTIALS_GRANT);var u=n.correlationId||this.config.cryptoInterface.createNewGuid();if(a.addCorrelationId(u),this.config.clientCredentials.clientSecret&&a.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){var h=this.config.clientCredentials.clientAssertion;a.addClientAssertion(h.assertion),a.addClientAssertionType(h.assertionType)}return(!N.isEmpty(n.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&a.addClaims(n.claims,this.config.authOptions.clientCapabilities),a.createQueryString()}}(jt),function(c){function e(n){return c.call(this,n)||this}y(e,c),e.prototype.acquireToken=function(n){return E(this,void 0,void 0,function(){var a;return w(this,function(u){switch(u.label){case 0:return this.scopeSet=new ht(n.scopes||[]),n.skipCache?[4,this.executeTokenRequest(n,this.authority)]:[3,2];case 1:return[2,u.sent()];case 2:return[4,this.getCachedAuthenticationResult(n)];case 3:return(a=u.sent())?[2,a]:[3,4];case 4:return[4,this.executeTokenRequest(n,this.authority)];case 5:return[2,u.sent()]}})})},e.prototype.getCachedAuthenticationResult=function(n){return E(this,void 0,void 0,function(){var a,u,h,p,g,_;return w(this,function(S){switch(S.label){case 0:return!(a=this.readAccessTokenFromCache(n))||Be.isTokenExpired(a.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds)?[2,null]:(u=this.readIdTokenFromCache(n),p=null,u&&(h=new Kt(u.secret,this.config.cryptoInterface),g=h.claims.oid?h.claims.oid:h.claims.sub,_={homeAccountId:u.homeAccountId,environment:u.environment,tenantId:u.realm,username:x,localAccountId:g||""},p=this.readAccountFromCache(_)),[4,wt.generateAuthenticationResult(this.cryptoUtils,this.authority,{account:p,accessToken:a,idToken:u,refreshToken:null,appMetadata:null},!0,n,h)]);case 1:return[2,S.sent()]}})})},e.prototype.readAccessTokenFromCache=function(n){var a={environment:this.authority.canonicalAuthorityUrlComponents.HostNameAndPort,credentialType:ne.ACCESS_TOKEN,clientId:this.config.authOptions.clientId,realm:this.authority.tenant,target:this.scopeSet.printScopesLowerCase(),oboAssertion:n.oboAssertion},u=this.cacheManager.getCredentialsFilteredBy(a),h=Object.keys(u.accessTokens).map(function(g){return u.accessTokens[g]}),p=h.length;if(p<1)return null;if(p>1)throw G.createMultipleMatchingTokensInCacheError();return h[0]},e.prototype.readIdTokenFromCache=function(n){var a={environment:this.authority.canonicalAuthorityUrlComponents.HostNameAndPort,credentialType:ne.ID_TOKEN,clientId:this.config.authOptions.clientId,realm:this.authority.tenant,oboAssertion:n.oboAssertion},u=this.cacheManager.getCredentialsFilteredBy(a),h=Object.keys(u.idTokens).map(function(p){return u.idTokens[p]});return h.length<1?null:h[0]},e.prototype.readAccountFromCache=function(n){return this.cacheManager.readAccountFromCache(n)},e.prototype.executeTokenRequest=function(n,a){return E(this,void 0,void 0,function(){var u,h,p,g,_,S;return w(this,function(T){switch(T.label){case 0:return u=this.createTokenRequestBody(n),h=this.createDefaultTokenRequestHeaders(),p={clientId:this.config.authOptions.clientId,authority:n.authority,scopes:n.scopes},g=Be.nowSeconds(),[4,this.executePostToTokenEndpoint(a.tokenEndpoint,u,h,p)];case 1:return _=T.sent(),(S=new wt(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin)).validateTokenResponse(_.body),[4,S.handleServerTokenResponse(_.body,this.authority,g,n)];case 2:return[2,T.sent()]}})})},e.prototype.createTokenRequestBody=function(n){var a=new pt;a.addClientId(this.config.authOptions.clientId),a.addScopes(n.scopes),a.addGrantType(Ee.JWT_BEARER),a.addClientInfo();var u=n.correlationId||this.config.cryptoInterface.createNewGuid();if(a.addCorrelationId(u),a.addRequestTokenUse(I.ON_BEHALF_OF),a.addOboAssertion(n.oboAssertion),this.config.clientCredentials.clientSecret&&a.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){var h=this.config.clientCredentials.clientAssertion;a.addClientAssertion(h.assertion),a.addClientAssertionType(h.assertionType)}return a.createQueryString()}}(jt),function(c){function e(n){return c.call(this,n)||this}return y(e,c),e.prototype.acquireToken=function(n){return E(this,void 0,void 0,function(){var a;return w(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,this.acquireCachedToken(n)];case 1:return[2,u.sent()];case 2:if((a=u.sent())instanceof G&&a.errorCode===bn.code)return[2,new Ri(this.config).acquireTokenByRefreshToken(n)];throw a;case 3:return[2]}})})},e.prototype.acquireCachedToken=function(n){return E(this,void 0,void 0,function(){var a,u,h;return w(this,function(p){switch(p.label){case 0:if(!n)throw Se.createEmptyTokenRequestError();if(!n.account)throw G.createNoAccountInSilentRequestError();if(a=new ht(n.scopes||[]),u=n.authority||this.authority.getPreferredCache(),h=this.cacheManager.readCacheRecord(n.account,this.config.authOptions.clientId,a,u),!this.isRefreshRequired(n,h.accessToken))return[3,1];throw G.createRefreshRequiredError();case 1:return this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[4,this.generateResultFromCacheRecord(h,n)];case 2:return[2,p.sent()]}})})},e.prototype.generateResultFromCacheRecord=function(n,a){return E(this,void 0,void 0,function(){var u;return w(this,function(h){switch(h.label){case 0:return n.idToken&&(u=new Kt(n.idToken.secret,this.config.cryptoInterface)),[4,wt.generateAuthenticationResult(this.cryptoUtils,this.authority,n,!0,a,u)];case 1:return[2,h.sent()]}})})},e.prototype.isRefreshRequired=function(n,a){return!(!n.forceRefresh&&!n.claims)||!(a&&!Be.isTokenExpired(a.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))},e}(jt));(function(c){function e(n){return c.call(this,n)||this}y(e,c),e.prototype.acquireToken=function(n){return E(this,void 0,void 0,function(){var a,u,h;return w(this,function(p){switch(p.label){case 0:return this.logger.info("in acquireToken call"),a=Be.nowSeconds(),[4,this.executeTokenRequest(this.authority,n)];case 1:return u=p.sent(),(h=new wt(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin)).validateTokenResponse(u.body),[2,h.handleServerTokenResponse(u.body,this.authority,a,n)]}})})},e.prototype.executeTokenRequest=function(n,a){return E(this,void 0,void 0,function(){var u,h,p;return w(this,function(g){return u={clientId:this.config.authOptions.clientId,authority:n.canonicalAuthority,scopes:a.scopes},h=this.createTokenRequestBody(a),p=this.createDefaultTokenRequestHeaders(),[2,this.executePostToTokenEndpoint(n.tokenEndpoint,h,p,u)]})})},e.prototype.createTokenRequestBody=function(n){var a=new pt;a.addClientId(this.config.authOptions.clientId),a.addUsername(n.username),a.addPassword(n.password),a.addScopes(n.scopes),a.addGrantType(Ee.RESOURCE_OWNER_PASSWORD_GRANT),a.addClientInfo();var u=n.correlationId||this.config.cryptoInterface.createNewGuid();return a.addCorrelationId(u),(!N.isEmpty(n.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&a.addClaims(n.claims,this.config.authOptions.clientCapabilities),a.createQueryString()}})(jt);function nc(c){return c.hasOwnProperty("authorization_endpoint")&&c.hasOwnProperty("token_endpoint")&&c.hasOwnProperty("end_session_endpoint")&&c.hasOwnProperty("issuer")}(ki=t.ProtocolMode||(t.ProtocolMode={})).AAD="AAD",ki.OIDC="OIDC";var On=function(){function c(){this.expiresAt=Be.nowSeconds()+kt}return c.prototype.updateCloudDiscoveryMetadata=function(e,n){this.aliases=e.aliases,this.preferred_cache=e.preferred_cache,this.preferred_network=e.preferred_network,this.aliasesFromNetwork=n},c.prototype.updateEndpointMetadata=function(e,n){this.authorization_endpoint=e.authorization_endpoint,this.token_endpoint=e.token_endpoint,this.end_session_endpoint=e.end_session_endpoint,this.issuer=e.issuer,this.endpointsFromNetwork=n},c.prototype.updateCanonicalAuthority=function(e){this.canonical_authority=e},c.prototype.resetExpiresAt=function(){this.expiresAt=Be.nowSeconds()+kt},c.prototype.isExpired=function(){return this.expiresAt<=Be.nowSeconds()},c.isAuthorityMetadataEntity=function(e,n){return!!n&&e.indexOf(rt)===0&&n.hasOwnProperty("aliases")&&n.hasOwnProperty("preferred_cache")&&n.hasOwnProperty("preferred_network")&&n.hasOwnProperty("canonical_authority")&&n.hasOwnProperty("authorization_endpoint")&&n.hasOwnProperty("token_endpoint")&&n.hasOwnProperty("end_session_endpoint")&&n.hasOwnProperty("issuer")&&n.hasOwnProperty("aliasesFromNetwork")&&n.hasOwnProperty("endpointsFromNetwork")&&n.hasOwnProperty("expiresAt")},c}(),Pn,_t,ve,ze,Nn,Wt,oc=function(){function c(e,n,a,u){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=n,this.cacheManager=a,this.authorityOptions=u}return Object.defineProperty(c.prototype,"authorityType",{get:function(){var e=this.canonicalAuthorityUrlComponents.PathSegments;return e.length&&e[0].toLowerCase()===H?Pt.Adfs:Pt.Default},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"protocolMode",{get:function(){return this.authorityOptions.protocolMode},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"options",{get:function(){return this.authorityOptions},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"canonicalAuthority",{get:function(){return this._canonicalAuthority.urlString},set:function(e){this._canonicalAuthority=new Ce(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"canonicalAuthorityUrlComponents",{get:function(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"hostnameAndPort",{get:function(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"tenant",{get:function(){return this.canonicalAuthorityUrlComponents.PathSegments[0]},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"authorizationEndpoint",{get:function(){if(this.discoveryComplete()){var e=this.replacePath(this.metadata.authorization_endpoint);return this.replaceTenant(e)}throw G.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"tokenEndpoint",{get:function(){if(this.discoveryComplete()){var e=this.replacePath(this.metadata.token_endpoint);return this.replaceTenant(e)}throw G.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"deviceCodeEndpoint",{get:function(){if(this.discoveryComplete()){var e=this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));return this.replaceTenant(e)}throw G.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"endSessionEndpoint",{get:function(){if(this.discoveryComplete()){var e=this.replacePath(this.metadata.end_session_endpoint);return this.replaceTenant(e)}throw G.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"selfSignedJwtAudience",{get:function(){if(this.discoveryComplete()){var e=this.replacePath(this.metadata.issuer);return this.replaceTenant(e)}throw G.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!0,configurable:!0}),c.prototype.replaceTenant=function(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)},c.prototype.replacePath=function(e){var n=e,a=new Ce(this.metadata.canonical_authority).getUrlComponents().PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach(function(u,h){var p=a[h];u!==p&&(n=n.replace("/"+p+"/","/"+u+"/"))}),n},Object.defineProperty(c.prototype,"defaultOpenIdConfigurationEndpoint",{get:function(){return this.authorityType===Pt.Adfs||this.protocolMode===t.ProtocolMode.OIDC?this.canonicalAuthority+".well-known/openid-configuration":this.canonicalAuthority+"v2.0/.well-known/openid-configuration"},enumerable:!0,configurable:!0}),c.prototype.discoveryComplete=function(){return!!this.metadata},c.prototype.resolveEndpointsAsync=function(){return E(this,void 0,void 0,function(){var e,n,a,u;return w(this,function(h){switch(h.label){case 0:return(e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort))||(e=new On).updateCanonicalAuthority(this.canonicalAuthority),[4,this.updateCloudDiscoveryMetadata(e)];case 1:return n=h.sent(),this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network),[4,this.updateEndpointMetadata(e)];case 2:return a=h.sent(),n!==$.CACHE&&a!==$.CACHE&&(e.resetExpiresAt(),e.updateCanonicalAuthority(this.canonicalAuthority)),u=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache),this.cacheManager.setAuthorityMetadata(u,e),this.metadata=e,[2]}})})},c.prototype.updateEndpointMetadata=function(e){return E(this,void 0,void 0,function(){var n;return w(this,function(a){switch(a.label){case 0:return(n=this.getEndpointMetadataFromConfig())?(e.updateEndpointMetadata(n,!1),[2,$.CONFIG]):this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!e.isExpired()?[2,$.CACHE]:[4,this.getEndpointMetadataFromNetwork()];case 1:if(n=a.sent())return e.updateEndpointMetadata(n,!0),[2,$.NETWORK];throw G.createUnableToGetOpenidConfigError(this.defaultOpenIdConfigurationEndpoint)}})})},c.prototype.isAuthoritySameType=function(e){return new Ce(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length},c.prototype.getEndpointMetadataFromConfig=function(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw Se.createInvalidAuthorityMetadataError()}return null},c.prototype.getEndpointMetadataFromNetwork=function(){return E(this,void 0,void 0,function(){var e;return w(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.networkInterface.sendGetRequestAsync(this.defaultOpenIdConfigurationEndpoint)];case 1:return[2,nc((e=n.sent()).body)?e.body:null];case 2:return n.sent(),[2,null];case 3:return[2]}})})},c.prototype.updateCloudDiscoveryMetadata=function(e){return E(this,void 0,void 0,function(){var n;return w(this,function(a){switch(a.label){case 0:return(n=this.getCloudDiscoveryMetadataFromConfig())?(e.updateCloudDiscoveryMetadata(n,!1),[2,$.CONFIG]):this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!e.isExpired()?[2,$.CACHE]:[4,this.getCloudDiscoveryMetadataFromNetwork()];case 1:if(n=a.sent())return e.updateCloudDiscoveryMetadata(n,!0),[2,$.NETWORK];throw Se.createUntrustedAuthorityError()}})})},c.prototype.getCloudDiscoveryMetadataFromConfig=function(){if(this.authorityOptions.cloudDiscoveryMetadata)try{var e=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),n=c.getCloudDiscoveryMetadataFromNetworkResponse(e.metadata,this.hostnameAndPort);if(n)return n}catch{throw Se.createInvalidCloudDiscoveryMetadataError()}return this.isInKnownAuthorities()?c.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort):null},c.prototype.getCloudDiscoveryMetadataFromNetwork=function(){return E(this,void 0,void 0,function(){var e,n,a,u;return w(this,function(h){switch(h.label){case 0:e=""+B+this.canonicalAuthority+"oauth2/v2.0/authorize",n=null,h.label=1;case 1:return h.trys.push([1,3,,4]),[4,this.networkInterface.sendGetRequestAsync(e)];case 2:return a=h.sent(),u=function(p){return p.hasOwnProperty("tenant_discovery_endpoint")&&p.hasOwnProperty("metadata")}(a.body)?a.body.metadata:[],n=c.getCloudDiscoveryMetadataFromNetworkResponse(u,this.hostnameAndPort),[3,4];case 3:return h.sent(),[2,null];case 4:return n||(n=c.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),[2,n]}})})},c.prototype.isInKnownAuthorities=function(){var e=this;return this.authorityOptions.knownAuthorities.filter(function(n){return Ce.getDomainFromUrl(n).toLowerCase()===e.hostnameAndPort}).length>0},c.createCloudDiscoveryMetadataFromHost=function(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}},c.getCloudDiscoveryMetadataFromNetworkResponse=function(e,n){for(var a=0;a<e.length;a++){var u=e[a];if(u.aliases.indexOf(n)>-1)return u}return null},c.prototype.getPreferredCache=function(){if(this.discoveryComplete())return this.metadata.preferred_cache;throw G.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},c.prototype.isAlias=function(e){return this.metadata.aliases.indexOf(e)>-1},c}(),Un=function(){function c(){}return c.createDiscoveredInstance=function(e,n,a,u){return E(this,void 0,void 0,function(){var h,p;return w(this,function(g){switch(g.label){case 0:h=c.createInstance(e,n,a,u),g.label=1;case 1:return g.trys.push([1,3,,4]),[4,h.resolveEndpointsAsync()];case 2:return g.sent(),[2,h];case 3:throw p=g.sent(),G.createEndpointDiscoveryIncompleteError(p);case 4:return[2]}})})},c.createInstance=function(e,n,a,u){if(N.isEmpty(e))throw Se.createUrlEmptyError();return new oc(e,n,a,u)},c}(),Fr=function(){function c(){this.failedRequests=[],this.errors=[],this.cacheHits=0}return c.isServerTelemetryEntity=function(e,n){var a=e.indexOf(He.CACHE_KEY)===0,u=!0;return n&&(u=n.hasOwnProperty("failedRequests")&&n.hasOwnProperty("errors")&&n.hasOwnProperty("cacheHits")),a&&u},c}(),Oi=function(){function c(){}return c.isThrottlingEntity=function(e,n){var a=!1;e&&(a=e.indexOf(mr)===0);var u=!0;return n&&(u=n.hasOwnProperty("throttleTime")),a&&u},c}(),ic={sendGetRequestAsync:function(){return Promise.reject(ie.createUnexpectedError("Network interface - sendGetRequestAsync() has not been implemented for the Network interface."))},sendPostRequestAsync:function(){return Promise.reject(ie.createUnexpectedError("Network interface - sendPostRequestAsync() has not been implemented for the Network interface."))}},ac=function(){function c(e,n){this.cacheManager=n,this.apiId=e.apiId,this.correlationId=e.correlationId,this.forceRefresh=e.forceRefresh||!1,this.wrapperSKU=e.wrapperSKU||x,this.wrapperVer=e.wrapperVer||x,this.telemetryCacheKey=He.CACHE_KEY+Fe.CACHE_KEY_SEPARATOR+e.clientId}return c.prototype.generateCurrentRequestHeaderValue=function(){var e=this.forceRefresh?1:0,n=""+this.apiId+He.VALUE_SEPARATOR+e,a=[this.wrapperSKU,this.wrapperVer].join(He.VALUE_SEPARATOR);return[He.SCHEMA_VERSION,n,a].join(He.CATEGORY_SEPARATOR)},c.prototype.generateLastRequestHeaderValue=function(){var e=this.getLastRequests(),n=c.maxErrorsToSend(e),a=e.failedRequests.slice(0,2*n).join(He.VALUE_SEPARATOR),u=e.errors.slice(0,n).join(He.VALUE_SEPARATOR),h=e.errors.length,p=[h,n<h?He.OVERFLOW_TRUE:He.OVERFLOW_FALSE].join(He.VALUE_SEPARATOR);return[He.SCHEMA_VERSION,e.cacheHits,a,u,p].join(He.CATEGORY_SEPARATOR)},c.prototype.cacheFailedRequest=function(e){var n=this.getLastRequests();n.failedRequests.push(this.apiId,this.correlationId),N.isEmpty(e.subError)?N.isEmpty(e.errorCode)?e&&e.toString()?n.errors.push(e.toString()):n.errors.push(He.UNKNOWN_ERROR):n.errors.push(e.errorCode):n.errors.push(e.subError),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,n)},c.prototype.incrementCacheHits=function(){var e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e),e.cacheHits},c.prototype.getLastRequests=function(){var e=new Fr;return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||e},c.prototype.clearTelemetryCache=function(){var e=this.getLastRequests(),n=c.maxErrorsToSend(e);if(n===e.errors.length)this.cacheManager.removeItem(this.telemetryCacheKey);else{var a=new Fr;a.failedRequests=e.failedRequests.slice(2*n),a.errors=e.errors.slice(n),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,a)}},c.maxErrorsToSend=function(e){var n,a=0,u=0,h=e.errors.length;for(n=0;n<h;n++){var p=e.failedRequests[2*n]||x,g=e.failedRequests[2*n+1]||x,_=e.errors[n]||x;if(!((u+=p.toString().length+g.toString().length+_.length+3)<He.MAX_HEADER_BYTES))break;a+=1}return a},c}(),Hr="interaction_in_progress",sc="invalid_grant",Pi=483,Ni=600,Mn="msal",Ui=50,cc="msal.js.browser";(Pn=t.BrowserCacheLocation||(t.BrowserCacheLocation={})).LocalStorage="localStorage",Pn.SessionStorage="sessionStorage",Pn.MemoryStorage="memoryStorage",function(c){c.GET="GET",c.POST="POST"}(_t||(_t={})),function(c){c.AUTHORITY="authority",c.ACQUIRE_TOKEN_ACCOUNT="acquireToken.account",c.SESSION_STATE="session.state",c.REQUEST_STATE="request.state",c.NONCE_IDTOKEN="nonce.id_token",c.ORIGIN_URI="request.origin",c.RENEW_STATUS="token.renew.status",c.URL_HASH="urlHash",c.REQUEST_PARAMS="request.params",c.SCOPES="scopes",c.INTERACTION_STATUS_KEY="interaction.status"}(ve||(ve={})),(ze=t.ApiId||(t.ApiId={}))[ze.acquireTokenRedirect=861]="acquireTokenRedirect",ze[ze.acquireTokenPopup=862]="acquireTokenPopup",ze[ze.ssoSilent=863]="ssoSilent",ze[ze.acquireTokenSilent_authCode=864]="acquireTokenSilent_authCode",ze[ze.handleRedirectPromise=865]="handleRedirectPromise",ze[ze.acquireTokenSilent_silentFlow=61]="acquireTokenSilent_silentFlow",ze[ze.logout=961]="logout",ze[ze.logoutPopup=962]="logoutPopup",(Nn=t.InteractionType||(t.InteractionType={})).Redirect="redirect",Nn.Popup="popup",Nn.Silent="silent",(Wt=t.InteractionStatus||(t.InteractionStatus={})).Startup="startup",Wt.Login="login",Wt.Logout="logout",Wt.AcquireToken="acquireToken",Wt.SsoSilent="ssoSilent",Wt.HandleRedirect="handleRedirect",Wt.None="none";var Mi,Di={scopes:Ue},yr="jwk";(Mi=t.WrapperSKU||(t.WrapperSKU={})).React="@azure/msal-react",Mi.Angular="@azure/msal-angular";var $e=function(){function c(){}return c.decimalToHex=function(e){for(var n=e.toString(16);n.length<2;)n="0"+n;return n},c}(),uc=function(){function c(e){this.cryptoObj=e}return c.prototype.generateGuid=function(){try{var e=new Uint8Array(16);return this.cryptoObj.getRandomValues(e),e[6]|=64,e[6]&=79,e[8]|=128,e[8]&=191,$e.decimalToHex(e[0])+$e.decimalToHex(e[1])+$e.decimalToHex(e[2])+$e.decimalToHex(e[3])+"-"+$e.decimalToHex(e[4])+$e.decimalToHex(e[5])+"-"+$e.decimalToHex(e[6])+$e.decimalToHex(e[7])+"-"+$e.decimalToHex(e[8])+$e.decimalToHex(e[9])+"-"+$e.decimalToHex(e[10])+$e.decimalToHex(e[11])+$e.decimalToHex(e[12])+$e.decimalToHex(e[13])+$e.decimalToHex(e[14])+$e.decimalToHex(e[15])}catch{for(var n="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",a="0123456789abcdef",u=0,h="",p=0;p<36;p++)n[p]!=="-"&&n[p]!=="4"&&(u=16*Math.random()|0),n[p]==="x"?h+=a[u]:n[p]==="y"?(u&=3,h+=a[u|=8]):h+=n[p];return h}},c.isGuid=function(e){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)},c}(),nr=function(){function c(){}return c.stringToUtf8Arr=function(e){for(var n,a=0,u=e.length,h=0;h<u;h++)a+=(n=e.charCodeAt(h))<128?1:n<2048?2:n<65536?3:n<2097152?4:n<67108864?5:6;for(var p=new Uint8Array(a),g=0,_=0;g<a;_++)(n=e.charCodeAt(_))<128?p[g++]=n:n<2048?(p[g++]=192+(n>>>6),p[g++]=128+(63&n)):n<65536?(p[g++]=224+(n>>>12),p[g++]=128+(n>>>6&63),p[g++]=128+(63&n)):n<2097152?(p[g++]=240+(n>>>18),p[g++]=128+(n>>>12&63),p[g++]=128+(n>>>6&63),p[g++]=128+(63&n)):n<67108864?(p[g++]=248+(n>>>24),p[g++]=128+(n>>>18&63),p[g++]=128+(n>>>12&63),p[g++]=128+(n>>>6&63),p[g++]=128+(63&n)):(p[g++]=252+(n>>>30),p[g++]=128+(n>>>24&63),p[g++]=128+(n>>>18&63),p[g++]=128+(n>>>12&63),p[g++]=128+(n>>>6&63),p[g++]=128+(63&n));return p},c.stringToArrayBuffer=function(e){for(var n=new ArrayBuffer(e.length),a=new Uint8Array(n),u=0;u<e.length;u++)a[u]=e.charCodeAt(u);return n},c.utf8ArrToString=function(e){for(var n="",a=void 0,u=e.length,h=0;h<u;h++)a=e[h],n+=String.fromCharCode(a>251&&a<254&&h+5<u?1073741824*(a-252)+(e[++h]-128<<24)+(e[++h]-128<<18)+(e[++h]-128<<12)+(e[++h]-128<<6)+e[++h]-128:a>247&&a<252&&h+4<u?(a-248<<24)+(e[++h]-128<<18)+(e[++h]-128<<12)+(e[++h]-128<<6)+e[++h]-128:a>239&&a<248&&h+3<u?(a-240<<18)+(e[++h]-128<<12)+(e[++h]-128<<6)+e[++h]-128:a>223&&a<240&&h+2<u?(a-224<<12)+(e[++h]-128<<6)+e[++h]-128:a>191&&a<224&&h+1<u?(a-192<<6)+e[++h]-128:a);return n},c}(),xi=function(){function c(){}return c.prototype.urlEncode=function(e){return encodeURIComponent(this.encode(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))},c.prototype.urlEncodeArr=function(e){return this.base64EncArr(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},c.prototype.encode=function(e){var n=nr.stringToUtf8Arr(e);return this.base64EncArr(n)},c.prototype.base64EncArr=function(e){for(var n=(3-e.length%3)%3,a="",u=void 0,h=e.length,p=0,g=0;g<h;g++)u=g%3,p|=e[g]<<(16>>>u&24),u!==2&&e.length-g!=1||(a+=String.fromCharCode(this.uint6ToB64(p>>>18&63),this.uint6ToB64(p>>>12&63),this.uint6ToB64(p>>>6&63),this.uint6ToB64(63&p)),p=0);return n===0?a:a.substring(0,a.length-n)+(n===1?"=":"==")},c.prototype.uint6ToB64=function(e){return e<26?e+65:e<52?e+71:e<62?e-4:e===62?43:e===63?47:65},c}(),lc=function(){function c(){}return c.prototype.decode=function(e){var n=e.replace(/-/g,"+").replace(/_/g,"/");switch(n.length%4){case 0:break;case 2:n+="==";break;case 3:n+="=";break;default:throw new Error("Invalid base64 string")}var a=this.base64DecToArr(n);return nr.utf8ArrToString(a)},c.prototype.base64DecToArr=function(e,n){for(var a=e.replace(/[^A-Za-z0-9\+\/]/g,""),u=a.length,h=n?Math.ceil((3*u+1>>>2)/n)*n:3*u+1>>>2,p=new Uint8Array(h),g=void 0,_=void 0,S=0,T=0,R=0;R<u;R++)if(_=3&R,S|=this.b64ToUint6(a.charCodeAt(R))<<18-6*_,_===3||u-R==1){for(g=0;g<3&&T<h;g++,T++)p[T]=S>>>(16>>>g&24)&255;S=0}return p},c.prototype.b64ToUint6=function(e){return e>64&&e<91?e-65:e>96&&e<123?e-71:e>47&&e<58?e+4:e===43?62:e===47?63:0},c}(),M={pkceNotGenerated:{code:"pkce_not_created",desc:"The PKCE code challenge and verifier could not be generated."},cryptoDoesNotExist:{code:"crypto_nonexistent",desc:"The crypto object or function is not available."},httpMethodNotImplementedError:{code:"http_method_not_implemented",desc:"The HTTP method given has not been implemented in this library."},emptyNavigateUriError:{code:"empty_navigate_uri",desc:"Navigation URI is empty. Please check stack trace for more info."},hashEmptyError:{code:"hash_empty_error",desc:"Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash."},hashDoesNotContainStateError:{code:"no_state_in_hash",desc:"Hash does not contain state. Please verify that the request originated from msal."},hashDoesNotContainKnownPropertiesError:{code:"hash_does_not_contain_known_properties",desc:"Hash does not contain known properites. Please verify that your redirectUri is not changing the hash."},unableToParseStateError:{code:"unable_to_parse_state",desc:"Unable to parse state. Please verify that the request originated from msal."},stateInteractionTypeMismatchError:{code:"state_interaction_type_mismatch",desc:"Hash contains state but the interaction type does not match the caller."},interactionInProgress:{code:"interaction_in_progress",desc:"Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.  For more visit: aka.ms/msaljs/browser-errors."},popUpWindowError:{code:"popup_window_error",desc:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser."},emptyWindowError:{code:"empty_window_error",desc:"window.open returned null or undefined window object."},userCancelledError:{code:"user_cancelled",desc:"User cancelled the flow."},monitorPopupTimeoutError:{code:"monitor_window_timeout",desc:"Token acquisition in popup failed due to timeout."},monitorIframeTimeoutError:{code:"monitor_window_timeout",desc:"Token acquisition in iframe failed due to timeout."},redirectInIframeError:{code:"redirect_in_iframe",desc:"Code flow is not supported inside an iframe. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs."},blockTokenRequestsInHiddenIframeError:{code:"block_iframe_reload",desc:"Request was blocked inside an iframe because MSAL detected an authentication response. For more visit: aka.ms/msaljs/browser-errors"},blockAcquireTokenInPopupsError:{code:"block_nested_popups",desc:"Request was blocked inside a popup because MSAL detected it was running in a popup."},iframeClosedPrematurelyError:{code:"iframe_closed_prematurely",desc:"The iframe being monitored was closed prematurely."},silentSSOInsufficientInfoError:{code:"silent_sso_error",desc:"Silent SSO could not be completed - insufficient information was provided. Please provide either a loginHint or sid."},noAccountError:{code:"no_account_error",desc:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request."},silentPromptValueError:{code:"silent_prompt_value_error",desc:"The value given for the prompt value is not valid for silent requests - must be set to 'none'."},noTokenRequestCacheError:{code:"no_token_request_cache_error",desc:"No token request in found in cache."},unableToParseTokenRequestCacheError:{code:"unable_to_parse_token_request_cache_error",desc:"The cached token request could not be parsed."},noCachedAuthorityError:{code:"no_cached_authority_error",desc:"No cached authority found."},authRequestNotSet:{code:"auth_request_not_set_error",desc:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler"},invalidCacheType:{code:"invalid_cache_type",desc:"Invalid cache type"},notInBrowserEnvironment:{code:"non_browser_environment",desc:"Login and token requests are not supported in non-browser environments."},databaseNotOpen:{code:"database_not_open",desc:"Database is not open!"},noNetworkConnectivity:{code:"no_network_connectivity",desc:"No network connectivity. Check your internet connection."},postRequestFailed:{code:"post_request_failed",desc:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'"},getRequestFailed:{code:"get_request_failed",desc:"Network request failed. Please check the network trace to determine root cause."},failedToParseNetworkResponse:{code:"failed_to_parse_response",desc:"Failed to parse network response. Check network trace."}},Q=function(c){function e(n,a){var u=c.call(this,n,a)||this;return Object.setPrototypeOf(u,e.prototype),u.name="BrowserAuthError",u}return o(e,c),e.createPkceNotGeneratedError=function(n){return new e(M.pkceNotGenerated.code,M.pkceNotGenerated.desc+" Detail:"+n)},e.createCryptoNotAvailableError=function(n){return new e(M.cryptoDoesNotExist.code,M.cryptoDoesNotExist.desc+" Detail:"+n)},e.createHttpMethodNotImplementedError=function(n){return new e(M.httpMethodNotImplementedError.code,M.httpMethodNotImplementedError.desc+" Given Method: "+n)},e.createEmptyNavigationUriError=function(){return new e(M.emptyNavigateUriError.code,M.emptyNavigateUriError.desc)},e.createEmptyHashError=function(n){return new e(M.hashEmptyError.code,M.hashEmptyError.desc+" Given Url: "+n)},e.createHashDoesNotContainStateError=function(){return new e(M.hashDoesNotContainStateError.code,M.hashDoesNotContainStateError.desc)},e.createHashDoesNotContainKnownPropertiesError=function(){return new e(M.hashDoesNotContainKnownPropertiesError.code,M.hashDoesNotContainKnownPropertiesError.desc)},e.createUnableToParseStateError=function(){return new e(M.unableToParseStateError.code,M.unableToParseStateError.desc)},e.createStateInteractionTypeMismatchError=function(){return new e(M.stateInteractionTypeMismatchError.code,M.stateInteractionTypeMismatchError.desc)},e.createInteractionInProgressError=function(){return new e(M.interactionInProgress.code,M.interactionInProgress.desc)},e.createPopupWindowError=function(n){var a=M.popUpWindowError.desc;return a=N.isEmpty(n)?a:a+" Details: "+n,new e(M.popUpWindowError.code,a)},e.createEmptyWindowCreatedError=function(){return new e(M.emptyWindowError.code,M.emptyWindowError.desc)},e.createUserCancelledError=function(){return new e(M.userCancelledError.code,M.userCancelledError.desc)},e.createMonitorPopupTimeoutError=function(){return new e(M.monitorPopupTimeoutError.code,M.monitorPopupTimeoutError.desc)},e.createMonitorIframeTimeoutError=function(){return new e(M.monitorIframeTimeoutError.code,M.monitorIframeTimeoutError.desc)},e.createRedirectInIframeError=function(n){return new e(M.redirectInIframeError.code,M.redirectInIframeError.desc+" (window.parent !== window) => "+n)},e.createBlockReloadInHiddenIframeError=function(){return new e(M.blockTokenRequestsInHiddenIframeError.code,M.blockTokenRequestsInHiddenIframeError.desc)},e.createBlockAcquireTokenInPopupsError=function(){return new e(M.blockAcquireTokenInPopupsError.code,M.blockAcquireTokenInPopupsError.desc)},e.createIframeClosedPrematurelyError=function(){return new e(M.iframeClosedPrematurelyError.code,M.iframeClosedPrematurelyError.desc)},e.createSilentSSOInsufficientInfoError=function(){return new e(M.silentSSOInsufficientInfoError.code,M.silentSSOInsufficientInfoError.desc)},e.createNoAccountError=function(){return new e(M.noAccountError.code,M.noAccountError.desc)},e.createSilentPromptValueError=function(n){return new e(M.silentPromptValueError.code,M.silentPromptValueError.desc+" Given value: "+n)},e.createUnableToParseTokenRequestCacheError=function(){return new e(M.unableToParseTokenRequestCacheError.code,M.unableToParseTokenRequestCacheError.desc)},e.createNoTokenRequestCacheError=function(){return new e(M.noTokenRequestCacheError.code,M.noTokenRequestCacheError.desc)},e.createAuthRequestNotSetError=function(){return new e(M.authRequestNotSet.code,M.authRequestNotSet.desc)},e.createNoCachedAuthorityError=function(){return new e(M.noCachedAuthorityError.code,M.noCachedAuthorityError.desc)},e.createInvalidCacheTypeError=function(){return new e(M.invalidCacheType.code,""+M.invalidCacheType.desc)},e.createNonBrowserEnvironmentError=function(){return new e(M.notInBrowserEnvironment.code,M.notInBrowserEnvironment.desc)},e.createDatabaseNotOpenError=function(){return new e(M.databaseNotOpen.code,M.databaseNotOpen.desc)},e.createNoNetworkConnectivityError=function(){return new e(M.noNetworkConnectivity.code,M.noNetworkConnectivity.desc)},e.createPostRequestFailedError=function(n,a){return new e(M.postRequestFailed.code,M.postRequestFailed.desc+" | Network client threw: "+n+" | Attempted to reach: "+a.split("?")[0])},e.createGetRequestFailedError=function(n,a){return new e(M.getRequestFailed.code,M.getRequestFailed.desc+" | Network client threw: "+n+" | Attempted to reach: "+a.split("?")[0])},e.createFailedToParseNetworkResponseError=function(n){return new e(M.failedToParseNetworkResponse.code,M.failedToParseNetworkResponse.desc+" | Attempted to reach: "+n.split("?")[0])},e}(ie),dc=function(){function c(e){this.base64Encode=new xi,this.cryptoObj=e}return c.prototype.generateCodes=function(){return s(this,void 0,void 0,function(){var e,n;return l(this,function(a){switch(a.label){case 0:return e=this.generateCodeVerifier(),[4,this.generateCodeChallengeFromVerifier(e)];case 1:return n=a.sent(),[2,{verifier:e,challenge:n}]}})})},c.prototype.generateCodeVerifier=function(){try{var e=new Uint8Array(32);return this.cryptoObj.getRandomValues(e),this.base64Encode.urlEncodeArr(e)}catch(n){throw Q.createPkceNotGeneratedError(n)}},c.prototype.generateCodeChallengeFromVerifier=function(e){return s(this,void 0,void 0,function(){var n,a;return l(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,this.cryptoObj.sha256Digest(e)];case 1:return n=u.sent(),[2,this.base64Encode.urlEncodeArr(new Uint8Array(n))];case 2:throw a=u.sent(),Q.createPkceNotGeneratedError(a);case 3:return[2]}})})},c}(),Dn="SHA-256",hc=new Uint8Array([1,0,1]),xn=function(){function c(){if(!this.hasCryptoAPI())throw Q.createCryptoNotAvailableError("Browser crypto or msCrypto object not available.");this._keygenAlgorithmOptions={name:"RSASSA-PKCS1-v1_5",hash:Dn,modulusLength:2048,publicExponent:hc}}return c.prototype.sha256Digest=function(e){return s(this,void 0,void 0,function(){var n;return l(this,function(a){return n=nr.stringToUtf8Arr(e),[2,this.hasIECrypto()?this.getMSCryptoDigest(Dn,n):this.getSubtleCryptoDigest(Dn,n)]})})},c.prototype.getRandomValues=function(e){var n=window.msCrypto||window.crypto;if(!n.getRandomValues)throw Q.createCryptoNotAvailableError("getRandomValues does not exist.");n.getRandomValues(e)},c.prototype.generateKeyPair=function(e,n){return s(this,void 0,void 0,function(){return l(this,function(a){return[2,this.hasIECrypto()?this.msCryptoGenerateKey(e,n):window.crypto.subtle.generateKey(this._keygenAlgorithmOptions,e,n)]})})},c.prototype.exportJwk=function(e){return s(this,void 0,void 0,function(){return l(this,function(n){return[2,this.hasIECrypto()?this.msCryptoExportJwk(e):window.crypto.subtle.exportKey(yr,e)]})})},c.prototype.importJwk=function(e,n,a){return s(this,void 0,void 0,function(){var u,h;return l(this,function(p){return u=c.getJwkString(e),h=nr.stringToArrayBuffer(u),[2,this.hasIECrypto()?this.msCryptoImportKey(h,n,a):window.crypto.subtle.importKey(yr,e,this._keygenAlgorithmOptions,n,a)]})})},c.prototype.sign=function(e,n){return s(this,void 0,void 0,function(){return l(this,function(a){return[2,this.hasIECrypto()?this.msCryptoSign(e,n):window.crypto.subtle.sign(this._keygenAlgorithmOptions,e,n)]})})},c.prototype.hasCryptoAPI=function(){return this.hasIECrypto()||this.hasBrowserCrypto()},c.prototype.hasIECrypto=function(){return"msCrypto"in window},c.prototype.hasBrowserCrypto=function(){return"crypto"in window},c.prototype.getSubtleCryptoDigest=function(e,n){return s(this,void 0,void 0,function(){return l(this,function(a){return[2,window.crypto.subtle.digest(e,n)]})})},c.prototype.getMSCryptoDigest=function(e,n){return s(this,void 0,void 0,function(){return l(this,function(a){return[2,new Promise(function(u,h){var p=window.msCrypto.subtle.digest(e,n.buffer);p.addEventListener("complete",function(g){u(g.target.result)}),p.addEventListener("error",function(g){h(g)})})]})})},c.prototype.msCryptoGenerateKey=function(e,n){return s(this,void 0,void 0,function(){var a=this;return l(this,function(u){return[2,new Promise(function(h,p){var g=window.msCrypto.subtle.generateKey(a._keygenAlgorithmOptions,e,n);g.addEventListener("complete",function(_){h(_.target.result)}),g.addEventListener("error",function(_){p(_)})})]})})},c.prototype.msCryptoExportJwk=function(e){return s(this,void 0,void 0,function(){return l(this,function(n){return[2,new Promise(function(a,u){var h=window.msCrypto.subtle.exportKey(yr,e);h.addEventListener("complete",function(p){var g=p.target.result,_=nr.utf8ArrToString(new Uint8Array(g)).replace(/\r/g,"").replace(/\n/g,"").replace(/\t/g,"").split(" ").join("").replace("\0","");try{a(JSON.parse(_))}catch(S){u(S)}}),h.addEventListener("error",function(p){u(p)})})]})})},c.prototype.msCryptoImportKey=function(e,n,a){return s(this,void 0,void 0,function(){var u=this;return l(this,function(h){return[2,new Promise(function(p,g){var _=window.msCrypto.subtle.importKey(yr,e,u._keygenAlgorithmOptions,n,a);_.addEventListener("complete",function(S){p(S.target.result)}),_.addEventListener("error",function(S){g(S)})})]})})},c.prototype.msCryptoSign=function(e,n){return s(this,void 0,void 0,function(){var a=this;return l(this,function(u){return[2,new Promise(function(h,p){var g=window.msCrypto.subtle.sign(a._keygenAlgorithmOptions,e,n);g.addEventListener("complete",function(_){h(_.target.result)}),g.addEventListener("error",function(_){p(_)})})]})})},c.getJwkString=function(e){return JSON.stringify(e,Object.keys(e).sort())},c}(),pc=function(){function c(e,n,a){this.dbName=e,this.tableName=n,this.version=a,this.dbOpen=!1}return c.prototype.open=function(){return s(this,void 0,void 0,function(){var e=this;return l(this,function(n){return[2,new Promise(function(a,u){var h=window.indexedDB.open(e.dbName,e.version);h.addEventListener("upgradeneeded",function(p){p.target.result.createObjectStore(e.tableName)}),h.addEventListener("success",function(p){var g=p;e.db=g.target.result,e.dbOpen=!0,a()}),h.addEventListener("error",function(p){return u(p)})})]})})},c.prototype.get=function(e){return s(this,void 0,void 0,function(){var n=this;return l(this,function(a){switch(a.label){case 0:return this.dbOpen?[3,2]:[4,this.open()];case 1:a.sent(),a.label=2;case 2:return[2,new Promise(function(u,h){if(!n.db)return h(Q.createDatabaseNotOpenError());var p=n.db.transaction([n.tableName],"readonly").objectStore(n.tableName).get(e);p.addEventListener("success",function(g){u(g.target.result)}),p.addEventListener("error",function(g){return h(g)})})]}})})},c.prototype.put=function(e,n){return s(this,void 0,void 0,function(){var a=this;return l(this,function(u){switch(u.label){case 0:return this.dbOpen?[3,2]:[4,this.open()];case 1:u.sent(),u.label=2;case 2:return[2,new Promise(function(h,p){if(!a.db)return p(Q.createDatabaseNotOpenError());var g=a.db.transaction([a.tableName],"readwrite").objectStore(a.tableName).put(n,e);g.addEventListener("success",function(_){h(_.target.result)}),g.addEventListener("error",function(_){return p(_)})})]}})})},c}(),fc=function(){function c(){this.browserCrypto=new xn,this.b64Encode=new xi,this.b64Decode=new lc,this.guidGenerator=new uc(this.browserCrypto),this.pkceGenerator=new dc(this.browserCrypto),this.cache=new pc(c.DB_NAME,c.TABLE_NAME,c.DB_VERSION)}return c.prototype.createNewGuid=function(){return this.guidGenerator.generateGuid()},c.prototype.base64Encode=function(e){return this.b64Encode.encode(e)},c.prototype.base64Decode=function(e){return this.b64Decode.decode(e)},c.prototype.generatePkceCodes=function(){return s(this,void 0,void 0,function(){return l(this,function(e){return[2,this.pkceGenerator.generateCodes()]})})},c.prototype.getPublicKeyThumbprint=function(e,n){return s(this,void 0,void 0,function(){var a,u,h,p,g,_,S,T;return l(this,function(R){switch(R.label){case 0:return[4,this.browserCrypto.generateKeyPair(c.EXTRACTABLE,c.POP_KEY_USAGES)];case 1:return a=R.sent(),[4,this.browserCrypto.exportJwk(a.publicKey)];case 2:return u=R.sent(),h={e:u.e,kty:u.kty,n:u.n},p=xn.getJwkString(h),[4,this.browserCrypto.sha256Digest(p)];case 3:return g=R.sent(),_=this.b64Encode.urlEncodeArr(new Uint8Array(g)),[4,this.browserCrypto.exportJwk(a.privateKey)];case 4:return S=R.sent(),[4,this.browserCrypto.importJwk(S,!1,["sign"])];case 5:return T=R.sent(),this.cache.put(_,{privateKey:T,publicKey:a.publicKey,requestMethod:e,requestUri:n}),[2,_]}})})},c.prototype.signJwt=function(e,n){return s(this,void 0,void 0,function(){var a,u,h,p,g,_,S,T,R,q;return l(this,function(V){switch(V.label){case 0:return[4,this.cache.get(n)];case 1:return a=V.sent(),[4,this.browserCrypto.exportJwk(a.publicKey)];case 2:return u=V.sent(),h=xn.getJwkString(u),p={alg:u.alg,type:yr},g=this.b64Encode.urlEncode(JSON.stringify(p)),e.cnf={jwk:JSON.parse(h)},_=this.b64Encode.urlEncode(JSON.stringify(e)),S=g+"."+_,T=nr.stringToArrayBuffer(S),[4,this.browserCrypto.sign(a.privateKey,T)];case 3:return R=V.sent(),q=this.b64Encode.urlEncodeArr(new Uint8Array(R)),[2,S+"."+q]}})})},c.POP_KEY_USAGES=["sign","verify"],c.EXTRACTABLE=!0,c.DB_VERSION=1,c.DB_NAME="msal.db",c.TABLE_NAME=c.DB_NAME+".keys",c}(),Qe={redirectUriNotSet:{code:"redirect_uri_empty",desc:"A redirect URI is required for all calls, and none has been set."},postLogoutUriNotSet:{code:"post_logout_uri_empty",desc:"A post logout redirect has not been set."},storageNotSupportedError:{code:"storage_not_supported",desc:"Given storage configuration option was not supported."},noRedirectCallbacksSet:{code:"no_redirect_callbacks",desc:"No redirect callbacks have been set. Please call setRedirectCallbacks() with the appropriate function arguments before continuing. More information is available here: https://github.com/AzureAD/microsoft-authentication-library-for-js/wiki/MSAL-basics."},invalidCallbackObject:{code:"invalid_callback_object",desc:"The object passed for the callback was invalid. More information is available here: https://github.com/AzureAD/microsoft-authentication-library-for-js/wiki/MSAL-basics."},stubPcaInstanceCalled:{code:"stubbed_public_client_application_called",desc:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors"},inMemRedirectUnavailable:{code:"in_mem_redirect_unavailable",desc:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."}},Je=function(c){function e(n,a){var u=c.call(this,n,a)||this;return u.name="BrowserConfigurationAuthError",Object.setPrototypeOf(u,e.prototype),u}return o(e,c),e.createRedirectUriEmptyError=function(){return new e(Qe.redirectUriNotSet.code,Qe.redirectUriNotSet.desc)},e.createPostLogoutRedirectUriEmptyError=function(){return new e(Qe.postLogoutUriNotSet.code,Qe.postLogoutUriNotSet.desc)},e.createStorageNotSupportedError=function(n){return new e(Qe.storageNotSupportedError.code,Qe.storageNotSupportedError.desc+" Given Location: "+n)},e.createInvalidCallbackObjectError=function(n){return new e(Qe.invalidCallbackObject.code,Qe.invalidCallbackObject.desc+" Given value for callback function: "+n)},e.createRedirectCallbacksNotSetError=function(){return new e(Qe.noRedirectCallbacksSet.code,Qe.noRedirectCallbacksSet.desc)},e.createStubPcaInstanceCalledError=function(){return new e(Qe.stubPcaInstanceCalled.code,Qe.stubPcaInstanceCalled.desc)},e.createInMemoryRedirectUnavailableError=function(){return new e(Qe.inMemRedirectUnavailable.code,Qe.inMemRedirectUnavailable.desc)},e}(ie),Li=function(){function c(e){this.validateWindowStorage(e),this.windowStorage=window[e]}return c.prototype.validateWindowStorage=function(e){if(e!==t.BrowserCacheLocation.LocalStorage&&e!==t.BrowserCacheLocation.SessionStorage||!window[e])throw Je.createStorageNotSupportedError(e)},c.prototype.getItem=function(e){return this.windowStorage.getItem(e)},c.prototype.setItem=function(e,n){this.windowStorage.setItem(e,n)},c.prototype.removeItem=function(e){this.windowStorage.removeItem(e)},c.prototype.getKeys=function(){return Object.keys(this.windowStorage)},c.prototype.containsKey=function(e){return this.windowStorage.hasOwnProperty(e)},c}(),qi=function(){function c(){this.cache=new Map}return c.prototype.getItem=function(e){return this.cache.get(e)||null},c.prototype.setItem=function(e,n){this.cache.set(e,n)},c.prototype.removeItem=function(e){this.cache.delete(e)},c.prototype.getKeys=function(){var e=[];return this.cache.forEach(function(n,a){e.push(a)}),e},c.prototype.containsKey=function(e){return this.cache.has(e)},c.prototype.clear=function(){this.cache.clear()},c}(),Fi=function(){function c(){}return c.extractBrowserRequestState=function(e,n){if(N.isEmpty(n))return null;try{return rr.parseRequestState(e,n).libraryState.meta}catch(a){throw G.createInvalidStateError(n,a)}},c.parseServerResponseFromHash=function(e){if(!e)return{};var n=new Ce(e);return Ce.getDeserializedHash(n.getHash())},c}(),Hi=function(c){function e(n,a,u,h){var p=c.call(this,n,u)||this;return p.COOKIE_LIFE_MULTIPLIER=864e5,p.cacheConfig=a,p.logger=h,p.internalStorage=new qi,p.browserStorage=p.setupBrowserStorage(p.cacheConfig.cacheLocation),p.temporaryCacheStorage=p.setupTemporaryCacheStorage(p.cacheConfig.cacheLocation),p.migrateCacheEntries(),p}return o(e,c),e.prototype.setupBrowserStorage=function(n){switch(n){case t.BrowserCacheLocation.LocalStorage:case t.BrowserCacheLocation.SessionStorage:try{return new Li(n)}catch(a){this.logger.verbose(a);break}case t.BrowserCacheLocation.MemoryStorage:}return this.cacheConfig.cacheLocation=t.BrowserCacheLocation.MemoryStorage,new qi},e.prototype.setupTemporaryCacheStorage=function(n){switch(n){case t.BrowserCacheLocation.LocalStorage:case t.BrowserCacheLocation.SessionStorage:try{return new Li(t.BrowserCacheLocation.SessionStorage)}catch(a){return this.logger.verbose(a),this.internalStorage}case t.BrowserCacheLocation.MemoryStorage:default:return this.internalStorage}},e.prototype.migrateCacheEntries=function(){var n=this,a=D+"."+k.ID_TOKEN,u=D+"."+k.CLIENT_INFO,h=D+"."+k.ERROR,p=D+"."+k.ERROR_DESC,g=[this.browserStorage.getItem(a),this.browserStorage.getItem(u),this.browserStorage.getItem(h),this.browserStorage.getItem(p)];[k.ID_TOKEN,k.CLIENT_INFO,k.ERROR,k.ERROR_DESC].forEach(function(_,S){return n.migrateCacheEntry(_,g[S])})},e.prototype.migrateCacheEntry=function(n,a){a&&this.setTemporaryCache(n,a,!0)},e.prototype.validateAndParseJson=function(n){try{var a=JSON.parse(n);return a&&typeof a=="object"?a:null}catch{return null}},e.prototype.getItem=function(n){return this.browserStorage.getItem(n)},e.prototype.setItem=function(n,a){this.browserStorage.setItem(n,a)},e.prototype.getAccount=function(n){var a=this.getItem(n);if(!a)return null;var u=this.validateAndParseJson(a);return u&&st.isAccountEntity(u)?vt.toObject(new st,u):null},e.prototype.setAccount=function(n){this.logger.verbose("BrowserCacheManager.setAccount called");var a=n.generateAccountKey();this.setItem(a,JSON.stringify(n))},e.prototype.getIdTokenCredential=function(n){this.logger.verbose("BrowserCacheManager.getIdTokenCredential called");var a=this.getItem(n);if(!a)return null;var u=this.validateAndParseJson(a);return u&&Sn.isIdTokenEntity(u)?(this.logger.verbose("BrowserCacheManager.getIdTokenCredential: cache hit"),vt.toObject(new Sn,u)):null},e.prototype.setIdTokenCredential=function(n){this.logger.verbose("BrowserCacheManager.setIdTokenCredential called");var a=n.generateCredentialKey();this.setItem(a,JSON.stringify(n))},e.prototype.getAccessTokenCredential=function(n){this.logger.verbose("BrowserCacheManager.getAccessTokenCredential called");var a=this.getItem(n);if(!a)return null;var u=this.validateAndParseJson(a);return u&&An.isAccessTokenEntity(u)?(this.logger.verbose("BrowserCacheManager.getAccessTokenCredential: cache hit"),vt.toObject(new An,u)):null},e.prototype.setAccessTokenCredential=function(n){this.logger.verbose("BrowserCacheManager.setAccessTokenCredential called");var a=n.generateCredentialKey();this.setItem(a,JSON.stringify(n))},e.prototype.getRefreshTokenCredential=function(n){this.logger.verbose("BrowserCacheManager.getRefreshTokenCredential called");var a=this.getItem(n);if(!a)return null;var u=this.validateAndParseJson(a);return u&&In.isRefreshTokenEntity(u)?(this.logger.verbose("BrowserCacheManager.getRefreshTokenCredential: cache hit"),vt.toObject(new In,u)):null},e.prototype.setRefreshTokenCredential=function(n){this.logger.verbose("BrowserCacheManager.setRefreshTokenCredential called");var a=n.generateCredentialKey();this.setItem(a,JSON.stringify(n))},e.prototype.getAppMetadata=function(n){this.logger.verbose("BrowserCacheManager.getAppMetadata called");var a=this.getItem(n);if(!a)return null;var u=this.validateAndParseJson(a);return u&&Rn.isAppMetadataEntity(n,u)?(this.logger.verbose("BrowserCacheManager.getAppMetadata: cache hit"),vt.toObject(new Rn,u)):null},e.prototype.setAppMetadata=function(n){this.logger.verbose("BrowserCacheManager.setAppMetadata called");var a=n.generateAppMetadataKey();this.setItem(a,JSON.stringify(n))},e.prototype.getServerTelemetry=function(n){this.logger.verbose("BrowserCacheManager.getServerTelemetry called");var a=this.getItem(n);if(!a)return null;var u=this.validateAndParseJson(a);return u&&Fr.isServerTelemetryEntity(n,u)?(this.logger.verbose("BrowserCacheManager.getServerTelemetry: cache hit"),vt.toObject(new Fr,u)):null},e.prototype.setServerTelemetry=function(n,a){this.logger.verbose("BrowserCacheManager.setServerTelemetry called"),this.setItem(n,JSON.stringify(a))},e.prototype.getAuthorityMetadata=function(n){this.logger.verbose("BrowserCacheManager.getAuthorityMetadata called");var a=this.internalStorage.getItem(n);if(!a)return null;var u=this.validateAndParseJson(a);return u&&On.isAuthorityMetadataEntity(n,u)?(this.logger.verbose("BrowserCacheManager.getAuthorityMetadata: cache hit"),vt.toObject(new On,u)):null},e.prototype.getAuthorityMetadataKeys=function(){var n=this;return this.internalStorage.getKeys().filter(function(a){return n.isAuthorityMetadata(a)})},e.prototype.setAuthorityMetadata=function(n,a){this.logger.verbose("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(n,JSON.stringify(a))},e.prototype.getThrottlingCache=function(n){this.logger.verbose("BrowserCacheManager.getThrottlingCache called");var a=this.getItem(n);if(!a)return null;var u=this.validateAndParseJson(a);return u&&Oi.isThrottlingEntity(n,u)?(this.logger.verbose("BrowserCacheManager.getThrottlingCache: cache hit"),vt.toObject(new Oi,u)):null},e.prototype.setThrottlingCache=function(n,a){this.logger.verbose("BrowserCacheManager.setThrottlingCache called"),this.setItem(n,JSON.stringify(a))},e.prototype.getTemporaryCache=function(n,a){this.logger.verbose("BrowserCacheManager.getTemporaryCache called");var u=a?this.generateCacheKey(n):n;if(this.cacheConfig.storeAuthStateInCookie){this.logger.verbose("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies");var h=this.getItemCookie(u);if(h)return h}var p=this.temporaryCacheStorage.getItem(u);return p||null},e.prototype.setTemporaryCache=function(n,a,u){var h=u?this.generateCacheKey(n):n;this.temporaryCacheStorage.setItem(h,a),this.cacheConfig.storeAuthStateInCookie&&(this.logger.verbose("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.setItemCookie(h,a))},e.prototype.removeItem=function(n){return this.browserStorage.removeItem(n),this.temporaryCacheStorage.removeItem(n),this.cacheConfig.storeAuthStateInCookie&&(this.logger.verbose("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.clearItemCookie(n)),!0},e.prototype.containsKey=function(n){return this.browserStorage.containsKey(n)||this.temporaryCacheStorage.containsKey(n)},e.prototype.getKeys=function(){return f(this.browserStorage.getKeys(),this.temporaryCacheStorage.getKeys())},e.prototype.clear=function(){var n=this;this.removeAllAccounts(),this.removeAppMetadata(),this.getKeys().forEach(function(a){!n.browserStorage.containsKey(a)&&!n.temporaryCacheStorage.containsKey(a)||a.indexOf(D)===-1&&a.indexOf(n.clientId)===-1||n.removeItem(a)}),this.internalStorage.clear()},e.prototype.setItemCookie=function(n,a,u){var h=encodeURIComponent(n)+"="+encodeURIComponent(a)+";path=/;";u&&(h+="expires="+this.getCookieExpirationTime(u)+";"),this.cacheConfig.secureCookies&&(h+="Secure;"),document.cookie=h},e.prototype.getItemCookie=function(n){for(var a=encodeURIComponent(n)+"=",u=document.cookie.split(";"),h=0;h<u.length;h++){for(var p=u[h];p.charAt(0)===" ";)p=p.substring(1);if(p.indexOf(a)===0)return decodeURIComponent(p.substring(a.length,p.length))}return""},e.prototype.clearMsalCookies=function(){var n=this,a=D+"."+this.clientId;document.cookie.split(";").forEach(function(u){for(;u.charAt(0)===" ";)u=u.substring(1);if(u.indexOf(a)===0){var h=u.split("=")[0];n.clearItemCookie(h)}})},e.prototype.clearItemCookie=function(n){this.setItemCookie(n,"",-1)},e.prototype.getCookieExpirationTime=function(n){var a=new Date;return new Date(a.getTime()+n*this.COOKIE_LIFE_MULTIPLIER).toUTCString()},e.prototype.getCache=function(){return this.browserStorage},e.prototype.setCache=function(){},e.prototype.generateCacheKey=function(n){return this.validateAndParseJson(n)?JSON.stringify(n):N.startsWith(n,D)||N.startsWith(n,k.ADAL_ID_TOKEN)?n:D+"."+this.clientId+"."+n},e.prototype.generateAuthorityKey=function(n){var a=rr.parseRequestState(this.cryptoImpl,n).libraryState.id;return this.generateCacheKey(ve.AUTHORITY+"."+a)},e.prototype.generateNonceKey=function(n){var a=rr.parseRequestState(this.cryptoImpl,n).libraryState.id;return this.generateCacheKey(ve.NONCE_IDTOKEN+"."+a)},e.prototype.generateStateKey=function(n){var a=rr.parseRequestState(this.cryptoImpl,n).libraryState.id;return this.generateCacheKey(ve.REQUEST_STATE+"."+a)},e.prototype.getCachedAuthority=function(n){var a=this.generateStateKey(n),u=this.getTemporaryCache(a);if(!u)return null;var h=this.generateAuthorityKey(u);return this.getTemporaryCache(h)},e.prototype.updateCacheEntries=function(n,a,u){this.logger.verbose("BrowserCacheManager.updateCacheEntries called");var h=this.generateStateKey(n);this.setTemporaryCache(h,n,!1);var p=this.generateNonceKey(n);this.setTemporaryCache(p,a,!1);var g=this.generateAuthorityKey(n);this.setTemporaryCache(g,u,!1)},e.prototype.resetRequestCache=function(n){var a=this;this.logger.verbose("BrowserCacheManager.resetRequestCache called"),N.isEmpty(n)||this.getKeys().forEach(function(u){u.indexOf(n)!==-1&&a.removeItem(u)}),n&&(this.removeItem(this.generateStateKey(n)),this.removeItem(this.generateNonceKey(n)),this.removeItem(this.generateAuthorityKey(n))),this.removeItem(this.generateCacheKey(ve.REQUEST_PARAMS)),this.removeItem(this.generateCacheKey(ve.ORIGIN_URI)),this.removeItem(this.generateCacheKey(ve.URL_HASH)),this.removeItem(this.generateCacheKey(ve.INTERACTION_STATUS_KEY))},e.prototype.cleanRequestByState=function(n){if(this.logger.verbose("BrowserCacheManager.cleanRequestByState called"),n){var a=this.generateStateKey(n),u=this.temporaryCacheStorage.getItem(a);this.logger.info("BrowserCacheManager.cleanRequestByState: Removing temporary cache items for state: "+u),this.resetRequestCache(u||"")}this.clearMsalCookies()},e.prototype.cleanRequestByInteractionType=function(n){var a=this;this.logger.verbose("BrowserCacheManager.cleanRequestByInteractionType called"),this.getKeys().forEach(function(u){if(u.indexOf(ve.REQUEST_STATE)!==-1){var h=a.temporaryCacheStorage.getItem(u);if(h){var p=Fi.extractBrowserRequestState(a.cryptoImpl,h);p&&p.interactionType===n&&(a.logger.info("BrowserCacheManager.cleanRequestByInteractionType: Removing temporary cache items for state: "+h),a.resetRequestCache(h))}}}),this.clearMsalCookies()},e.prototype.cacheCodeRequest=function(n,a){this.logger.verbose("BrowserCacheManager.cacheCodeRequest called");var u=a.base64Encode(JSON.stringify(n));this.setTemporaryCache(ve.REQUEST_PARAMS,u,!0)},e.prototype.getCachedRequest=function(n,a){this.logger.verbose("BrowserCacheManager.getCachedRequest called");var u=this.getTemporaryCache(ve.REQUEST_PARAMS,!0);if(!u)throw Q.createNoTokenRequestCacheError();var h=this.validateAndParseJson(a.base64Decode(u));if(!h)throw Q.createUnableToParseTokenRequestCacheError();if(this.removeItem(this.generateCacheKey(ve.REQUEST_PARAMS)),N.isEmpty(h.authority)){var p=this.generateAuthorityKey(n),g=this.getTemporaryCache(p);if(!g)throw Q.createNoCachedAuthorityError();h.authority=g}return h},e}(vt),mc=function(){function c(){}return c.prototype.sendGetRequestAsync=function(e,n){return s(this,void 0,void 0,function(){var a,u,h;return l(this,function(p){switch(p.label){case 0:return p.trys.push([0,2,,3]),[4,fetch(e,{method:_t.GET,headers:this.getFetchHeaders(n)})];case 1:return a=p.sent(),[3,3];case 2:throw u=p.sent(),window.navigator.onLine?Q.createGetRequestFailedError(u,e):Q.createNoNetworkConnectivityError();case 3:return p.trys.push([3,5,,6]),h={headers:this.getHeaderDict(a.headers)},[4,a.json()];case 4:return[2,(h.body=p.sent(),h.status=a.status,h)];case 5:throw p.sent(),Q.createFailedToParseNetworkResponseError(e);case 6:return[2]}})})},c.prototype.sendPostRequestAsync=function(e,n){return s(this,void 0,void 0,function(){var a,u,h,p;return l(this,function(g){switch(g.label){case 0:a=n&&n.body||"",g.label=1;case 1:return g.trys.push([1,3,,4]),[4,fetch(e,{method:_t.POST,headers:this.getFetchHeaders(n),body:a})];case 2:return u=g.sent(),[3,4];case 3:throw h=g.sent(),window.navigator.onLine?Q.createPostRequestFailedError(h,e):Q.createNoNetworkConnectivityError();case 4:return g.trys.push([4,6,,7]),p={headers:this.getHeaderDict(u.headers)},[4,u.json()];case 5:return[2,(p.body=g.sent(),p.status=u.status,p)];case 6:throw g.sent(),Q.createFailedToParseNetworkResponseError(e);case 7:return[2]}})})},c.prototype.getFetchHeaders=function(e){var n=new Headers;if(!e||!e.headers)return n;var a=e.headers;return Object.keys(a).forEach(function(u){n.append(u,a[u])}),n},c.prototype.getHeaderDict=function(e){var n={};return e.forEach(function(a,u){n[u]=a}),n},c}(),gc=function(){function c(){}return c.prototype.sendGetRequestAsync=function(e,n){return s(this,void 0,void 0,function(){return l(this,function(a){return[2,this.sendRequestAsync(e,_t.GET,n)]})})},c.prototype.sendPostRequestAsync=function(e,n){return s(this,void 0,void 0,function(){return l(this,function(a){return[2,this.sendRequestAsync(e,_t.POST,n)]})})},c.prototype.sendRequestAsync=function(e,n,a){var u=this;return new Promise(function(h,p){var g=new XMLHttpRequest;if(g.open(n,e,!0),u.setXhrHeaders(g,a),g.onload=function(){(g.status<200||g.status>=300)&&(n===_t.POST?p(Q.createPostRequestFailedError("Failed with status "+g.status,e)):p(Q.createGetRequestFailedError("Failed with status "+g.status,e)));try{var _=JSON.parse(g.responseText),S={headers:u.getHeaderDict(g),body:_,status:g.status};h(S)}catch{p(Q.createFailedToParseNetworkResponseError(e))}},g.onerror=function(){window.navigator.onLine?n===_t.POST?p(Q.createPostRequestFailedError("Failed with status "+g.status,e)):p(Q.createGetRequestFailedError("Failed with status "+g.status,e)):p(Q.createNoNetworkConnectivityError())},n===_t.POST&&a&&a.body)g.send(a.body);else{if(n!==_t.GET)throw Q.createHttpMethodNotImplementedError(n);g.send()}})},c.prototype.setXhrHeaders=function(e,n){if(n&&n.headers){var a=n.headers;Object.keys(a).forEach(function(u){e.setRequestHeader(u,a[u])})}},c.prototype.getHeaderDict=function(e){var n=e.getAllResponseHeaders().trim().split(/[\r\n]+/),a={};return n.forEach(function(u){var h=u.split(": "),p=h.shift(),g=h.join(": ");p&&g&&(a[p]=g)}),a},c}(),Re=function(){function c(){}return c.clearHash=function(){typeof history.replaceState=="function"?history.replaceState(null,x,""+window.location.pathname+window.location.search):window.location.hash=""},c.replaceHash=function(e){var n=e.split("#");n.shift(),window.location.hash=n.length>0?n.join("#"):""},c.isInIframe=function(){return window.parent!==window},c.getCurrentUri=function(){return window.location.href.split("?")[0].split("#")[0]},c.getHomepage=function(){var e=new Ce(window.location.href).getUrlComponents();return e.Protocol+"//"+e.HostNameAndPort+"/"},c.getBrowserNetworkClient=function(){return window.fetch&&window.Headers?new mc:new gc},c.blockReloadInHiddenIframes=function(){if(Ce.hashContainsKnownProperties(window.location.hash)&&c.isInIframe())throw Q.createBlockReloadInHiddenIframeError()},c.blockRedirectInIframe=function(e,n){var a=c.isInIframe();if(e===t.InteractionType.Redirect&&a&&!n)throw Q.createRedirectInIframeError(a)},c.blockAcquireTokenInPopups=function(){if(window.opener&&window.opener!==window&&typeof window.name=="string"&&window.name.indexOf(Mn+".")===0)throw Q.createBlockAcquireTokenInPopupsError()},c.blockNonBrowserEnvironment=function(e){if(!e)throw Q.createNonBrowserEnvironmentError()},c.detectIEOrEdge=function(){var e=window.navigator.userAgent,n=e.indexOf("MSIE "),a=e.indexOf("Trident/"),u=e.indexOf("Edge/");return n>0||a>0||u>0},c}(),Bi=function(){function c(){}return c.prototype.navigateInternal=function(e,n){return c.defaultNavigateWindow(e,n)},c.prototype.navigateExternal=function(e,n){return c.defaultNavigateWindow(e,n)},c.defaultNavigateWindow=function(e,n){return n.noHistory?window.location.replace(e):window.location.assign(e),new Promise(function(a){setTimeout(function(){a(!0)},n.timeout)})},c}(),Ki=6e3,We,Ln=function(){function c(e,n,a){this.authModule=e,this.browserStorage=n,this.authCodeRequest=a}return c.prototype.handleCodeResponse=function(e,n,a,u){return s(this,void 0,void 0,function(){var h,p,g,_,S,T;return l(this,function(R){switch(R.label){case 0:if(N.isEmpty(e))throw Q.createEmptyHashError(e);if(h=this.browserStorage.generateStateKey(n),!(p=this.browserStorage.getTemporaryCache(h)))throw G.createStateNotFoundError("Cached State");return g=this.authModule.handleFragmentResponse(e,p),_=this.browserStorage.generateNonceKey(p),S=this.browserStorage.getTemporaryCache(_),this.authCodeRequest.code=g.code,g.cloud_instance_host_name?[4,this.updateTokenEndpointAuthority(g.cloud_instance_host_name,a,u)]:[3,2];case 1:R.sent(),R.label=2;case 2:return g.nonce=S||void 0,g.state=p,[4,this.authModule.acquireToken(this.authCodeRequest,g)];case 3:return T=R.sent(),this.browserStorage.cleanRequestByState(n),[2,T]}})})},c.prototype.updateTokenEndpointAuthority=function(e,n,a){return s(this,void 0,void 0,function(){var u,h;return l(this,function(p){switch(p.label){case 0:return u="https://"+e+"/"+n.tenant+"/",[4,Un.createDiscoveredInstance(u,a,this.browserStorage,n.options)];case 1:return h=p.sent(),this.authModule.updateAuthority(h),[2]}})})},c}(),ji=function(c){function e(n,a,u,h){var p=c.call(this,n,a,u)||this;return p.browserCrypto=h,p}return o(e,c),e.prototype.initiateAuthRequest=function(n,a){return s(this,void 0,void 0,function(){var u;return l(this,function(h){switch(h.label){case 0:return this.authModule.logger.verbose("RedirectHandler.initiateAuthRequest called"),N.isEmpty(n)?[3,7]:(a.redirectStartPage&&(this.authModule.logger.verbose("RedirectHandler.initiateAuthRequest: redirectStartPage set to true, caching start page"),this.browserStorage.setTemporaryCache(ve.ORIGIN_URI,a.redirectStartPage,!0)),this.browserStorage.setTemporaryCache(ve.INTERACTION_STATUS_KEY,Hr,!0),this.browserStorage.cacheCodeRequest(this.authCodeRequest,this.browserCrypto),this.authModule.logger.infoPii("RedirectHandler.initiateAuthRequest: Navigate to:"+n),u={apiId:t.ApiId.acquireTokenRedirect,timeout:a.redirectTimeout,noHistory:!1},typeof a.onRedirectNavigate!="function"?[3,4]:(this.authModule.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),a.onRedirectNavigate(n)===!1?[3,2]:(this.authModule.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),[4,a.navigationClient.navigateExternal(n,u)])));case 1:return h.sent(),[2];case 2:return this.authModule.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation"),[2];case 3:return[3,6];case 4:return this.authModule.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),[4,a.navigationClient.navigateExternal(n,u)];case 5:return h.sent(),[2];case 6:return[3,8];case 7:throw this.authModule.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),Q.createEmptyNavigationUriError();case 8:return[2]}})})},e.prototype.handleCodeResponse=function(n,a,u,h,p){return s(this,void 0,void 0,function(){var g,_,S,T,R,q;return l(this,function(V){switch(V.label){case 0:if(this.authModule.logger.verbose("RedirectHandler.handleCodeResponse called"),N.isEmpty(n))throw Q.createEmptyHashError(n);if(this.browserStorage.removeItem(this.browserStorage.generateCacheKey(ve.INTERACTION_STATUS_KEY)),g=this.browserStorage.generateStateKey(a),!(_=this.browserStorage.getTemporaryCache(g)))throw G.createStateNotFoundError("Cached State");return S=this.authModule.handleFragmentResponse(n,_),T=this.browserStorage.generateNonceKey(_),R=this.browserStorage.getTemporaryCache(T),this.authCodeRequest.code=S.code,S.cloud_instance_host_name?[4,this.updateTokenEndpointAuthority(S.cloud_instance_host_name,u,h)]:[3,2];case 1:V.sent(),V.label=2;case 2:return S.nonce=R||void 0,S.state=_,p&&qr.removeThrottle(this.browserStorage,p,this.authCodeRequest.authority,this.authCodeRequest.scopes),[4,this.authModule.acquireToken(this.authCodeRequest,S)];case 3:return q=V.sent(),this.browserStorage.cleanRequestByState(a),[2,q]}})})},e}(Ln),or=function(){function c(e,n){this.browserStorage=e,this.logger=n,this.unloadWindow=this.unloadWindow.bind(this)}return c.prototype.openPopup=function(e,n,a){try{var u=void 0;if(a?(u=a,this.logger.verbosePii("Navigating popup window to: "+e),u.location.assign(e)):a===void 0&&(this.logger.verbosePii("Opening popup window to: "+e),u=c.openSizedPopup(e,n)),!u)throw Q.createEmptyWindowCreatedError();return u.focus&&u.focus(),this.currentWindow=u,window.addEventListener("beforeunload",this.unloadWindow),u}catch(h){throw this.logger.error("error opening popup "+h.message),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(ve.INTERACTION_STATUS_KEY)),Q.createPopupWindowError(h.toString())}},c.openSizedPopup=function(e,n){var a=window.screenLeft?window.screenLeft:window.screenX,u=window.screenTop?window.screenTop:window.screenY,h=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,p=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,g=Math.max(0,h/2-Pi/2+a),_=Math.max(0,p/2-Ni/2+u);return window.open(e,n,"width="+Pi+", height="+Ni+", top="+_+", left="+g+", scrollbars=yes")},c.prototype.unloadWindow=function(e){this.browserStorage.cleanRequestByInteractionType(t.InteractionType.Popup),this.currentWindow&&this.currentWindow.close(),e.preventDefault()},c.prototype.cleanPopup=function(e){e&&e.close(),window.removeEventListener("beforeunload",this.unloadWindow),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(ve.INTERACTION_STATUS_KEY))},c.prototype.monitorPopupForSameOrigin=function(e){var n=this;return new Promise(function(a,u){var h=setInterval(function(){if(e.closed)return n.cleanPopup(),clearInterval(h),void u(Q.createUserCancelledError());var p=x;try{p=e.location.href}catch{}N.isEmpty(p)||p==="about:blank"||(clearInterval(h),a())},Ui)})},c.generatePopupName=function(e,n){return Mn+"."+e+"."+n.scopes.join("-")+"."+n.authority+"."+n.correlationId},c.generateLogoutPopupName=function(e,n){var a=n.account&&n.account.homeAccountId;return Mn+"."+e+"."+a+"."+n.correlationId},c}(),yc=function(c){function e(n,a,u){var h=c.call(this,n,a,u)||this;return h.popupUtils=new or(a,n.logger),h}return o(e,c),e.prototype.initiateAuthRequest=function(n,a){if(N.isEmpty(n))throw this.authModule.logger.error("Navigate url is empty"),Q.createEmptyNavigationUriError();return this.browserStorage.setTemporaryCache(ve.INTERACTION_STATUS_KEY,Hr,!0),this.authModule.logger.infoPii("Navigate to:"+n),this.popupUtils.openPopup(n,a.popupName,a.popup)},e.prototype.monitorPopupForHash=function(n){var a=this;return this.popupUtils.monitorPopupForSameOrigin(n).then(function(){var u=n.location.hash;if(a.popupUtils.cleanPopup(n),!u)throw Q.createEmptyHashError(n.location.href);if(Ce.hashContainsKnownProperties(u))return u;throw Q.createHashDoesNotContainKnownPropertiesError()})},e}(Ln),vc=function(c){function e(n,a,u,h){var p=c.call(this,n,a,u)||this;return p.navigateFrameWait=h,p}return o(e,c),e.prototype.initiateAuthRequest=function(n){return s(this,void 0,void 0,function(){var a;return l(this,function(u){switch(u.label){case 0:if(N.isEmpty(n))throw this.authModule.logger.info("Navigate url is empty"),Q.createEmptyNavigationUriError();return this.navigateFrameWait?[4,this.loadFrame(n)]:[3,2];case 1:return a=u.sent(),[3,3];case 2:a=this.loadFrameSync(n),u.label=3;case 3:return[2,a]}})})},e.prototype.monitorIframeForHash=function(n,a){var u=this;return new Promise(function(h,p){a<Ki&&u.authModule.logger.warning("system.loadFrameTimeout or system.iframeHashTimeout set to lower ("+a+"ms) than the default (6000ms). This may result in timeouts.");var g=window.performance.now()+a,_=setInterval(function(){if(window.performance.now()>g)return u.removeHiddenIframe(n),clearInterval(_),void p(Q.createMonitorIframeTimeoutError());var S=x,T=n.contentWindow;try{S=T?T.location.href:x}catch{}if(!N.isEmpty(S)){var R=T?T.location.hash:x;return Ce.hashContainsKnownProperties(R)?(u.removeHiddenIframe(n),clearInterval(_),void h(R)):void 0}},Ui)})},e.prototype.loadFrame=function(n){var a=this;return new Promise(function(u,h){var p=a.createHiddenIframe();setTimeout(function(){p?(p.src=n,u(p)):h("Unable to load iframe")},a.navigateFrameWait)})},e.prototype.loadFrameSync=function(n){var a=this.createHiddenIframe();return a.src=n,a},e.prototype.createHiddenIframe=function(){var n=document.createElement("iframe");return n.style.visibility="hidden",n.style.position="absolute",n.style.width=n.style.height="0",n.style.border="0",n.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.getElementsByTagName("body")[0].appendChild(n),n},e.prototype.removeHiddenIframe=function(n){document.body===n.parentNode&&document.body.removeChild(n)},e}(Ln),Wi="2.13.1";(We=t.EventType||(t.EventType={})).LOGIN_START="msal:loginStart",We.LOGIN_SUCCESS="msal:loginSuccess",We.LOGIN_FAILURE="msal:loginFailure",We.ACQUIRE_TOKEN_START="msal:acquireTokenStart",We.ACQUIRE_TOKEN_SUCCESS="msal:acquireTokenSuccess",We.ACQUIRE_TOKEN_FAILURE="msal:acquireTokenFailure",We.ACQUIRE_TOKEN_NETWORK_START="msal:acquireTokenFromNetworkStart",We.SSO_SILENT_START="msal:ssoSilentStart",We.SSO_SILENT_SUCCESS="msal:ssoSilentSuccess",We.SSO_SILENT_FAILURE="msal:ssoSilentFailure",We.HANDLE_REDIRECT_START="msal:handleRedirectStart",We.HANDLE_REDIRECT_END="msal:handleRedirectEnd",We.POPUP_OPENED="msal:popupOpened",We.LOGOUT_START="msal:logoutStart",We.LOGOUT_SUCCESS="msal:logoutSuccess",We.LOGOUT_FAILURE="msal:logoutFailure",We.LOGOUT_END="msal:logoutEnd";var wc=function(c){function e(n){return c.call(this,n)||this}return o(e,c),e.prototype.loginRedirect=function(n){return s(this,void 0,void 0,function(){return l(this,function(a){return this.logger.verbose("loginRedirect called"),[2,this.acquireTokenRedirect(n||Di)]})})},e.prototype.loginPopup=function(n){return this.logger.verbose("loginPopup called"),this.acquireTokenPopup(n||Di)},e.prototype.acquireTokenSilent=function(n){return s(this,void 0,void 0,function(){var a,u,h,p,g,_;return l(this,function(S){switch(S.label){case 0:if(this.preflightBrowserEnvironmentCheck(t.InteractionType.Silent),this.logger.verbose("acquireTokenSilent called"),!(a=n.account||this.getActiveAccount()))throw Q.createNoAccountError();u=i(i(i({},n),this.initializeBaseRequest(n)),{account:a,forceRefresh:n.forceRefresh||!1}),this.emitEvent(t.EventType.ACQUIRE_TOKEN_START,t.InteractionType.Silent,n),S.label=1;case 1:return S.trys.push([1,4,,9]),h=this.initializeServerTelemetryManager(t.ApiId.acquireTokenSilent_silentFlow,u.correlationId),[4,this.createSilentFlowClient(h,u.authority)];case 2:return[4,S.sent().acquireCachedToken(u)];case 3:return p=S.sent(),this.emitEvent(t.EventType.ACQUIRE_TOKEN_SUCCESS,t.InteractionType.Silent,p),[2,p];case 4:S.sent(),S.label=5;case 5:return S.trys.push([5,7,,8]),[4,this.acquireTokenByRefreshToken(u)];case 6:return g=S.sent(),this.emitEvent(t.EventType.ACQUIRE_TOKEN_SUCCESS,t.InteractionType.Silent,g),[2,g];case 7:throw _=S.sent(),this.emitEvent(t.EventType.ACQUIRE_TOKEN_FAILURE,t.InteractionType.Silent,null,_),_;case 8:return[3,9];case 9:return[2]}})})},e}(function(){function c(e){var n,a,u,h,p,g,_,S,T,R,q,V;if(this.isBrowserEnvironment=typeof window<"u",this.config=(n=e,a=this.isBrowserEnvironment,u=n.auth,h=n.cache,p=n.system,g={clientId:"",authority:""+we,knownAuthorities:[],cloudDiscoveryMetadata:"",authorityMetadata:"",redirectUri:"",postLogoutRedirectUri:"",navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:t.ProtocolMode.AAD},_={cacheLocation:t.BrowserCacheLocation.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1},S={loggerCallback:function(){},logLevel:t.LogLevel.Info,piiLoggingEnabled:!1},T=i(i({},Ai),{loggerOptions:S,networkClient:a?Re.getBrowserNetworkClient():ic,navigationClient:new Bi,loadFrameTimeout:0,windowHashTimeout:p&&p.loadFrameTimeout||6e4,iframeHashTimeout:p&&p.loadFrameTimeout||Ki,navigateFrameWait:a&&Re.detectIEOrEdge()?500:0,redirectNavigationTimeout:3e4,asyncPopups:!1,allowRedirectInIframe:!1}),{auth:i(i({},g),u),cache:i(i({},_),h),system:i(i({},T),p)}),this.activeLocalAccountId=null,this.eventCallbacks=new Map,this.logger=new Cn(this.config.system.loggerOptions,"@azure/msal-browser",Wi),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,!this.isBrowserEnvironment)return this.browserStorage=(R=this.config.auth.clientId,q=this.logger,V={cacheLocation:t.BrowserCacheLocation.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1},new Hi(R,V,Lr,q)),void(this.browserCrypto=Lr);this.browserCrypto=new fc,this.browserStorage=new Hi(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger)}return c.prototype.handleRedirectPromise=function(e){return s(this,void 0,void 0,function(){var n,a,u,h=this;return l(this,function(p){return this.emitEvent(t.EventType.HANDLE_REDIRECT_START,t.InteractionType.Redirect),this.logger.verbose("handleRedirectPromise called"),n=this.getAllAccounts(),this.isBrowserEnvironment?(a=e||x,(u=this.redirectResponse.get(a))===void 0?(this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise"),u=this.handleRedirectResponse(e).then(function(g){return g&&(n.length<h.getAllAccounts().length?(h.emitEvent(t.EventType.LOGIN_SUCCESS,t.InteractionType.Redirect,g),h.logger.verbose("handleRedirectResponse returned result, login success")):(h.emitEvent(t.EventType.ACQUIRE_TOKEN_SUCCESS,t.InteractionType.Redirect,g),h.logger.verbose("handleRedirectResponse returned result, acquire token success"))),h.emitEvent(t.EventType.HANDLE_REDIRECT_END,t.InteractionType.Redirect),g}).catch(function(g){throw n.length>0?h.emitEvent(t.EventType.ACQUIRE_TOKEN_FAILURE,t.InteractionType.Redirect,null,g):h.emitEvent(t.EventType.LOGIN_FAILURE,t.InteractionType.Redirect,null,g),h.emitEvent(t.EventType.HANDLE_REDIRECT_END,t.InteractionType.Redirect),g}),this.redirectResponse.set(a,u)):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),[2,u]):(this.logger.verbose("handleRedirectPromise returns null, not browser environment"),[2,null])})})},c.prototype.handleRedirectResponse=function(e){return s(this,void 0,void 0,function(){var n,a,u,h,p,g,_,S,T;return l(this,function(R){switch(R.label){case 0:if(!this.interactionInProgress())return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),[2,null];if(!(n=this.getRedirectResponseHash(e||window.location.hash)))return this.logger.info("handleRedirectPromise did not detect a response hash as a result of a redirect. Cleaning temporary cache."),this.browserStorage.cleanRequestByInteractionType(t.InteractionType.Redirect),[2,null];try{a=this.validateAndExtractStateFromHash(n,t.InteractionType.Redirect),Re.clearHash(),this.logger.verbose("State extracted from hash")}catch(q){return this.logger.info("handleRedirectPromise was unable to extract state due to: "+q),this.browserStorage.cleanRequestByInteractionType(t.InteractionType.Redirect),[2,null]}return u=this.browserStorage.getTemporaryCache(ve.ORIGIN_URI,!0)||"",h=Ce.removeHashFromUrl(u),p=Ce.removeHashFromUrl(window.location.href),h===p&&this.config.auth.navigateToLoginRequestUrl?(this.logger.verbose("Current page is loginRequestUrl, handling hash"),[4,this.handleHash(n,a)]):[3,2];case 1:return g=R.sent(),u.indexOf("#")>-1&&Re.replaceHash(u),[2,g];case 2:return this.config.auth.navigateToLoginRequestUrl?[3,3]:(this.logger.verbose("NavigateToLoginRequestUrl set to false, handling hash"),[2,this.handleHash(n,a)]);case 3:return Re.isInIframe()?[3,8]:(this.browserStorage.setTemporaryCache(ve.URL_HASH,n,!0),_={apiId:t.ApiId.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0},S=!0,u&&u!=="null"?[3,5]:(T=Re.getHomepage(),this.browserStorage.setTemporaryCache(ve.ORIGIN_URI,T,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),[4,this.navigationClient.navigateInternal(T,_)]));case 4:return S=R.sent(),[3,7];case 5:return this.logger.verbose("Navigating to loginRequestUrl: "+u),[4,this.navigationClient.navigateInternal(u,_)];case 6:S=R.sent(),R.label=7;case 7:if(!S)return[2,this.handleHash(n,a)];R.label=8;case 8:return[2,null]}})})},c.prototype.getRedirectResponseHash=function(e){this.logger.verbose("getRedirectResponseHash called");var n=Ce.hashContainsKnownProperties(e),a=this.browserStorage.getTemporaryCache(ve.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(ve.URL_HASH)),n?(this.logger.verbose("Hash contains known properties, returning response hash"),e):(this.logger.verbose("Hash does not contain known properties, returning cached hash"),a)},c.prototype.validateAndExtractStateFromHash=function(e,n){this.logger.verbose("validateAndExtractStateFromHash called");var a=Ce.getDeserializedHash(e);if(!a.state)throw Q.createHashDoesNotContainStateError();var u=Fi.extractBrowserRequestState(this.browserCrypto,a.state);if(!u)throw Q.createUnableToParseStateError();if(u.interactionType!==n)throw Q.createStateInteractionTypeMismatchError();return this.logger.verbose("Returning state from hash"),a.state},c.prototype.handleHash=function(e,n){return s(this,void 0,void 0,function(){var a,u,h,p,g;return l(this,function(_){switch(_.label){case 0:this.logger.verbose("handleHash called"),a=this.browserStorage.getCachedRequest(n,this.browserCrypto),u=this.initializeServerTelemetryManager(t.ApiId.handleRedirectPromise,a.correlationId),_.label=1;case 1:if(_.trys.push([1,4,,5]),!(h=this.browserStorage.getCachedAuthority(n)))throw Q.createNoCachedAuthorityError();return[4,this.createAuthCodeClient(u,h)];case 2:return p=_.sent(),[4,new ji(p,this.browserStorage,a,this.browserCrypto).handleCodeResponse(e,n,p.authority,this.networkClient,this.config.auth.clientId)];case 3:return[2,_.sent()];case 4:throw g=_.sent(),u.cacheFailedRequest(g),this.browserStorage.cleanRequestByInteractionType(t.InteractionType.Redirect),g;case 5:return[2]}})})},c.prototype.acquireTokenRedirect=function(e){return s(this,void 0,void 0,function(){var n,a,u,h,p,g,_,S,T;return l(this,function(R){switch(R.label){case 0:this.preflightBrowserEnvironmentCheck(t.InteractionType.Redirect),this.logger.verbose("acquireTokenRedirect called"),(n=this.getAllAccounts().length>0)?this.emitEvent(t.EventType.ACQUIRE_TOKEN_START,t.InteractionType.Redirect,e):this.emitEvent(t.EventType.LOGIN_START,t.InteractionType.Redirect,e),a=this.preflightInteractiveRequest(e,t.InteractionType.Redirect),u=this.initializeServerTelemetryManager(t.ApiId.acquireTokenRedirect,a.correlationId),R.label=1;case 1:return R.trys.push([1,5,,6]),[4,this.initializeAuthorizationCodeRequest(a)];case 2:return h=R.sent(),[4,this.createAuthCodeClient(u,a.authority)];case 3:return p=R.sent(),g=new ji(p,this.browserStorage,h,this.browserCrypto),[4,p.getAuthCodeUrl(a)];case 4:return _=R.sent(),S=this.getRedirectStartPage(e.redirectStartPage),[2,g.initiateAuthRequest(_,{navigationClient:this.navigationClient,redirectTimeout:this.config.system.redirectNavigationTimeout,redirectStartPage:S,onRedirectNavigate:e.onRedirectNavigate})];case 5:throw T=R.sent(),n?this.emitEvent(t.EventType.ACQUIRE_TOKEN_FAILURE,t.InteractionType.Redirect,null,T):this.emitEvent(t.EventType.LOGIN_FAILURE,t.InteractionType.Redirect,null,T),u.cacheFailedRequest(T),this.browserStorage.cleanRequestByState(a.state),T;case 6:return[2]}})})},c.prototype.acquireTokenPopup=function(e){var n;try{this.preflightBrowserEnvironmentCheck(t.InteractionType.Popup),this.logger.verbose("acquireTokenPopup called"),n=this.preflightInteractiveRequest(e,t.InteractionType.Popup)}catch(h){return Promise.reject(h)}var a=or.generatePopupName(this.config.auth.clientId,n);if(this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(n,a);this.logger.verbose("asyncPopup set to false, opening popup before acquiring token");var u=or.openSizedPopup("about:blank",a);return this.acquireTokenPopupAsync(n,a,u)},c.prototype.acquireTokenPopupAsync=function(e,n,a){return s(this,void 0,void 0,function(){var u,h,p,g,_,S,T,R,q,V,J,fe;return l(this,function(Ke){switch(Ke.label){case 0:this.logger.verbose("acquireTokenPopupAsync called"),(u=this.getAllAccounts()).length>0?this.emitEvent(t.EventType.ACQUIRE_TOKEN_START,t.InteractionType.Popup,e):this.emitEvent(t.EventType.LOGIN_START,t.InteractionType.Popup,e),h=this.initializeServerTelemetryManager(t.ApiId.acquireTokenPopup,e.correlationId),Ke.label=1;case 1:return Ke.trys.push([1,7,,8]),[4,this.initializeAuthorizationCodeRequest(e)];case 2:return p=Ke.sent(),[4,this.createAuthCodeClient(h,e.authority)];case 3:return[4,(g=Ke.sent()).getAuthCodeUrl(e)];case 4:return _=Ke.sent(),S=new yc(g,this.browserStorage,p),T={popup:a,popupName:n},R=S.initiateAuthRequest(_,T),this.emitEvent(t.EventType.POPUP_OPENED,t.InteractionType.Popup,{popupWindow:R},null),[4,S.monitorPopupForHash(R)];case 5:return q=Ke.sent(),V=this.validateAndExtractStateFromHash(q,t.InteractionType.Popup),qr.removeThrottle(this.browserStorage,this.config.auth.clientId,p.authority,p.scopes),[4,S.handleCodeResponse(q,V,g.authority,this.networkClient)];case 6:return J=Ke.sent(),u.length<this.getAllAccounts().length?this.emitEvent(t.EventType.LOGIN_SUCCESS,t.InteractionType.Popup,J):this.emitEvent(t.EventType.ACQUIRE_TOKEN_SUCCESS,t.InteractionType.Popup,J),[2,J];case 7:throw fe=Ke.sent(),u.length>0?this.emitEvent(t.EventType.ACQUIRE_TOKEN_FAILURE,t.InteractionType.Popup,null,fe):this.emitEvent(t.EventType.LOGIN_FAILURE,t.InteractionType.Popup,null,fe),h.cacheFailedRequest(fe),this.browserStorage.cleanRequestByState(e.state),fe;case 8:return[2]}})})},c.prototype.ssoSilent=function(e){return s(this,void 0,void 0,function(){var n,a;return l(this,function(u){switch(u.label){case 0:this.preflightBrowserEnvironmentCheck(t.InteractionType.Silent),this.logger.verbose("ssoSilent called"),this.emitEvent(t.EventType.SSO_SILENT_START,t.InteractionType.Silent,e),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this.acquireTokenByIframe(e,t.ApiId.ssoSilent)];case 2:return n=u.sent(),this.emitEvent(t.EventType.SSO_SILENT_SUCCESS,t.InteractionType.Silent,n),[2,n];case 3:throw a=u.sent(),this.emitEvent(t.EventType.SSO_SILENT_FAILURE,t.InteractionType.Silent,null,a),a;case 4:return[2]}})})},c.prototype.acquireTokenByIframe=function(e,n){return s(this,void 0,void 0,function(){var a,u,h,p,g,_;return l(this,function(S){switch(S.label){case 0:if(this.logger.verbose("acquireTokenByIframe called"),N.isEmpty(e.loginHint)&&N.isEmpty(e.sid)&&(!e.account||N.isEmpty(e.account.username)))throw Q.createSilentSSOInsufficientInfoError();if(e.prompt&&e.prompt!==pe.NONE)throw Q.createSilentPromptValueError(e.prompt);a=this.initializeAuthorizationRequest(i(i({},e),{prompt:pe.NONE}),t.InteractionType.Silent),u=this.initializeServerTelemetryManager(n,a.correlationId),S.label=1;case 1:return S.trys.push([1,6,,7]),[4,this.initializeAuthorizationCodeRequest(a)];case 2:return h=S.sent(),[4,this.createAuthCodeClient(u,a.authority)];case 3:return[4,(p=S.sent()).getAuthCodeUrl(a)];case 4:return g=S.sent(),[4,this.silentTokenHelper(g,h,p)];case 5:return[2,S.sent()];case 6:throw _=S.sent(),u.cacheFailedRequest(_),this.browserStorage.cleanRequestByState(a.state),_;case 7:return[2]}})})},c.prototype.acquireTokenByRefreshToken=function(e){return s(this,void 0,void 0,function(){var n,a,u,h,p,g;return l(this,function(_){switch(_.label){case 0:this.emitEvent(t.EventType.ACQUIRE_TOKEN_NETWORK_START,t.InteractionType.Silent,e),Re.blockReloadInHiddenIframes(),n=i(i({},e),this.initializeBaseRequest(e)),a=this.initializeServerTelemetryManager(t.ApiId.acquireTokenSilent_silentFlow,n.correlationId),_.label=1;case 1:return _.trys.push([1,4,,7]),[4,this.createRefreshTokenClient(a,n.authority)];case 2:return[4,_.sent().acquireTokenByRefreshToken(n)];case 3:return[2,_.sent()];case 4:return u=_.sent(),a.cacheFailedRequest(u),h=u instanceof Zt,p=u instanceof tr,g=u.errorCode===sc,h&&g&&!p?(this.logger.verbose("Refresh token expired or invalid, attempting acquire token by iframe"),[4,this.acquireTokenByIframe(e,t.ApiId.acquireTokenSilent_authCode)]):[3,6];case 5:return[2,_.sent()];case 6:throw u;case 7:return[2]}})})},c.prototype.silentTokenHelper=function(e,n,a){return s(this,void 0,void 0,function(){var u,h,p,g;return l(this,function(_){switch(_.label){case 0:return[4,(u=new vc(a,this.browserStorage,n,this.config.system.navigateFrameWait)).initiateAuthRequest(e)];case 1:return h=_.sent(),[4,u.monitorIframeForHash(h,this.config.system.iframeHashTimeout)];case 2:return p=_.sent(),g=this.validateAndExtractStateFromHash(p,t.InteractionType.Silent),[2,u.handleCodeResponse(p,g,a.authority,this.networkClient)]}})})},c.prototype.logout=function(e){return s(this,void 0,void 0,function(){return l(this,function(n){return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead."),[2,this.logoutRedirect(e)]})})},c.prototype.logoutRedirect=function(e){return s(this,void 0,void 0,function(){var n,a,u,h,p,g;return l(this,function(_){switch(_.label){case 0:this.preflightBrowserEnvironmentCheck(t.InteractionType.Redirect),this.logger.verbose("logoutRedirect called"),n=this.initializeLogoutRequest(e),a=this.initializeServerTelemetryManager(t.ApiId.logout,n.correlationId),_.label=1;case 1:return _.trys.push([1,9,,10]),this.emitEvent(t.EventType.LOGOUT_START,t.InteractionType.Redirect,e),[4,this.createAuthCodeClient(a,e&&e.authority)];case 2:return u=_.sent(),h=u.getLogoutUri(n),n.account&&!st.accountInfoIsEqual(n.account,this.getActiveAccount())||(this.logger.verbose("Setting active account to null"),this.setActiveAccount(null)),p={apiId:t.ApiId.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},this.emitEvent(t.EventType.LOGOUT_SUCCESS,t.InteractionType.Redirect,n),e&&typeof e.onRedirectNavigate=="function"?e.onRedirectNavigate(h)===!1?[3,4]:(this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),[4,this.navigationClient.navigateExternal(h,p)]):[3,6];case 3:return _.sent(),[2];case 4:this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation"),_.label=5;case 5:return[3,8];case 6:return[4,this.navigationClient.navigateExternal(h,p)];case 7:return _.sent(),[2];case 8:return[3,10];case 9:throw g=_.sent(),a.cacheFailedRequest(g),this.emitEvent(t.EventType.LOGOUT_FAILURE,t.InteractionType.Redirect,null,g),g;case 10:return this.emitEvent(t.EventType.LOGOUT_END,t.InteractionType.Redirect),[2]}})})},c.prototype.logoutPopup=function(e){var n;try{this.preflightBrowserEnvironmentCheck(t.InteractionType.Popup),this.logger.verbose("logoutPopup called"),n=this.initializeLogoutRequest(e)}catch(g){return Promise.reject(g)}var a,u=or.generateLogoutPopupName(this.config.auth.clientId,n);this.config.system.asyncPopups?this.logger.verbose("asyncPopups set to true"):(this.logger.verbose("asyncPopup set to false, opening popup"),a=or.openSizedPopup("about:blank",u));var h=e&&e.authority,p=e&&e.mainWindowRedirectUri;return this.logoutPopupAsync(n,u,h,a,p)},c.prototype.logoutPopupAsync=function(e,n,a,u,h){return s(this,void 0,void 0,function(){var p,g,_,S,T,R,q,V,J;return l(this,function(fe){switch(fe.label){case 0:this.logger.verbose("logoutPopupAsync called"),this.emitEvent(t.EventType.LOGOUT_START,t.InteractionType.Popup,e),p=this.initializeServerTelemetryManager(t.ApiId.logoutPopup,e.correlationId),fe.label=1;case 1:return fe.trys.push([1,7,,8]),this.browserStorage.setTemporaryCache(ve.INTERACTION_STATUS_KEY,Hr,!0),[4,this.createAuthCodeClient(p,a)];case 2:g=fe.sent(),_=g.getLogoutUri(e),e.account&&!st.accountInfoIsEqual(e.account,this.getActiveAccount())||(this.logger.verbose("Setting active account to null"),this.setActiveAccount(null)),this.emitEvent(t.EventType.LOGOUT_SUCCESS,t.InteractionType.Popup,e),S=new or(this.browserStorage,this.logger),T=S.openPopup(_,n,u),this.emitEvent(t.EventType.POPUP_OPENED,t.InteractionType.Popup,{popupWindow:T},null),fe.label=3;case 3:return fe.trys.push([3,5,,6]),[4,S.monitorPopupForSameOrigin(T)];case 4:return fe.sent(),this.logger.verbose("Popup successfully redirected to postLogoutRedirectUri"),[3,6];case 5:return R=fe.sent(),this.logger.verbose("Error occurred while monitoring popup for same origin. Session on server may remain active. Error: "+R),[3,6];case 6:return S.cleanPopup(T),h?(q={apiId:t.ApiId.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},V=Ce.getAbsoluteUrl(h,Re.getCurrentUri()),this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii("Redirecing main window to: "+V),this.navigationClient.navigateInternal(V,q)):this.logger.verbose("No main window navigation requested"),[3,8];case 7:throw J=fe.sent(),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(ve.INTERACTION_STATUS_KEY)),this.emitEvent(t.EventType.LOGOUT_FAILURE,t.InteractionType.Popup,null,J),p.cacheFailedRequest(J),J;case 8:return this.emitEvent(t.EventType.LOGOUT_END,t.InteractionType.Popup),[2]}})})},c.prototype.getAllAccounts=function(){return this.logger.verbose("getAllAccounts called"),this.isBrowserEnvironment?this.browserStorage.getAllAccounts():[]},c.prototype.getAccountByUsername=function(e){var n=this.getAllAccounts();return!N.isEmpty(e)&&n&&n.length?(this.logger.verbose("Account matching username found, returning"),this.logger.verbosePii("Returning signed-in accounts matching username: "+e),n.filter(function(a){return a.username.toLowerCase()===e.toLowerCase()})[0]||null):(this.logger.verbose("getAccountByUsername: No matching account found, returning null"),null)},c.prototype.getAccountByHomeId=function(e){var n=this.getAllAccounts();return!N.isEmpty(e)&&n&&n.length?(this.logger.verbose("Account matching homeAccountId found, returning"),this.logger.verbosePii("Returning signed-in accounts matching homeAccountId: "+e),n.filter(function(a){return a.homeAccountId===e})[0]||null):(this.logger.verbose("getAccountByHomeId: No matching account found, returning null"),null)},c.prototype.getAccountByLocalId=function(e){var n=this.getAllAccounts();return!N.isEmpty(e)&&n&&n.length?(this.logger.verbose("Account matching localAccountId found, returning"),this.logger.verbosePii("Returning signed-in accounts matching localAccountId: "+e),n.filter(function(a){return a.localAccountId===e})[0]||null):(this.logger.verbose("getAccountByLocalId: No matching account found, returning null"),null)},c.prototype.setActiveAccount=function(e){e?(this.logger.verbose("setActiveAccount: Active account set"),this.activeLocalAccountId=e.localAccountId):(this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.activeLocalAccountId=null)},c.prototype.getActiveAccount=function(){return this.activeLocalAccountId?this.getAccountByLocalId(this.activeLocalAccountId):(this.logger.verbose("getActiveAccount: No active account"),null)},c.prototype.getRedirectUri=function(e){this.logger.verbose("getRedirectUri called");var n=e||this.config.auth.redirectUri||Re.getCurrentUri();return Ce.getAbsoluteUrl(n,Re.getCurrentUri())},c.prototype.getRedirectStartPage=function(e){this.logger.verbose("getRedirectStartPage called");var n=e||window.location.href;return Ce.getAbsoluteUrl(n,Re.getCurrentUri())},c.prototype.getDiscoveredAuthority=function(e){return s(this,void 0,void 0,function(){var n;return l(this,function(a){switch(a.label){case 0:return this.logger.verbose("getDiscoveredAuthority called"),n={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata},e?(this.logger.verbose("Creating discovered authority with request authority"),[4,Un.createDiscoveredInstance(e,this.config.system.networkClient,this.browserStorage,n)]):[3,2];case 1:return[2,a.sent()];case 2:return this.logger.verbose("Creating discovered authority with configured authority"),[4,Un.createDiscoveredInstance(this.config.auth.authority,this.config.system.networkClient,this.browserStorage,n)];case 3:return[2,a.sent()]}})})},c.prototype.interactionInProgress=function(){return this.browserStorage.getTemporaryCache(ve.INTERACTION_STATUS_KEY,!0)===Hr},c.prototype.createAuthCodeClient=function(e,n){return s(this,void 0,void 0,function(){var a;return l(this,function(u){switch(u.label){case 0:return this.logger.verbose("createAuthCodeClient called"),[4,this.getClientConfiguration(e,n)];case 1:return a=u.sent(),[2,new tc(a)]}})})},c.prototype.createSilentFlowClient=function(e,n){return s(this,void 0,void 0,function(){var a;return l(this,function(u){switch(u.label){case 0:return this.logger.verbose("createSilentFlowClient called"),[4,this.getClientConfiguration(e,n)];case 1:return a=u.sent(),[2,new rc(a)]}})})},c.prototype.createRefreshTokenClient=function(e,n){return s(this,void 0,void 0,function(){var a;return l(this,function(u){switch(u.label){case 0:return this.logger.verbose("createRefreshTokenClient called"),[4,this.getClientConfiguration(e,n)];case 1:return a=u.sent(),[2,new Ri(a)]}})})},c.prototype.getClientConfiguration=function(e,n){return s(this,void 0,void 0,function(){var a;return l(this,function(u){switch(u.label){case 0:return this.logger.verbose("getClientConfiguration called"),[4,this.getDiscoveredAuthority(n)];case 1:return a=u.sent(),[2,{authOptions:{clientId:this.config.auth.clientId,authority:a,clientCapabilities:this.config.auth.clientCapabilities},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds},loggerOptions:{loggerCallback:this.config.system.loggerOptions.loggerCallback,piiLoggingEnabled:this.config.system.loggerOptions.piiLoggingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:e,libraryInfo:{sku:cc,version:Wi,cpu:"",os:""}}]}})})},c.prototype.preflightInteractiveRequest=function(e,n){if(this.logger.verbose("preflightInteractiveRequest called, validating app environment"),Re.blockReloadInHiddenIframes(),this.interactionInProgress())throw Q.createInteractionInProgressError();return this.initializeAuthorizationRequest(e,n)},c.prototype.preflightBrowserEnvironmentCheck=function(e){if(this.logger.verbose("preflightBrowserEnvironmentCheck started"),Re.blockNonBrowserEnvironment(this.isBrowserEnvironment),Re.blockRedirectInIframe(e,this.config.system.allowRedirectInIframe),Re.blockReloadInHiddenIframes(),Re.blockAcquireTokenInPopups(),e===t.InteractionType.Redirect&&this.config.cache.cacheLocation===t.BrowserCacheLocation.MemoryStorage&&!this.config.cache.storeAuthStateInCookie)throw Je.createInMemoryRedirectUnavailableError()},c.prototype.initializeBaseRequest=function(e){this.logger.verbose("Initializing BaseAuthRequest");var n=e.authority||this.config.auth.authority,a=f(e&&e.scopes||[]),u=e&&e.correlationId||this.browserCrypto.createNewGuid();return i(i({},e),{correlationId:u,authority:n,scopes:a})},c.prototype.initializeServerTelemetryManager=function(e,n,a){this.logger.verbose("initializeServerTelemetryManager called");var u={clientId:this.config.auth.clientId,correlationId:n,apiId:e,forceRefresh:a||!1,wrapperSKU:this.wrapperSKU,wrapperVer:this.wrapperVer};return new ac(u,this.browserStorage)},c.prototype.initializeAuthorizationRequest=function(e,n){this.logger.verbose("initializeAuthorizationRequest called");var a=this.getRedirectUri(e.redirectUri),u={interactionType:n},h=rr.setRequestState(this.browserCrypto,e&&e.state||"",u),p=e.authenticationScheme||t.AuthenticationScheme.BEARER,g=i(i({},this.initializeBaseRequest(e)),{redirectUri:a,state:h,nonce:e.nonce||this.browserCrypto.createNewGuid(),responseMode:qe.FRAGMENT,authenticationScheme:p}),_=e.account||this.getActiveAccount();if(_&&(this.logger.verbose("Setting validated request account"),this.logger.verbosePii("Setting validated request account: "+_),g.account=_),N.isEmpty(g.loginHint)){var S=this.browserStorage.getTemporaryCache(k.ADAL_ID_TOKEN);if(S){var T=new Kt(S,this.browserCrypto);this.browserStorage.removeItem(k.ADAL_ID_TOKEN),T.claims&&T.claims.upn&&(this.logger.verbose("No SSO params used and ADAL token retrieved, setting ADAL upn as loginHint"),g.loginHint=T.claims.upn)}}return this.browserStorage.updateCacheEntries(g.state,g.nonce,g.authority),g},c.prototype.initializeAuthorizationCodeRequest=function(e){return s(this,void 0,void 0,function(){var n,a;return l(this,function(u){switch(u.label){case 0:return[4,this.browserCrypto.generatePkceCodes()];case 1:return n=u.sent(),a=i(i({},e),{redirectUri:e.redirectUri,code:"",codeVerifier:n.verifier}),e.codeChallenge=n.challenge,e.codeChallengeMethod=le,[2,a]}})})},c.prototype.initializeLogoutRequest=function(e){if(this.logger.verbose("initializeLogoutRequest called"),this.interactionInProgress())throw Q.createInteractionInProgressError();var n=i({correlationId:this.browserCrypto.createNewGuid()},e);return e&&e.postLogoutRedirectUri===null?this.logger.verbose("postLogoutRedirectUri passed as null, not settibng post logout redirect uri"):e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request"),n.postLogoutRedirectUri=Ce.getAbsoluteUrl(e.postLogoutRedirectUri,Re.getCurrentUri())):this.config.auth.postLogoutRedirectUri===null?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect"):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri"),n.postLogoutRedirectUri=Ce.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,Re.getCurrentUri())):(this.logger.verbose("Setting postLogoutRedirectUri to current page"),n.postLogoutRedirectUri=Ce.getAbsoluteUrl(Re.getCurrentUri(),Re.getCurrentUri())),n},c.prototype.emitEvent=function(e,n,a,u){var h=this;if(this.isBrowserEnvironment){var p={eventType:e,interactionType:n||null,payload:a||null,error:u||null,timestamp:Date.now()};this.logger.info("Emitting event: "+e),this.eventCallbacks.forEach(function(g,_){h.logger.verbose("Emitting event to callback "+_+": "+e),g.apply(null,[p])})}},c.prototype.addEventCallback=function(e){if(this.isBrowserEnvironment){var n=this.browserCrypto.createNewGuid();return this.eventCallbacks.set(n,e),this.logger.verbose("Event callback registered with id: "+n),n}return null},c.prototype.removeEventCallback=function(e){this.eventCallbacks.delete(e),this.logger.verbose("Event callback "+e+" removed.")},c.prototype.getLogger=function(){return this.logger},c.prototype.setLogger=function(e){this.logger=e},c.prototype.initializeWrapperLibrary=function(e,n){this.wrapperSKU=e,this.wrapperVer=n},c.prototype.setNavigationClient=function(e){this.navigationClient=e},c}()),_c={acquireTokenPopup:function(){return Promise.reject(Je.createStubPcaInstanceCalledError())},acquireTokenRedirect:function(){return Promise.reject(Je.createStubPcaInstanceCalledError())},acquireTokenSilent:function(){return Promise.reject(Je.createStubPcaInstanceCalledError())},getAllAccounts:function(){return[]},getAccountByHomeId:function(){return null},getAccountByUsername:function(){return null},getAccountByLocalId:function(){return null},handleRedirectPromise:function(){return Promise.reject(Je.createStubPcaInstanceCalledError())},loginPopup:function(){return Promise.reject(Je.createStubPcaInstanceCalledError())},loginRedirect:function(){return Promise.reject(Je.createStubPcaInstanceCalledError())},logout:function(){return Promise.reject(Je.createStubPcaInstanceCalledError())},logoutRedirect:function(){return Promise.reject(Je.createStubPcaInstanceCalledError())},logoutPopup:function(){return Promise.reject(Je.createStubPcaInstanceCalledError())},ssoSilent:function(){return Promise.reject(Je.createStubPcaInstanceCalledError())},addEventCallback:function(){return null},removeEventCallback:function(){},getLogger:function(){throw Je.createStubPcaInstanceCalledError()},setLogger:function(){},setActiveAccount:function(){},getActiveAccount:function(){return null},initializeWrapperLibrary:function(){},setNavigationClient:function(){}},Ec=function(){function c(){}return c.getInteractionStatusFromEvent=function(e){switch(e.eventType){case t.EventType.LOGIN_START:return t.InteractionStatus.Login;case t.EventType.SSO_SILENT_START:return t.InteractionStatus.SsoSilent;case t.EventType.ACQUIRE_TOKEN_START:if(e.interactionType===t.InteractionType.Redirect||e.interactionType===t.InteractionType.Popup)return t.InteractionStatus.AcquireToken;break;case t.EventType.HANDLE_REDIRECT_START:return t.InteractionStatus.HandleRedirect;case t.EventType.LOGOUT_START:return t.InteractionStatus.Logout;case t.EventType.LOGIN_SUCCESS:case t.EventType.SSO_SILENT_SUCCESS:case t.EventType.HANDLE_REDIRECT_END:case t.EventType.LOGIN_FAILURE:case t.EventType.SSO_SILENT_FAILURE:case t.EventType.LOGOUT_END:return t.InteractionStatus.None;case t.EventType.ACQUIRE_TOKEN_SUCCESS:case t.EventType.ACQUIRE_TOKEN_FAILURE:if(e.interactionType===t.InteractionType.Redirect||e.interactionType===t.InteractionType.Popup)return t.InteractionStatus.None}return null},c}();t.AccountEntity=st,t.AuthError=ie,t.AuthErrorMessage=_n,t.BrowserAuthError=Q,t.BrowserAuthErrorMessage=M,t.BrowserConfigurationAuthError=Je,t.BrowserConfigurationAuthErrorMessage=Qe,t.BrowserUtils=Re,t.EventMessageUtils=Ec,t.InteractionRequiredAuthError=tr,t.Logger=Cn,t.NavigationClient=Bi,t.PublicClientApplication=wc,t.StringUtils=N,t.UrlString=Ce,t.stubbedPublicClientApplication=_c,Object.defineProperty(t,"__esModule",{value:!0})});/*! @azure/msal-common v14.0.2 2023-08-18 */var cr;(function(t){t[t.Error=0]="Error",t[t.Warning=1]="Warning",t[t.Info=2]="Info",t[t.Verbose=3]="Verbose",t[t.Trace=4]="Trace"})(cr||(cr={}));const Wa={auth:{clientId:"aa4ec92e-568b-4328-ae82-954e7273980a",authority:"https://login.microsoftonline.com/f51d5f08-9722-410a-9196-824932f109a0",redirectUri:"http://localhost:5173/",postLogoutRedirectUri:"http://localhost:5173/"},cache:{cacheLocation:"sessionStorage",storeAuthStateInCookie:!0},system:{loggerOptions:{loggerCallback:(t,r,o)=>{if(!o)switch(t){case cr.Error:console.error(r);return;case cr.Info:console.info(r);return;case cr.Verbose:console.debug(r);return;case cr.Warning:console.warn(r);return}}}}},Th={scopes:["openid","profile","User.Read"]},$n={scopes:["User.Read"],forceRefresh:!0};function Vn(t){const r=document.getElementById("username");console.log("User "+t+" logged in successfully at "+new Date().toString()+"."),r&&(r.textContent=t)}function Sh(t){let r="";const o=new msal.PublicClientApplication(Wa);tn(async()=>{try{const y=await o.handleRedirectPromise();await i(y)}catch(y){console.error(y)}});async function i(y){y!==null?(r=y.account.username,o.setActiveAccount(y.account),Vn(r),await v($n)):s()}function s(){const y=o.getAllAccounts();y.length===0?(console.warn("No accounts detected"),l()):y.length>1?(console.warn("Multiple accounts detected."),r=y[0].username,o.setActiveAccount(y[0]),Vn(r),v($n)):y.length===1&&(r=y[0].username,o.setActiveAccount(y[0]),Vn(r),v($n))}async function l(){await o.loginRedirect(Th)}function d(){const y={account:o.getAccountByUsername(r),postLogoutRedirectUri:Wa.auth.redirectUri};o.logoutRedirect(y)}let f="";async function v(y){if(y.account=o.getActiveAccount(),!y.account)throw new Error("No active account found");try{const m=await o.acquireTokenSilent(y);if(f=m.accessToken,Cs.set(m.accessToken),Ts.set(m.idToken),typeof makeRequest=="function")try{}catch(E){if(E.errorMessage&&E.errorMessage.indexOf("expired")>-1){console.warn("Token expired. Signing out..."),d();return}console.error(E)}}catch(m){m instanceof msal.InteractionRequiredAuthError?o.isInteractionInProgress()||o.acquireTokenRedirect(y):console.warn(m)}}return[]}class Ah extends qt{constructor(r){super(),Ft(this,r,Sh,null,Lt,{})}}const Ih=""+new URL("../assets/Logo_Competec.84e16548.jpg",import.meta.url).href,kh=""+new URL("../assets/Logo_Alltron.a6ec27f4.jpg",import.meta.url).href,Rh=""+new URL("../assets/Logo_Brack.ch.f8e72676.jpg",import.meta.url).href,Oh=""+new URL("../assets/Logo_Jamei.1eb0caa6.jpg",import.meta.url).href,Ph=""+new URL("../assets/Furber_black.cbd3108e.jpg",import.meta.url).href,Nh=""+new URL("../assets/Medidor_RGB.602bdff4.jpg",import.meta.url).href,Uh=["Competec","Alltron","Brack","Jamei","Furber","Medidor"],Ga={Competec:Ih,Alltron:kh,Brack:Rh,Jamei:Oh,Furber:Ph,Medidor:Nh};eo.subscribe(t=>{Uh.includes(t)?to.set(t):to.set("Competec")});function za(t){let r,o,i,s=t[0]("page.MaintenanceHeading",{default:"Server Maintenance"})+"",l,d,f,v=t[0]("page.MaintenanceText",{default:"The server is currently undergoing maintenance. Please try again later."})+"",y;return{c(){r=te("div"),o=te("div"),i=te("h2"),l=ct(s),d=Oe(),f=te("p"),y=ct(v),this.h()},l(m){r=re(m,"DIV",{class:!0});var E=se(r);o=re(E,"DIV",{class:!0});var w=se(o);i=re(w,"H2",{});var b=se(i);l=ut(b,s),b.forEach(z),d=Pe(w),f=re(w,"P",{});var C=se(f);y=ut(C,v),C.forEach(z),w.forEach(z),E.forEach(z),this.h()},h(){Y(o,"class","modal-content svelte-1fwxerm"),Y(r,"class","modal svelte-1fwxerm")},m(m,E){Ae(m,r,E),j(r,o),j(o,i),j(i,l),j(o,d),j(o,f),j(f,y)},p(m,E){E&1&&s!==(s=m[0]("page.MaintenanceHeading",{default:"Server Maintenance"})+"")&&zt(l,s),E&1&&v!==(v=m[0]("page.MaintenanceText",{default:"The server is currently undergoing maintenance. Please try again later."})+"")&&zt(y,v)},d(m){m&&z(r)}}}function Mh(t){let r,o=t[0]&&za(t);return{c(){o&&o.c(),r=xt()},l(i){o&&o.l(i),r=xt()},m(i,s){o&&o.m(i,s),Ae(i,r,s)},p(i,[s]){i[0]?o?o.p(i,s):(o=za(i),o.c(),o.m(r.parentNode,r)):o&&(o.d(1),o=null)},i:it,o:it,d(i){i&&z(r),o&&o.d(i)}}}function Dh(t,r,o){let i;return $a(t,mo,s=>o(0,i=s)),[i]}class xh extends qt{constructor(r){super(),Ft(this,r,Dh,Mh,Lt,{})}}function Lh(t){let r,o="Loading...";return{c(){r=te("p"),r.textContent=o},l(i){r=re(i,"P",{"data-svelte-h":!0}),$t(r)!=="svelte-qdsr2u"&&(r.textContent=o)},m(i,s){Ae(i,r,s)},p:it,i:it,o:it,d(i){i&&z(r)}}}function qh(t){let r,o,i,s,l,d,f,v,y,m,E=t[2]("page.title",{default:"Lieftertermine"})+"",w,b,C,k=t[2]("button.ConfirmMessage",{default:"default"})+"",P,I,L,U,D,we,H=t[2]("page.hint",{default:"Hinweise"})+"",B,O,W,K=t[2]("page.text",{default:"Anbei finden Sie eine Liste mit den aktuell offenen oder abgelaufenen Lieferterminen. Es kann, durch Verzögerungen im Wareneingang, dazu kommen, dass in der Liste Transitware enthalten ist. Bitte ergänzen Sie die Liste mit einem Zukunftsliefertermin in der Spalte «Neue Lieferdatum». Falls Sie keine Schätzung des Liefertermins haben, setzten Sie das «X» bei Liefertermin unbekannt."})+"",le,Z,he,X,x;f=new Ch({props:{src:Ga[t[0]]}}),L=new yh({});const Le=[Hh,Fh],Ue=[];function at(ae,pe){return ae[1]?0:1}return he=at(t),X=Ue[he]=Le[he](t),{c(){r=te("div"),o=Oe(),i=te("div"),s=te("nav"),l=te("div"),d=te("a"),Vt(f.$$.fragment),v=Oe(),y=te("button"),m=te("h3"),w=ct(E),b=Oe(),C=te("button"),P=ct(k),I=Oe(),Vt(L.$$.fragment),U=Oe(),D=te("header"),we=te("h2"),B=ct(H),O=Oe(),W=te("p"),le=ct(K),Z=Oe(),X.c(),this.h()},l(ae){r=re(ae,"DIV",{}),se(r).forEach(z),o=Pe(ae),i=re(ae,"DIV",{class:!0});var pe=se(i);s=re(pe,"NAV",{class:!0});var qe=se(s);l=re(qe,"DIV",{class:!0});var Ee=se(l);d=re(Ee,"A",{href:!0,class:!0});var Me=se(d);Yt(f.$$.fragment,Me),Me.forEach(z),v=Pe(Ee),y=re(Ee,"BUTTON",{class:!0});var Fe=se(y);m=re(Fe,"H3",{});var ne=se(m);w=ut(ne,E),ne.forEach(z),Fe.forEach(z),b=Pe(Ee),C=re(Ee,"BUTTON",{id:!0,class:!0});var ge=se(C);P=ut(ge,k),ge.forEach(z),I=Pe(Ee),Yt(L.$$.fragment,Ee),Ee.forEach(z),qe.forEach(z),U=Pe(pe),D=re(pe,"HEADER",{});var ke=se(D);we=re(ke,"H2",{});var Te=se(we);B=ut(Te,H),Te.forEach(z),O=Pe(ke),W=re(ke,"P",{});var $=se(W);le=ut($,K),$.forEach(z),ke.forEach(z),Z=Pe(pe),X.l(pe),pe.forEach(z),this.h()},h(){Y(d,"href","/"),Y(d,"class","margin5"),Y(y,"class","navbar-brand btn btn-link mx-auto"),Y(C,"id","confirm-all-changes-btn"),Y(C,"class","py-2 px-2 rounded mb-1 mt-1"),Y(l,"class","d-flex w-100 justify-content-between stickyHeader"),Y(s,"class","navbar navbar-expand-lg navbar-light bg-light"),Y(i,"class","container-fluid")},m(ae,pe){Ae(ae,r,pe),Ae(ae,o,pe),Ae(ae,i,pe),j(i,s),j(s,l),j(l,d),Qt(f,d,null),j(l,v),j(l,y),j(y,m),j(m,w),j(l,b),j(l,C),j(C,P),j(l,I),Qt(L,l,null),j(i,U),j(i,D),j(D,we),j(we,B),j(D,O),j(D,W),j(W,le),j(i,Z),Ue[he].m(i,null),x=!0},p(ae,pe){const qe={};pe&1&&(qe.src=Ga[ae[0]]),f.$set(qe),(!x||pe&4)&&E!==(E=ae[2]("page.title",{default:"Lieftertermine"})+"")&&zt(w,E),(!x||pe&4)&&k!==(k=ae[2]("button.ConfirmMessage",{default:"default"})+"")&&zt(P,k),(!x||pe&4)&&H!==(H=ae[2]("page.hint",{default:"Hinweise"})+"")&&zt(B,H),(!x||pe&4)&&K!==(K=ae[2]("page.text",{default:"Anbei finden Sie eine Liste mit den aktuell offenen oder abgelaufenen Lieferterminen. Es kann, durch Verzögerungen im Wareneingang, dazu kommen, dass in der Liste Transitware enthalten ist. Bitte ergänzen Sie die Liste mit einem Zukunftsliefertermin in der Spalte «Neue Lieferdatum». Falls Sie keine Schätzung des Liefertermins haben, setzten Sie das «X» bei Liefertermin unbekannt."})+"")&&zt(le,K);let Ee=he;he=at(ae),he!==Ee&&(Ya(),gt(Ue[Ee],1,1,()=>{Ue[Ee]=null}),Va(),X=Ue[he],X||(X=Ue[he]=Le[he](ae),X.c()),mt(X,1),X.m(i,null))},i(ae){x||(mt(f.$$.fragment,ae),mt(L.$$.fragment,ae),mt(X),x=!0)},o(ae){gt(f.$$.fragment,ae),gt(L.$$.fragment,ae),gt(X),x=!1},d(ae){ae&&(z(r),z(o),z(i)),Jt(f),Jt(L),Ue[he].d()}}}function Fh(t){let r,o;return r=new fh({}),{c(){Vt(r.$$.fragment)},l(i){Yt(r.$$.fragment,i)},m(i,s){Qt(r,i,s),o=!0},i(i){o||(mt(r.$$.fragment,i),o=!0)},o(i){gt(r.$$.fragment,i),o=!1},d(i){Jt(r,i)}}}function Hh(t){let r,o;return r=new xh({}),{c(){Vt(r.$$.fragment)},l(i){Yt(r.$$.fragment,i)},m(i,s){Qt(r,i,s),o=!0},i(i){o||(mt(r.$$.fragment,i),o=!0)},o(i){gt(r.$$.fragment,i),o=!1},d(i){Jt(r,i)}}}function Bh(t){let r,o,i,s,l,d,f,v;r=new Ah({}),i=new ys({});const y=[qh,Lh],m=[];function E(w,b){return w[2]?0:1}return l=E(t),d=m[l]=y[l](t),{c(){Vt(r.$$.fragment),o=Oe(),Vt(i.$$.fragment),s=Oe(),d.c(),f=xt()},l(w){Yt(r.$$.fragment,w),o=Pe(w),Yt(i.$$.fragment,w),s=Pe(w),d.l(w),f=xt()},m(w,b){Qt(r,w,b),Ae(w,o,b),Qt(i,w,b),Ae(w,s,b),m[l].m(w,b),Ae(w,f,b),v=!0},p(w,[b]){let C=l;l=E(w),l===C?m[l].p(w,b):(Ya(),gt(m[C],1,1,()=>{m[C]=null}),Va(),d=m[l],d?d.p(w,b):(d=m[l]=y[l](w),d.c()),mt(d,1),d.m(f.parentNode,f))},i(w){v||(mt(r.$$.fragment,w),mt(i.$$.fragment,w),mt(d),v=!0)},o(w){gt(r.$$.fragment,w),gt(i.$$.fragment,w),gt(d),v=!1},d(w){w&&(z(o),z(s),z(f)),Jt(r,w),Jt(i,w),m[l].d(w)}}}function Kh(t,r,o){let i;$a(t,mo,d=>o(2,i=d));let s;to.subscribe(d=>{o(0,s=d)});let l=(()=>{const d=new Date,f=d.getHours(),v=d.getMinutes();return f>=2&&f<4||f===4&&v===0})();return setInterval(()=>{const d=new Date,f=d.getHours(),v=d.getMinutes();o(1,l=f>=2&&f<4||f===4&&v===0)},3e5),[s,l,i]}class zh extends qt{constructor(r){super(),Ft(this,r,Kh,Bh,Lt,{})}}export{zh as component};
